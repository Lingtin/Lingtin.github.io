<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    üê≥Â∞èÂí∏È±º-Ëá™Â∑±ÁöÑÂøÉÊÉÖ
</title>
<!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/r29/html5.js"></script><![endif]-->
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<meta name="author" content="Â∞èÂí∏È±º-webÁü•ËØÜÂàÜ‰∫´">
<meta name="description" content="The only dream and a good girl in the world, not fail! ">
<meta name="keywords" content="My own mood">
<script async src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
<link rel="stylesheet" href="https://lingtin.github.io/styles/main.css" />
<link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>

        <link rel="stylesheet" href="/assets/media/css/style.min.css" />
        <script src="/assets/media/script/tocbot.min.js"></script>
        <script src="/assets/media/script/script.min.js"></script>
        <script src="/assets/media/script/icon.min.js"></script>
        
            <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/Card/prism.min.js"></script>
            <link rel="stylesheet" href="" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css">
            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js"></script>
            
                <!--ÁÇπÂáªÁâπÊïà-->
                <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js"></script>
                
                    <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/APlayer.min.js"></script>
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
                    
                        <!--CDNÊ†∑Âºè-->
                        <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/hit-kounter-lc-0.3.0.js"></script>
                        <script src="https://cdn1.lncld.net/static/js/av-min-1.5.0.js"></script>
                        
                            <script>
                                (function() {
                                    var bp = document.createElement('script');
                                    var curProtocol = window.location.protocol.split(':')[0];
                                    if (curProtocol === 'https') {
                                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                                    } else {
                                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                                    }
                                    var s = document.getElementsByTagName("script")[0];
                                    s.parentNode.insertBefore(bp, s);
                                })();
                            </script>
                            
                                <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156097411-1"></script>
                                <script>
                                    window.dataLayer = window.dataLayer || [];

                                    function gtag() {
                                        dataLayer.push(arguments);
                                    }
                                    gtag('js', new Date());
                                    gtag('config', 'UA-156097411-1');
                                </script>
                                
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://lingtin.github.io">
                    üê≥Â∞èÂí∏È±º-Ëá™Â∑±ÁöÑÂøÉÊÉÖ
                </a>
            </div>
            <div id="tp-weather-widget"></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        È¶ñÈ°µ
                    </a>
                    
                    <a class="menu-item" href="/posts/">
                        ÊñáÁ´†
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        ÂΩíÊ°£
                    </a>
                    
                    <a class="menu-item" href="/friends/">
                        ÂèãÈìæ
                    </a>
                    
                    <a class="menu-item" href="/post/doc/">
                        ÊñáÊ°£
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        ÂÖ≥‰∫é
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>
            <form id="gridea-search-form" data-update="1597977814576" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
            </form>
        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://lingtin.github.io">
                            üê≥Â∞èÂí∏È±º-Ëá™Â∑±ÁöÑÂøÉÊÉÖ
                        </a>
                        <!--en-->
                        <a id="mobile-toggle-theme-en" class="a en">&nbsp;Dark</a>
                        <!--zh-->
                        <a id="mobile-toggle-theme-zh" class="a zh">&nbsp;&#x6697;&#x9ED1;</a>
                    </div>
                    <form id="gridea-search-form" data-update="1597977814576" action="/search/index.html">
                        <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
                    </form>
                    <!--en-->
                    <div class="menu-toggle" id="menu-toggle-en" onclick="mobileBtn()">&#9776; Menu</div>
                    <!--zh-->
                    <div class="menu-toggle" id="menu-toggle-zh" onclick="mobileBtn()">&#9776; &#x83DC;&#x5355;</div>

                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            È¶ñÈ°µ
                        </a>
                        
                        <a class="menu-item" href="/posts/">
                            ÊñáÁ´†
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            ÂΩíÊ°£
                        </a>
                        
                        <a class="menu-item" href="/friends/">
                            ÂèãÈìæ
                        </a>
                        
                        <a class="menu-item" href="/post/doc/">
                            ÊñáÊ°£
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            ÂÖ≥‰∫é
                        </a>
                        
                </div>
            </div>
        </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementById("menu-toggle-en");
        var toggleMenu_zh = document.getElementById("menu-toggle-zh");

        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.display != "none") {
            if (toggleMenu.classList.contains("active")) {
                toggleMenu.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu.classList.add("active")
                mobileMenu.classList.add("active")
            }
        } else if (toggleMenu_zh.display != "none") {
            if (toggleMenu_zh.classList.contains("active")) {
                toggleMenu_zh.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu_zh.classList.add("active")
                mobileMenu.classList.add("active")
            }
        }

    }
</script>



    <script>
        (function(a, h, g, f, e, d, c, b) {
            b = function() {
                d = h.createElement(g);
                c = h.getElementsByTagName(g)[0];
                d.src = e;
                d.charset = "utf-8";
                d.async = 1;
                c.parentNode.insertBefore(d, c)
            };
            a["SeniverseWeatherWidgetObject"] = f;
            a[f] || (a[f] = function() {
                (a[f].q = a[f].q || []).push(arguments)
            });
            a[f].l = +new Date();
            if (a.attachEvent) {
                a.attachEvent("onload", b)
            } else {
                a.addEventListener("load", b, false)
            }
        }(window, document, "script", "SeniverseWeatherWidget", "//cdn.sencdn.com/widget2/static/js/bundle.js?t=" + parseInt((new Date().getTime() / 100000000).toString(), 10)));
        window.SeniverseWeatherWidget('show', {
            flavor: "slim",
            location: "WWEFQFPJZ7T8",
            geolocation: true,
            language: "auto",
            unit: "c",
            theme: "auto",
            token: "61bcc333-3305-4728-9465-6785274bb0a3",
            hover: "enabled",
            container: "tp-weather-widget"
        })
    </script>
    
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                NodeJSËøõÁ®ãÁÆ°ÁêÜÂô®pm2
                            </h1>
                            
                                    <!--zh-->
                                    <div class="post-meta zh">
                                        &#x4F5C;&#x8005;:
                                        <a itemprop="author" rel="author" href="/">
                                            üê≥Â∞èÂí∏È±º-Ëá™Â∑±ÁöÑÂøÉÊÉÖ
                                        </a>
                                        <span class="post-time">&#x65E5;&#x671F;: <a href="#">2019-06-12</a></span>
                                        <span class="post-readtime">&#x9605;&#x8BFB;&#x65F6;&#x95F4;:<a
                                    href="#">12.3
                                    &#x5206;&#x949F;</a></span>
                                        <span class="post-words">&#x5B57;&#x6570;:<a href="#">3109</a></span>
                                        
                                            <span class="post-category">&#x5206;&#x7C7B;:
                                
                                <a href="https://lingtin.github.io/tag/2PLgaq7l7/">nodejs</a>
                                
                                <a href="https://lingtin.github.io/tag/xd5TVJ9ej/">contos</a>
                                
                            </span>
                                            
                                                ÈòÖËØªÈáè:
                                                <span data-hk-page="current"> - </span>
                                                
                                    </div>
                                    
                        </header>
                        
                            <img class="post-feature-image" src="https://lingtin.github.io/post-images/mzEtFKB0d.png" alt="">
                          
                        <div class="post-content">
                            <p><strong>pm2ÊòØ‰∏Ä‰∏™Â∏¶ÊúâË¥üËΩΩÂùáË°°ÂäüËÉΩÁöÑNodeÂ∫îÁî®ÁöÑËøõÁ®ãÁÆ°ÁêÜÂô®„ÄÇÂΩì‰Ω†Ë¶ÅÊää‰Ω†ÁöÑÁã¨Á´ã‰ª£Á†ÅÂà©Áî®ÂÖ®ÈÉ®ÁöÑÊúçÂä°Âô®‰∏äÁöÑÊâÄÊúâCPUÔºåÂπ∂‰øùËØÅËøõÁ®ãÊ∞∏ËøúÈÉΩÊ¥ªÁùÄÔºå0ÁßíÁöÑÈáçËΩΩÔºå PM2ÊòØÂÆåÁæéÁöÑ„ÄÇ</strong></p>
<p><strong>pm2ÊòØÂºÄÊ∫êÁöÑÂü∫‰∫éNodejsÁöÑËøõÁ®ãÁÆ°ÁêÜÂô®ÔºåÂåÖÊã¨ÂÆàÊä§ËøõÁ®ãÔºåÁõëÊéßÔºåÊó•ÂøóÁöÑ‰∏ÄÊï¥Â•óÂÆåÊï¥ÁöÑÂäüËÉΩÔºåÂü∫Êú¨ÊòØNodejsÂ∫îÁî®Á®ãÂ∫è‰∏ç‰∫åÁöÑÂÆàÊä§ËøõÁ®ãÈÄâÊã©Ôºå‰∫ãÂÆû‰∏äÂÆÉÂπ∂‰∏ç‰ªÖ‰ªÖÂèØ‰ª•ÂêØÂä®NodejsÁöÑÁ®ãÂ∫èÔºåÂè™Ë¶ÅÊòØ‰∏ÄËà¨ÁöÑËÑöÊú¨ÁöÑÁ®ãÂ∫èÂÆÉÂêåÊ†∑ÂèØ‰ª•ËÉú‰ªª„ÄÇ</strong></p>
<h4 id="~-‰∏ªË¶ÅÁâπÊÄß">~„ÄÅ ‰∏ªË¶ÅÁâπÊÄßÔºö</h4>
<p>ÂÜÖÂª∫Ë¥üËΩΩÂùáË°°Ôºà‰ΩøÁî®Node cluster ÈõÜÁæ§Ê®°ÂùóÔºâ<br>
ÂêéÂè∞ËøêË°å<br>
0ÁßíÂÅúÊú∫ÈáçËΩΩÔºàËøôÈ°πÂäüËÉΩÂÖÅËÆ∏‰Ω†ÈáçÊñ∞ËΩΩÂÖ•‰ª£Á†ÅËÄå‰∏çÁî®Â§±ÂéªËØ∑Ê±ÇËøûÊé•„ÄÇÔºâ<br>
ÂÖ∑ÊúâUbuntuÂíåCentOS ÁöÑÂêØÂä®ËÑöÊú¨<br>
ÂÅúÊ≠¢‰∏çÁ®≥ÂÆöÁöÑËøõÁ®ãÔºàÈÅøÂÖçÊó†ÈôêÂæ™ÁéØÔºâ<br>
ÊéßÂà∂Âè∞Ê£ÄÊµã<br>
Êèê‰æõ HTTP API<br>
ËøúÁ®ãÊéßÂà∂ÂíåÂÆûÊó∂ÁöÑÊé•Âè£API ( Nodejs Ê®°Âùó,ÂÖÅËÆ∏ÂíåPM2ËøõÁ®ãÁÆ°ÁêÜÂô®‰∫§‰∫í )</p>
<h4 id="~-‰ΩøÁî®ÁéØÂ¢É">~„ÄÅ ‰ΩøÁî®ÁéØÂ¢ÉÔºö</h4>
<p>‰ªÖËÉΩÁî®‰∫éwebÂ∫îÁî®<br>
ËøêË°å‰∫éNode 0.11.xÁâàÊú¨<br>
ËøêË°å‰∫é cluster Ê®°ÂºèÔºàÈªòËÆ§Ê®°ÂºèÔºâ</p>
<h4 id="~-ÂÆâË£Ö">~„ÄÅ ÂÆâË£Ö</h4>
<pre><code>npm install -g pm2
</code></pre>
<p>pm2ÂÆâË£ÖÂ•ΩÂêéÔºå‰ºöËá™Âä®ÂàõÂª∫‰∏ãÈù¢ÁõÆÂΩïÔºö</p>
<pre><code>/.pm2  
/.pm2/logs   
/.pm2/pids  
/.pm2/pm2.log 
/.pm2/pm2.pid 
/.pm2/rpc.sock 
/.pm2/pub.sock 
/.pm2/conf.js 
</code></pre>
<h4 id="~-Áî®Ê≥ï">~„ÄÅÁî®Ê≥ï</h4>
<pre><code>npm install pm2 -g                   # ÂëΩ‰ª§Ë°åÂÆâË£Ö pm2 
pm2 start app.js -i 4                #ÂêéÂè∞ËøêË°åpm2ÔºåÂêØÂä®4‰∏™app.js 
                                               # ‰πüÂèØ‰ª•Êää'max' ÂèÇÊï∞‰º†ÈÄíÁªô start
                                               # Ê≠£Á°ÆÁöÑËøõÁ®ãÊï∞ÁõÆ‰æùËµñ‰∫éCpuÁöÑÊ†∏ÂøÉÊï∞ÁõÆ
pm2 start app.js --name my-api # ÂëΩÂêçËøõÁ®ã
pm2 list                                 # ÊòæÁ§∫ÊâÄÊúâËøõÁ®ãÁä∂ÊÄÅ
pm2 monit                                # ÁõëËßÜÊâÄÊúâËøõÁ®ã
pm2 logs                                 #  ÊòæÁ§∫ÊâÄÊúâËøõÁ®ãÊó•Âøó
pm2 stop all                             # ÂÅúÊ≠¢ÊâÄÊúâËøõÁ®ã
pm2 restart all                          # ÈáçÂêØÊâÄÊúâËøõÁ®ã
pm2 reload all                           # 0ÁßíÂÅúÊú∫ÈáçËΩΩËøõÁ®ã (Áî®‰∫é NETWORKED ËøõÁ®ã)
pm2 stop 0                               # ÂÅúÊ≠¢ÊåáÂÆöÁöÑËøõÁ®ã
pm2 restart 0                            # ÈáçÂêØÊåáÂÆöÁöÑËøõÁ®ã
pm2 startup                              # ‰∫ßÁîü init ËÑöÊú¨ ‰øùÊåÅËøõÁ®ãÊ¥ªÁùÄ
pm2 web                                  # ËøêË°åÂÅ•Â£ÆÁöÑ computer API endpoint (http://localhost:9615)
pm2 delete 0                             # ÊùÄÊ≠ªÊåáÂÆöÁöÑËøõÁ®ã
pm2 delete all                           # ÊùÄÊ≠ªÂÖ®ÈÉ®ËøõÁ®ã
</code></pre>
<p>ËøêË°åËøõÁ®ãÁöÑ‰∏çÂêåÊñπÂºèÔºö</p>
<pre><code>$ pm2 start app.js -i max  # Ê†πÊçÆÊúâÊïàCPUÊï∞ÁõÆÂêØÂä®ÊúÄÂ§ßËøõÁ®ãÊï∞ÁõÆ
$ pm2 start app.js -i 3      # ÂêØÂä®3‰∏™ËøõÁ®ã
$ pm2 start app.js -x        #Áî®forkÊ®°ÂºèÂêØÂä® app.js ËÄå‰∏çÊòØ‰ΩøÁî® cluster
$ pm2 start app.js -x -- -a 23   # Áî®forkÊ®°ÂºèÂêØÂä® app.js Âπ∂‰∏î‰º†ÈÄíÂèÇÊï∞ (-a 23)
$ pm2 start app.js --name serverone  # ÂêØÂä®‰∏Ä‰∏™ËøõÁ®ãÂπ∂ÊääÂÆÉÂëΩÂêç‰∏∫ serverone
$ pm2 stop serverone       # ÂÅúÊ≠¢ serverone ËøõÁ®ã
$ pm2 start app.json        # ÂêØÂä®ËøõÁ®ã, Âú® app.jsonÈáåËÆæÁΩÆÈÄâÈ°π
$ pm2 start app.js -i max -- -a 23                   #Âú®--‰πãÂêéÁªô app.js ‰º†ÈÄíÂèÇÊï∞
$ pm2 start app.js -i max -e err.log -o out.log  # ÂêØÂä® Âπ∂ ÁîüÊàê‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂
‰Ω†‰πüÂèØ‰ª•ÊâßË°åÁî®ÂÖ∂‰ªñËØ≠Ë®ÄÁºñÂÜôÁöÑapp  ( fork Ê®°Âºè):
$ pm2 start my-bash-script.sh    -x --interpreter bash
$ pm2 start my-python-script.py -x --interpreter python
</code></pre>
<p><strong>pm2 list</strong><br>
ÂàóÂá∫Áî±pm2ÁÆ°ÁêÜÁöÑÊâÄÊúâËøõÁ®ã‰ø°ÊÅØÔºåËøò‰ºöÊòæÁ§∫‰∏Ä‰∏™ËøõÁ®ã‰ºöË¢´ÂêØÂä®Â§öÂ∞ëÊ¨°ÔºåÂõ†‰∏∫Ê≤°Â§ÑÁêÜÁöÑÂºÇÂ∏∏„ÄÇ</p>
<p><strong>pm2 monit</strong><br>
ÁõëËßÜÊØè‰∏™nodeËøõÁ®ãÁöÑCPUÂíåÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ</p>
<h4 id="~-ÂÖ•Èó®ÊïôÁ®ã">~„ÄÅÂÖ•Èó®ÊïôÁ®ã</h4>
<p>ÊåëÊàë‰ª¨ÊúÄÁà±ÁöÑexpressÂ∫îÁî®Êù•‰∏æ‰æã„ÄÇ‰∏ÄËà¨Êàë‰ª¨ÈÉΩÊòØÈÄöËøánpm startÂêØÂä®Â∫îÁî®ÔºåÂÖ∂ÂÆûÂ∞±ÊòØË∞ÉÁî®node ./bin/www„ÄÇÈÇ£‰πàÔºåÊç¢Êàêpm2Â∞±ÊòØ</p>
<pre><code>pm2 start ./bin/www ‚Äìwatch
</code></pre>
<p>ËøôÈáåÁî®‰∫Ü‚ÄìwatchÂèÇÊï∞ÔºåÊÑèÂë≥ÁùÄÂΩì‰Ω†ÁöÑexpressÂ∫îÁî®‰ª£Á†ÅÂèëÁîüÂèòÂåñÊó∂Ôºåpm2‰ºöÂ∏Æ‰Ω†ÈáçÂêØÊúçÂä°„ÄÇ</p>
<h4 id="~-ÂèÇÊï∞ËØ¥Êòé">~„ÄÅÂèÇÊï∞ËØ¥ÊòéÔºö</h4>
<pre><code>--watchÔºöÁõëÂê¨Â∫îÁî®ÁõÆÂΩïÁöÑÂèòÂåñÔºå‰∏ÄÊó¶ÂèëÁîüÂèòÂåñÔºåËá™Âä®ÈáçÂêØ„ÄÇÂ¶ÇÊûúË¶ÅÁ≤æÁ°ÆÁõëÂê¨„ÄÅ‰∏çËßÅÂê¨ÁöÑÁõÆÂΩïÔºåÊúÄÂ•ΩÈÄöËøáÈÖçÁΩÆÊñá‰ª∂„ÄÇ
-i --instancesÔºöÂêØÁî®Â§öÂ∞ë‰∏™ÂÆû‰æãÔºåÂèØÁî®‰∫éË¥üËΩΩÂùáË°°„ÄÇÂ¶ÇÊûú-i 0ÊàñËÄÖ-i maxÔºåÂàôÊ†πÊçÆÂΩìÂâçÊú∫Âô®Ê†∏Êï∞Á°ÆÂÆöÂÆû‰æãÊï∞ÁõÆ„ÄÇ
--ignore-watchÔºöÊéíÈô§ÁõëÂê¨ÁöÑÁõÆÂΩï/Êñá‰ª∂ÔºåÂèØ‰ª•ÊòØÁâπÂÆöÁöÑÊñá‰ª∂ÂêçÔºå‰πüÂèØ‰ª•ÊòØÊ≠£Âàô„ÄÇÊØîÂ¶Ç--ignore-watch=&quot;test node_modules &quot;some scripts&quot;&quot;
-n --nameÔºöÂ∫îÁî®ÁöÑÂêçÁß∞„ÄÇÊü•ÁúãÂ∫îÁî®‰ø°ÊÅØÁöÑÊó∂ÂÄôÂèØ‰ª•Áî®Âà∞„ÄÇ
-o --output &lt;path&gt;ÔºöÊ†áÂáÜËæìÂá∫Êó•ÂøóÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇ
-e --error &lt;path&gt;ÔºöÈîôËØØËæìÂá∫Êó•ÂøóÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇ
--interpreter &lt;interpreter&gt;Ôºöthe interpreter pm2 should use for executing app (bash, python...)„ÄÇÊØîÂ¶Ç‰Ω†Áî®ÁöÑcoffee scriptÊù•ÁºñÂÜôÂ∫îÁî®„ÄÇ
</code></pre>
<p>ÂÆåÊï¥ÂëΩ‰ª§Ë°åÂèÇÊï∞ÂàóË°®Ôºö</p>
<pre><code>pm2 start app.js ‚Äìwatch -i 2  
</code></pre>
<p>**ÈÖçÁΩÆÊñá‰ª∂ **</p>
<p>ÈÖçÁΩÆÊñá‰ª∂ÈáåÁöÑËÆæÁΩÆÈ°πÔºåË∑üÂëΩ‰ª§Ë°åÂèÇÊï∞Âü∫Êú¨ÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑ„ÄÇ</p>
<p>ÂèØ‰ª•ÈÄâÊã©jsÊàñËÄÖjsonÊñá‰ª∂ÔºåÂ∞±Áúã‰∏™‰∫∫Ê¥óÂ•Ω‰∫Ü„ÄÇ</p>
<p>jsonÊ†ºÂºèÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºåpm2ÂΩì‰ΩúÊôÆÈÄöÁöÑjsÊñá‰ª∂Êù•Â§ÑÁêÜÔºåÊâÄ‰ª•ÂèØ‰ª•Âú®ÈáåÈù¢Ê∑ªÂä†Ê≥®ÈáäÊàñËÄÖÁºñÂÜô‰ª£Á†ÅÔºåËøôÂØπ‰∫éÂä®ÊÄÅË∞ÉÊï¥ÈÖçÁΩÆÂæàÊúâÂ•ΩÂ§Ñ„ÄÇ</p>
<p>Â¶ÇÊûúÂêØÂä®ÁöÑÊó∂ÂÄôÊåáÂÆö‰∫ÜÈÖçÁΩÆÊñá‰ª∂ÔºåÈÇ£‰πàÂëΩ‰ª§Ë°åÂèÇÊï∞‰ºöË¢´ÂøΩÁï•„ÄÇÔºà‰∏™Âà´ÂèÇÊï∞Èô§Â§ñÔºåÊØîÂ¶Ç--envÔºâ<br>
‰∏æ‰∏™ÁÆÄÂçï‰æãÂ≠êÔºö</p>
<pre><code>{ 
    &quot;name&quot; : &quot;fis-receiver&quot;,                // Â∫îÁî®ÂêçÁß∞ 
    &quot;script&quot; : &quot;./bin/www&quot;,                 // ÂÆûÈôÖÂêØÂä®ËÑöÊú¨ 
    &quot;cwd&quot; : &quot;./&quot;,                           // ÂΩìÂâçÂ∑•‰ΩúË∑ØÂæÑ 
    &quot;watch&quot;: [                              // ÁõëÊéßÂèòÂåñÁöÑÁõÆÂΩïÔºå‰∏ÄÊó¶ÂèòÂåñÔºåËá™Âä®ÈáçÂêØ 
        &quot;bin&quot;, &quot;routers&quot; 
    ], 
    &quot;ignore_watch&quot; : [                      // ‰ªéÁõëÊéßÁõÆÂΩï‰∏≠ÊéíÈô§ 
        &quot;node_modules&quot;, &quot;logs&quot;, &quot;public&quot;
    ], 
    &quot;watch_options&quot;: { 
        &quot;followSymlinks&quot;: false 
    }, 
    &quot;error_file&quot; : &quot;./logs/app-err.log&quot;,    // ÈîôËØØÊó•ÂøóË∑ØÂæÑ 
    &quot;out_file&quot; : &quot;./logs/app-out.log&quot;,      // ÊôÆÈÄöÊó•ÂøóË∑ØÂæÑ 
    &quot;env&quot;: { 
        &quot;NODE_ENV&quot;: &quot;production&quot;            // ÁéØÂ¢ÉÂèòÈáèÔºåobjectÁ±ªÂûãÔºåÂ¶Ç{&quot;NODE_ENV&quot;:&quot;production&quot;, &quot;ID&quot;: &quot;42&quot;}Ôºõ
    },
    &quot;instances&quot; : &quot;max&quot;,                    // ÂºÄÂêØËøõÁ®ãÊï∞ÔºåÂèØ‰∏∫Êï∞ÂÄºÔºå‰πüÂèØ‰∏∫max„ÄÇ‰∏éÊúçÂä°Âô®cpuÊ†∏Êï∞Áõ∏ÂÖ≥„ÄÇÂ∫îÁî®ÂêØÂä®ÂÆû‰æã‰∏™Êï∞Ôºå‰ªÖÂú®clusterÊ®°ÂºèÊúâÊïàÔºåÈªòËÆ§‰∏∫forkÔºõ
    &quot;exec_mode&quot; : &quot;cluster&quot;                 // Â∫îÁî®ÂêØÂä®Ê®°ÂºèÔºåÊîØÊåÅforkÂíåclusterÊ®°ÂºèÔºõcluster(Â§öÊ†∏Êé®Ëçê)
    &quot;min_uptime&quot;: &quot;60s&quot;,                    // Â∫îÁî®ËøêË°åÂ∞ë‰∫éÊó∂Èó¥Ë¢´ËÆ§‰∏∫ÊòØÂºÇÂ∏∏ÂêØÂä®Ôºõ
    &quot;max_restarts&quot;: 30,                     // ÊúÄÂ§ßÂºÇÂ∏∏ÈáçÂêØÊ¨°Êï∞ÔºåÂç≥Â∞è‰∫émin_uptimeËøêË°åÊó∂Èó¥ÈáçÂêØÊ¨°Êï∞Ôºõ
    &quot;max_memory_restart&quot;: &quot;300M&quot;,           // ÊúÄÂ§ßÂÜÖÂ≠òÈôêÂà∂Êï∞ÔºåË∂ÖÂá∫Ëá™Âä®ÈáçÂêØÔºõ
    &quot;autorestart&quot;: true,                    // ÈªòËÆ§‰∏∫true, ÂèëÁîüÂºÇÂ∏∏ÁöÑÊÉÖÂÜµ‰∏ãËá™Âä®ÈáçÂêØÔºõ
}
</code></pre>
<p>pm2ÂêØÂä®Êñá‰ª∂Ôºå</p>
<pre><code>pm2 init
</code></pre>
<p>ÂàõÂª∫‰∏Ä‰∏™ecosystem.config.jsÁöÑÁ§∫‰æãÊñá‰ª∂ÔºåÊ†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<pre><code>module.exports =  {
  &quot;apps&quot;:[
    {
      &quot;name&quot;: &quot;test&quot;,
      &quot;cwd&quot;: &quot;/data/wwwroot/nodejs&quot;,
      &quot;script&quot;: &quot;./test.sh&quot;,
      &quot;exec_interpreter&quot;: &quot;bash&quot;,
      &quot;min_uptime&quot;: &quot;60s&quot;,
      &quot;max_restarts&quot;: 30,
      &quot;exec_mode&quot; : &quot;cluster_mode&quot;,
      &quot;error_file&quot; : &quot;./test-err.log&quot;,
      &quot;out_file&quot;: &quot;./test-out.log&quot;,
      &quot;pid_file&quot;: &quot;./test.pid&quot;
      &quot;watch&quot;: false
    }
]}
</code></pre>
<h4 id="~-ÂèÇÊï∞ËØ¥Êòé-2">~„ÄÅÂèÇÊï∞ËØ¥ÊòéÔºö</h4>
<p>appsÔºöjsonÁªìÊûÑÔºåappsÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØè‰∏Ä‰∏™Êï∞ÁªÑÊàêÂëòÂ∞±ÊòØÂØπÂ∫î‰∏Ä‰∏™pm2‰∏≠ËøêË°åÁöÑÂ∫îÁî®<br>
nameÔºöÂ∫îÁî®Á®ãÂ∫èÁöÑÂêçÁß∞<br>
cwdÔºöÂ∫îÁî®Á®ãÂ∫èÊâÄÂú®ÁöÑÁõÆÂΩï<br>
scriptÔºöÂ∫îÁî®Á®ãÂ∫èÁöÑËÑöÊú¨Ë∑ØÂæÑ<br>
exec_interpreterÔºöÂ∫îÁî®Á®ãÂ∫èÁöÑËÑöÊú¨Á±ªÂûãÔºåËøôÈáå‰ΩøÁî®ÁöÑshellÔºåÈªòËÆ§ÊòØnodejs<br>
min_uptimeÔºöÊúÄÂ∞èËøêË°åÊó∂Èó¥ÔºåËøôÈáåËÆæÁΩÆÁöÑÊòØ60sÂç≥Â¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÂú®60sÂÜÖÈÄÄÂá∫Ôºåpm2‰ºöËÆ§‰∏∫Á®ãÂ∫èÂºÇÂ∏∏ÈÄÄÂá∫ÔºåÊ≠§Êó∂Ëß¶ÂèëÈáçÂêØmax_restartsËÆæÁΩÆÊï∞Èáè<br>
autorestart  ÈªòËÆ§‰∏∫true, ÂèëÁîüÂºÇÂ∏∏ÁöÑÊÉÖÂÜµ‰∏ãËá™Âä®ÈáçÂêØÔºõ<br>
max_restartsÔºöËÆæÁΩÆÂ∫îÁî®Á®ãÂ∫èÂºÇÂ∏∏ÈÄÄÂá∫ÈáçÂêØÁöÑÊ¨°Êï∞ÔºåÈªòËÆ§15Ê¨°Ôºà‰ªé0ÂºÄÂßãËÆ°Êï∞Ôºâ<br>
exec_modeÔºöÂ∫îÁî®Á®ãÂ∫èÂêØÂä®Ê®°ÂºèÔºåËøôÈáåËÆæÁΩÆÁöÑÊòØclusterÔºàÈõÜÁæ§ÔºâÔºåÈªòËÆ§ÊòØfork<br>
error_fileÔºöËá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÁöÑÈîôËØØÊó•ÂøóÊñá‰ª∂<br>
out_fileÔºöËá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÊó•ÂøóÊñá‰ª∂<br>
pid_fileÔºöËá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÁöÑpidÊñá‰ª∂<br>
watchÔºöÊòØÂê¶ÂêØÁî®ÁõëÊéßÊ®°ÂºèÔºåÈªòËÆ§ÊòØfalse„ÄÇÂ¶ÇÊûúËÆæÁΩÆÊàêtrueÔºåÂΩìÂ∫îÁî®Á®ãÂ∫èÂèòÂä®Êó∂Ôºåpm2‰ºöËá™Âä®ÈáçËΩΩ„ÄÇËøôÈáå‰πüÂèØ‰ª•ËÆæÁΩÆ‰Ω†Ë¶ÅÁõëÊéßÁöÑÊñá‰ª∂„ÄÇ<br>
max_memory_restartÔºöÂΩìÂÜÖÂ≠òË∂ÖËøáËÆæÁΩÆÁöÑÊï∞ÈáèÊó∂Ëá™Âä®ÈáçÂêØ„ÄÇ Â¶ÇÊûúÂ∑•Á®ã‰∏≠ÊúâÊØîËæÉÊ£òÊâãÁöÑÂÜÖÂ≠òÊ≥ÑÈú≤ÈóÆÈ¢òÔºåËøô‰∏™ÁÆóÊòØ‰∏Ä‰∏™Êäò‰∏≠ÊñπÊ°à„ÄÇ<br>
instancesÔºö ÂêØÁî®Â§öÂ∞ë‰∏™ÂÆû‰æãÔºåÂèØÁî®‰∫éË¥üËΩΩÂùáË°°„ÄÇ‰ªÖÂú®clusterÊ®°ÂºèÊúâÊïàÔºåÈªòËÆ§‰∏∫forkÔºõ<br>
cron_restart  crontabÊó∂Èó¥Ê†ºÂºèÔºåÂÆöÊó∂ÈáçÂêØÂ∫îÁî®ÔºåÁõÆÂâçÂè™ÊîØÊåÅclusterÊ®°ÂºèÔºõ<br>
ËøêË°åÂÆû‰æãÔºöÂ∑≤‰∏äÈù¢ÁöÑtest.json‰∏∫‰æã</p>
<p>pm2 start ecosystem.config.js</p>
<h4 id="~-ÁéØÂ¢ÉÂàáÊç¢">~„ÄÅÁéØÂ¢ÉÂàáÊç¢</h4>
<p>Âú®ÂÆûÈôÖÈ°πÁõÆÂºÄÂèë‰∏≠ÔºåÊàë‰ª¨ÁöÑÂ∫îÁî®ÁªèÂ∏∏ÈúÄË¶ÅÂú®Â§ö‰∏™ÁéØÂ¢É‰∏ãÈÉ®ÁΩ≤ÔºåÊØîÂ¶ÇÂºÄÂèëÁéØÂ¢É„ÄÅÊµãËØïÁéØÂ¢É„ÄÅÁîü‰∫ßÁéØÂ¢ÉÁ≠â„ÄÇÂú®‰∏çÂêåÁéØÂ¢É‰∏ãÔºåÊúâÊó∂ÂÄôÈÖçÁΩÆÈ°π‰ºöÊúâÂ∑ÆÂºÇÔºåÊØîÂ¶ÇÈìæÊé•ÁöÑÊï∞ÊçÆÂ∫ìÂú∞ÂùÄ‰∏çÂêåÁ≠â„ÄÇ</p>
<p>ÂØπ‰∫éËøôÁßçÂú∫ÊôØÔºåpm2‰πüÊòØÂèØ‰ª•ÂæàÂ•ΩÊîØÊåÅÁöÑ„ÄÇÈ¶ñÂÖàÈÄöËøáÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÄöËøáenv_xxÊù•Â£∞Êòé‰∏çÂêåÁéØÂ¢ÉÁöÑÈÖçÁΩÆÔºåÁÑ∂ÂêéÂú®ÂêØÂä®Â∫îÁî®Êó∂ÔºåÈÄöËøá‚ÄìenvÂèÇÊï∞ÊåáÂÆöËøêË°åÁöÑÁéØÂ¢É„ÄÇ</p>
<p>È¶ñÂÖàÔºåÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÈÄöËøáenvÈÄâÈ°πÂ£∞ÊòéÂ§ö‰∏™ÁéØÂ¢ÉÈÖçÁΩÆ„ÄÇÁÆÄÂçïËØ¥Êòé‰∏ãÔºö</p>
<p>env‰∏∫ÈªòËÆ§ÁöÑÁéØÂ¢ÉÈÖçÁΩÆÔºàÁîü‰∫ßÁéØÂ¢ÉÔºâÔºåenv_dev„ÄÅenv_testÂàôÂàÜÂà´ÊòØÂºÄÂèë„ÄÅÊµãËØïÁéØÂ¢É„ÄÇÂèØ‰ª•ÁúãÂà∞Ôºå‰∏çÂêåÁéØÂ¢É‰∏ãÁöÑNODE_ENV„ÄÅREMOTE_ADDRÂ≠óÊÆµÁöÑÂÄºÊòØ‰∏çÂêåÁöÑ„ÄÇ<br>
Âú®Â∫îÁî®‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáprocess.env.REMOTE_ADDRÁ≠âÊù•ËØªÂèñÈÖçÁΩÆ‰∏≠ÁîüÂëΩÁöÑÂèòÈáè„ÄÇ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code>&quot;env&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot;,&quot;REMOTE_ADDR&quot;: &quot;http://www.example.com/&quot;}
&quot;env_dev&quot;: { &quot;NODE_ENV&quot;: &quot;development&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://wdev.example.com/&quot;} 
‚Äã&quot;env_test&quot;: { &quot;NODE_ENV&quot;: &quot;test&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://wtest.example.com/&quot;}
</code></pre>
<p>ÂêØÂä®ÊåáÊòéÁéØÂ¢ÉÔºöÂÅáËÆæÈÄöËøá‰∏ãÈù¢ÂêØÂä®ËÑöÊú¨ÔºàÂºÄÂèëÁéØÂ¢ÉÔºâÔºåÈÇ£‰πàÔºåÊ≠§Êó∂process.env.REMOTE_ADDRÁöÑÂÄºÂ∞±ÊòØÁõ∏Â∫îÁöÑÈìæÊé•Âú∞ÂùÄ</p>
<pre><code>pm2 start app.js --env dev
</code></pre>
<h4 id="~-Ë¥üËΩΩÂùáË°°">~„ÄÅË¥üËΩΩÂùáË°°</h4>
<p>ÂëΩ‰ª§Â¶Ç‰∏ãÔºåË°®Á§∫ÂºÄÂêØ‰∏â‰∏™ËøõÁ®ã„ÄÇÂ¶ÇÊûú-i 0ÔºåÂàô‰ºöÊ†πÊçÆÊú∫Âô®ÂΩìÂâçÊ†∏Êï∞Ëá™Âä®ÂºÄÂêØÂ∞ΩÂèØËÉΩÂ§öÁöÑËøõÁ®ã„ÄÇ</p>
<pre><code>m2 start app.js -i 3 # ÂºÄÂêØ‰∏â‰∏™ËøõÁ®ã  
</code></pre>
<pre><code>‚Äãpm2 start app.js -i max # Ê†πÊçÆÊú∫Âô®CPUÊ†∏Êï∞ÔºåÂºÄÂêØÂØπÂ∫îÊï∞ÁõÆÁöÑËøõÁ®ã 
</code></pre>
<p><strong>Êó•ÂøóÊü•Áúã</strong></p>
<p>Èô§‰∫ÜÂèØ‰ª•ÊâìÂºÄÊó•ÂøóÊñá‰ª∂Êü•ÁúãÊó•ÂøóÂ§ñÔºåËøòÂèØ‰ª•ÈÄöËøápm2 logsÊù•Êü•ÁúãÂÆûÊó∂Êó•Âøó„ÄÇËøôÁÇπÂØπ‰∫éÁ∫ø‰∏äÈóÆÈ¢òÊéíÊü•ÈùûÂ∏∏ÈáçË¶Å„ÄÇ</p>
<p>ÊØîÂ¶ÇÊüê‰∏™nodeÊúçÂä°Á™ÅÁÑ∂ÂºÇÂ∏∏ÈáçÂêØ‰∫ÜÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøápm2Êèê‰æõÁöÑÊó•ÂøóÂ∑•ÂÖ∑Êù•Êü•ÁúãÂÆûÊó∂Êó•ÂøóÔºåÁúãÊòØ‰∏çÊòØËÑöÊú¨Âá∫Èîô‰πãÁ±ªÂØºËá¥ÁöÑÂºÇÂ∏∏ÈáçÂêØ„ÄÇ</p>
<pre><code>pm2 logs  
</code></pre>
<h4 id="~-ÂºÄÊú∫Ëá™Âä®ÂêØÂä®">~„ÄÅÂºÄÊú∫Ëá™Âä®ÂêØÂä®</h4>
<p>ÂèØ‰ª•ÈÄöËøápm2 startupÊù•ÂÆûÁé∞ÂºÄÊú∫Ëá™ÂêØÂä®„ÄÇÂ§ßËá¥ÊµÅÁ®ãÂ¶Ç‰∏ãÔºö</p>
<p>ÈÄöËøápm2 save‰øùÂ≠òÂΩìÂâçËøõÁ®ãÁä∂ÊÄÅ„ÄÇ</p>
<p>ÈÄöËøápm2 startup [platform]ÁîüÊàêÂºÄÊú∫Ëá™ÂêØÂä®ÁöÑÂëΩ‰ª§„ÄÇÔºàËÆ∞ÂæóÊü•ÁúãÊéßÂà∂Âè∞ËæìÂá∫Ôºâ</p>
<p>Â∞ÜÊ≠•È™§2ÁîüÊàêÁöÑÂëΩ‰ª§ÔºåÁ≤òË¥¥Âà∞ÊéßÂà∂Âè∞ËøõË°åÔºåÊêûÂÆö„ÄÇ</p>
<p>Ëá™Âä®ÈáçÂêØÂ∫îÁî®</p>
<p>fork‰∏çÊîØÊåÅÂÆöÊó∂ÈáçÂêØÔºåclusterÊîØÊåÅÂÆöÊó∂ÈáçÂêØ„ÄÇÂÆöÊó∂ÈáçÂêØ‰πüÂ∞±ÊòØÈÖçÁΩÆ‰∏≠ÁöÑcron_restartÈÖçÁΩÆÈ°π„ÄÇ</p>
<h4 id="~-ÁõëÊéßmonitor">~„ÄÅÁõëÊéß(monitor)</h4>
<p>ËøêË°åÂ¶Ç‰∏ãÂëΩ‰ª§ÔºåÊü•ÁúãÂΩìÂâçÈÄöËøápm2ËøêË°åÁöÑËøõÁ®ãÁöÑÁä∂ÊÄÅ„ÄÇ</p>
<pre><code>pm2 monit
</code></pre>
<p>ÂÜÖÂ≠ò‰ΩøÁî®Ë∂ÖËøá‰∏äÈôêËá™Âä®ÈáçÂêØ</p>
<p>Â¶ÇÊûúÊÉ≥Ë¶Å‰Ω†ÁöÑÂ∫îÁî®ÔºåÂú®Ë∂ÖËøá‰ΩøÁî®ÂÜÖÂ≠ò‰∏äÈôêÂêéËá™Âä®ÈáçÂêØÔºåÈÇ£‰πàÂèØ‰ª•Âä†‰∏ä‚Äìmax-memory-restartÂèÇÊï∞„ÄÇÔºàÊúâÂØπÂ∫îÁöÑÈÖçÁΩÆÈ°πÔºâ</p>
<pre><code>pm2 start big-array.js ‚Äìmax-memory-restart 20M     
</code></pre>
<p>Â¶ÇÊûú‰Ω†‰∏ç‰ªÖ‰ªÖÊÉ≥ÁõëÊéßË¢´pm2ÁÆ°ÁêÜÁöÑËøõÁ®ãÔºåËøòÈúÄË¶ÅÁõëÊéßËøõÁ®ãÊâÄËøêË°åÁöÑÊú∫Âô®ÁöÑ‰ø°ÊÅØÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢Ëøô‰∏™API„ÄÇ</p>
<pre><code>pm2 web  
</code></pre>
<p>pm2‰ºöÂêØÂä®‰∏Ä‰∏™Âè´ÂÅöpm2-http-interfaceÁöÑËøõÁ®ãÊèê‰æõwebÊúçÂä°„ÄÇ‰Ω†ÊâìÂºÄÊµèËßàÂô®ËæìÂÖ•  httpÔºö//127.0.0.1:9615ÔºåÊòØ‰∏çÊòØË¢´ÁúãÂà∞ÁöÑÁªìÊûúÊÉäËâ≥Âà∞‰∫Ü„ÄÇ</p>
<h4 id="~-Á®≥ÂÆöËøêË°åÂª∫ËÆÆ">~„ÄÅÁ®≥ÂÆöËøêË°åÂª∫ËÆÆ</h4>
<p><strong>PM2ÊòØ‰∏ÄÊ¨æÈùûÂ∏∏‰ºòÁßÄÁöÑNodeËøõÁ®ãÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂÆÉÊúâÁùÄ‰∏∞ÂØåÁöÑÁâπÊÄßÔºöËÉΩÂ§üÂÖÖÂàÜÂà©Áî®Â§öÊ†∏CPU‰∏îËÉΩÂ§üË¥üËΩΩÂùáË°°„ÄÅËÉΩÂ§üÂ∏ÆÂä©Â∫îÁî®Âú®Â¥©Ê∫ÉÂêé„ÄÅÊåáÂÆöÊó∂Èó¥(cluster model)ÂíåË∂ÖÂá∫ÊúÄÂ§ßÂÜÖÂ≠òÈôêÂà∂Á≠âÊÉÖÂÜµ‰∏ãÂÆûÁé∞Ëá™Âä®ÈáçÂêØ„ÄÇ</strong></p>
<blockquote>
<p><strong>‰∏™‰∫∫Âá†ÁÇπÁúãÊ≥ï‰øùËØÅÂ∏∏È©ªÂ∫îÁî®ËøõÁ®ãÁ®≥ÂÆöËøêË°åÔºö</strong><br>
<strong>ÂÆöÊó∂ÈáçÂêØÔºåÂ∫îÁî®ËøõÁ®ãËøêË°åÊó∂Èó¥‰πÖ‰∫ÜÊàñËÆ∏ÊÄª‰ºö‰∫ßÁîü‰∏Ä‰∫õÊÑèÊñô‰πãÂ§ñÁöÑÈóÆÈ¢òÔºåÂÆöÊó∂ÂèØ‰ª•ËßÑÈÅø‰∏Ä‰∫õ‰∏çÂèØÊµãÁöÑÊÉÖÂÜµÔºõ</strong><br>
<strong>ÊúÄÂ§ßÂÜÖÂ≠òÈôêÂà∂ÔºåÊ†πÊçÆËßÇÂØüËÆæÂÆöÂêàÁêÜÂÜÖÂ≠òÈôêÂà∂Ôºå‰øùËØÅÂ∫îÁî®ÂºÇÂ∏∏ËøêË°åÔºõ</strong><br>
<strong>ÂêàÁêÜmin_uptimeÔºåmin_uptimeÊòØÂ∫îÁî®Ê≠£Â∏∏ÂêØÂä®ÁöÑÊúÄÂ∞èÊåÅÁª≠ËøêË°åÊó∂ÈïøÔºåË∂ÖÂá∫Ê≠§Êó∂Èó¥ÂàôË¢´Âà§ÂÆö‰∏∫ÂºÇÂ∏∏ÂêØÂä®Ôºõ</strong><br>
<strong>ËÆæÂÆöÂºÇÂ∏∏ÈáçÂêØÂª∂Êó∂restart_delayÔºåÂØπ‰∫éÂºÇÂ∏∏ÊÉÖÂÜµÂØºËá¥Â∫îÁî®ÂÅúÊ≠¢ÔºåËÆæÂÆöÂºÇÂ∏∏ÈáçÂêØÂª∂ËøüÂèØÈò≤Ê≠¢Â∫îÁî®Âú®‰∏çÂèØÊµãÊÉÖÂÜµ‰∏ã‰∏çÊñ≠ÈáçÂêØÁöÑÂØºËá¥ÈáçÂêØÊ¨°Êï∞ËøáÂ§öÁ≠âÈóÆÈ¢òÔºõ</strong><br>
<strong>ËÆæÁΩÆÂºÇÂ∏∏ÈáçÂêØÊ¨°Êï∞ÔºåÂ¶ÇÊûúÂ∫îÁî®‰∏çÊñ≠ÂºÇÂ∏∏ÈáçÂêØÔºåÂπ∂Ë∂ÖËøá‰∏ÄÂÆöÁöÑÈôêÂà∂Ê¨°Êï∞ÔºåËØ¥ÊòéÊ≠§Êó∂ÁöÑÁéØÂ¢ÉÈïøÊó∂Èó¥Â§Ñ‰∫é‰∏çÂèØÊéßÁä∂ÊÄÅÔºåÊúçÂä°Âô®ÂºÇÂ∏∏„ÄÇÊ≠§Êó∂‰æøÂèØÂÅúÊ≠¢Â∞ùËØïÔºåÂèëÂá∫ÈîôËØØË≠¶ÂëäÈÄöÁü•Á≠â„ÄÇ</strong></p>
</blockquote>

                        </div>
                        
                            <div class="post-toc">
                                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#~-%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7">~„ÄÅ ‰∏ªË¶ÅÁâπÊÄßÔºö</a></li>
<li><a href="#~-%E4%BD%BF%E7%94%A8%E7%8E%AF%E5%A2%83">~„ÄÅ ‰ΩøÁî®ÁéØÂ¢ÉÔºö</a></li>
<li><a href="#~-%E5%AE%89%E8%A3%85">~„ÄÅ ÂÆâË£Ö</a></li>
<li><a href="#~-%E7%94%A8%E6%B3%95">~„ÄÅÁî®Ê≥ï</a></li>
<li><a href="#~-%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B">~„ÄÅÂÖ•Èó®ÊïôÁ®ã</a></li>
<li><a href="#~-%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E">~„ÄÅÂèÇÊï∞ËØ¥ÊòéÔºö</a></li>
<li><a href="#~-%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E-2">~„ÄÅÂèÇÊï∞ËØ¥ÊòéÔºö</a></li>
<li><a href="#~-%E7%8E%AF%E5%A2%83%E5%88%87%E6%8D%A2">~„ÄÅÁéØÂ¢ÉÂàáÊç¢</a></li>
<li><a href="#~-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">~„ÄÅË¥üËΩΩÂùáË°°</a></li>
<li><a href="#~-%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8">~„ÄÅÂºÄÊú∫Ëá™Âä®ÂêØÂä®</a></li>
<li><a href="#~-%E7%9B%91%E6%8E%A7monitor">~„ÄÅÁõëÊéß(monitor)</a></li>
<li><a href="#~-%E7%A8%B3%E5%AE%9A%E8%BF%90%E8%A1%8C%E5%BB%BA%E8%AE%AE">~„ÄÅÁ®≥ÂÆöËøêË°åÂª∫ËÆÆ</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                            </div>
                            
                                
                                    
                                            <!--zh-->
                                            <section class="post-copyright zh">
                                                <p class="copyright-item ">
                                                    <span>&#x4F5C;&#x8005;:</span>
                                                    <span>üê≥Â∞èÂí∏È±º-Ëá™Â∑±ÁöÑÂøÉÊÉÖ</span>
                                                </p>

                                                <p class="copyright-item">
                                                    <span>&#x6C38;&#x4E45;&#x94FE;&#x63A5;:</span>
                                                    <span><a href="https://lingtin.github.io/post/mzEtFKB0d/">https://lingtin.github.io/post/mzEtFKB0d/</a></span>
                                                </p>

                                                <p class="copyright-item">
                                                    <span>&#x534F;&#x8BAE;:</span>
                                                    <span>MIT License</span>
                                                </p>
                                            </section>
                                            
                                                
                                                    
                                                                    <!--Share-->
                                                                    <span style="margin-right:15px">
                        <i class="post-share"></i>
                        <span>&#x5206;&#x4EAB;:</span>
                                                                    <a title="QR Á†Å" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://lingtin.github.io/post/mzEtFKB0d/"><i class="fa fa-qrcode"></i></a>
                                                                    <a title="QQ" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://lingtin.github.io/post/mzEtFKB0d/&sharesource=qzone&title=NodeJSËøõÁ®ãÁÆ°ÁêÜÂô®pm2&pics=https://lingtin.github.io/images/avatar.png?v=1597977814576&summary="><i class="fa fa-qq"></i></a>
                                                                    <a title="Êñ∞Êµ™ÂæÆÂçö" target="_blank" href="https://service.weibo.com/share/share.php?url=https://lingtin.github.io/post/mzEtFKB0d/&sharesource=weibo&title=NodeJSËøõÁ®ãÁÆ°ÁêÜÂô®pm2 + " - " + &pic="https://lingtin.github.io/images/avatar.png?v=1597977814576 "><i class="fa fa-weibo "></i></a>

                                                                    </span>
                                                                    
                                                                            <!--zh-->
                                                                            <section class="post-tags zh ">
                                                                                <div>
                                                                                    <span>&#x6807;&#x7B7E;:</span>
                                                                                    <span class="tag ">
                        
                        
                        <a href="https://lingtin.github.io/tag/2PLgaq7l7/">#
                    nodejs
                        </a>
                        
                        <a href="https://lingtin.github.io/tag/xd5TVJ9ej/">#
                    contos
                        </a>
                        
                            
                                </span>
                                                                                </div>
                                                                                <div>
                                                                                    <a href="javascript:window.history.back();">
                        &#x8FD4;&#x56DE;</a>
                                                                                    <span>&dot;</span>
                                                                                    <a href="#">&#x4E3B;&#x9875;</a>
                                                                                </div>
                                                                            </section>

                                                                            
                                                                                <!---->
                                                                                <section class="post-nav">
                                                                                    
                                                                                        <a class="prev" rel="prev" href="https://lingtin.github.io/post/dwFY5Qi4D/">
                                                                                            NPM Scripts ÊåáÂçó
                                                                                        </a>
                                                                                        
                                                                                            
                                                                                                <a class="next" rel="next" href="https://lingtin.github.io/post/Mwak-ivNk/">
                                                                                                    Nuxt+PM2ÈÉ®ÁΩ≤Ôºå‰ΩøÁî®ecosystem.configÂêØÂä®‰∏éÂºÄÂèëÁªèÈ™å
                                                                                                </a>
                                                                                                
                                                                                </section>
                    </article>
                </div>
                
                    
                        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container" style="width: 100%;max-width: 780px;margin: auto;"></div>

<script>
    var gitalk = new Gitalk({
        clientID: '94bde96397c34f9c1527',
        clientSecret: '7da1c7e312aa9ab8537ef1b00e9856060cb78a01',
        repo: 'lingtin.github.io',
        owner: 'Lingtin',
        admin: ['Lingtin'],
        id: (location.pathname).substring(0, 49), // Ensure uniqueness and length less than 50
        distractionFreeMode: false // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
</script>
                            
                                        
                                            
            </div>
    </div>
    </div>
    </div>
    
    <div id="player"></div>
    
        <footer id="footer" class="footer">
            <div class="copyright">
                
                        
                            
                                <b id="hitokoto"></b><br>
                                
                                    <div style="width:300px;margin:0 auto; padding:0px 0;">
                                        <a target="_blank" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=18000511" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;">
                                            <img src="https://yanxuan.nosdn.127.net/b610ced5ac6a0e25cf6edf5606c69775.png" style="float:left;">
                                            <p id="icpinfo" style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;"></p>
                                        </a>
                                    </div>
                                    
                                        <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face">
            <path
                d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z"
                fill="#93b5cf"></path>
        </svg>
                                        üê≥Â∞èÂí∏È±º-Ëá™Â∑±ÁöÑÂøÉÊÉÖ &copy;Copyright
                                            <script>
                                                var date = new Date();
                                                document.write("" + date.getFullYear());
                                            </script>
                                            | Powered by
                                            <a href="" target="_blank">
                                                
                                            </a>
            </div>
            <div id="update" style="display:none;">
                off
            </div>
            
                    <script>
                        var port = '';
                        
                        document.write('<div id="home_path" style="display:none;">' + document.location.protocol + '//' + window.document.location.hostname + port + '</div>')
                    </script>
        </footer>
        
                <script>
                    

                    function LoadPlayer() {
                        var musicList = [];
                        
                        musicList.push({
                            name: 'Ê¨ßÈò≥Â®úÂ®ú ‰∏ÄÂøÉ‰∏ÄÂøµ',
                            url: 'http://music.163.com/song/media/outer/url?id=1422745957.mp3',
                            artist: 'Ê¨ßÈò≥Â®úÂ®úÔºåÂê¥ÊñåÔºåÊûóÈááÊ¨£',
                            cover: 'http://p1.music.126.net/PR_7urv106ELtN95gkiGUg==/109951164719542740.jpg?param=130y130',
                        });
                        
                        console.log(" MusicList: " + musicList);
                        
                        const ap = new APlayer({
                            container: document.getElementById('player'),
                            audio: musicList
                        });
                        
                    }
                    LoadPlayer();
                    
                    
                    
                    hitokoto();
                    
                    var icp = document.getElementById('icpinfo');
                    icp.innerText = "ÈôïICPÂ§á18000511Âè∑-1";
                    
                    getStar();
                    hljs.initHighlighting();
                    console.clear();
                    
                    var newDate = new Date();
                    newDate.setTime(1597977814576);
                    console.log(" Blog Update Time: " + newDate.toLocaleDateString());
                    console.log("\n %c \u26a1Theme:Chic Author's Blog:https://blog.itjoker.cn  Write By ITJoker  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;");
                </script>
        </div>
</body>
<script>
    scroll();
</script>

</html>