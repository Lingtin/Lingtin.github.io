<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    🐳小咸鱼-自己的心情
</title>
<!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/r29/html5.js"></script><![endif]-->
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<meta name="author" content="小咸鱼-web知识分享">
<meta name="description" content="The only dream and a good girl in the world, not fail! ">
<meta name="keywords" content="My own mood">
<script async src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/css/style.min.css" />
<link rel="stylesheet" href="https://xueshengjs.com/styles/main.css" />
<link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/tocbot.min.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/script.min.js"></script> -->
<script src="https://xueshengjs.com/media/script/script.js"></script>
<script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/icon.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.12/CDN/js/Card/prism.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.12/CDN/css/Card/prism.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js"></script>

    <!--点击特效-->
    <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js"></script>
    
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/APlayer.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
        
            <!--CDN样式-->
            <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/hit-kounter-lc-0.3.0.js"></script>
            <script src="https://cdn1.lncld.net/static/js/av-min-1.5.0.js"></script>
            
                <script>
                    (function() {
                        var bp = document.createElement('script');
                        var curProtocol = window.location.protocol.split(':')[0];
                        if (curProtocol === 'https') {
                            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                        } else {
                            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                        }
                        var s = document.getElementsByTagName("script")[0];
                        s.parentNode.insertBefore(bp, s);
                    })();
                </script>
                
                    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156097411-1"></script>
                    <script>
                        window.dataLayer = window.dataLayer || [];

                        function gtag() {
                            dataLayer.push(arguments);
                        }
                        gtag('js', new Date());
                        gtag('config', 'UA-156097411-1');
                    </script>
                    
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://xueshengjs.com">
                    🐳小咸鱼-自己的心情
                </a>
            </div>

            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        首页
                    </a>
                    
                    <a class="menu-item" href="/posts/">
                        文章
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        归档
                    </a>
                    
                    <a class="menu-item" href="/friends/">
                        友链
                    </a>
                    
                    <a class="menu-item" href="/post/doc/">
                        文档
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        关于
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>
            <form id="gridea-search-form" data-update="1597398054089" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
            </form>
        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://xueshengjs.com">
                            🐳小咸鱼-自己的心情
                        </a>
                        <!--en-->
                        <a id="mobile-toggle-theme-en" class="a en">&nbsp;Dark</a>
                        <!--zh-->
                        <a id="mobile-toggle-theme-zh" class="a zh">&nbsp;&#x6697;&#x9ED1;</a>
                    </div>
                    <form id="gridea-search-form" data-update="1597398054089" action="/search/index.html">
                        <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
                    </form>
                    <!--en-->
                    <div class="menu-toggle" id="menu-toggle-en" onclick="mobileBtn()">&#9776; Menu</div>
                    <!--zh-->
                    <div class="menu-toggle" id="menu-toggle-zh" onclick="mobileBtn()">&#9776; &#x83DC;&#x5355;</div>

                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            首页
                        </a>
                        
                        <a class="menu-item" href="/posts/">
                            文章
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            归档
                        </a>
                        
                        <a class="menu-item" href="/friends/">
                            友链
                        </a>
                        
                        <a class="menu-item" href="/post/doc/">
                            文档
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            关于
                        </a>
                        
                </div>
            </div>
        </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementById("menu-toggle-en");
        var toggleMenu_zh = document.getElementById("menu-toggle-zh");

        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.display != "none") {
            if (toggleMenu.classList.contains("active")) {
                toggleMenu.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu.classList.add("active")
                mobileMenu.classList.add("active")
            }
        } else if (toggleMenu_zh.display != "none") {
            if (toggleMenu_zh.classList.contains("active")) {
                toggleMenu_zh.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu_zh.classList.add("active")
                mobileMenu.classList.add("active")
            }
        }

    }
</script>
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                ES6、ES7、ES8新特性(速读)
                            </h1>
                            
                                    <!--zh-->
                                    <div class="post-meta zh">
                                        &#x4F5C;&#x8005;:
                                        <a itemprop="author" rel="author" href="/">
                                            🐳小咸鱼-自己的心情
                                        </a>
                                        <span class="post-time">&#x65E5;&#x671F;: <a href="#">2019-05-09</a></span>
                                        <span class="post-readtime">&#x9605;&#x8BFB;&#x65F6;&#x95F4;:<a
                                    href="#">21.3
                                    &#x5206;&#x949F;</a></span>
                                        <span class="post-words">&#x5B57;&#x6570;:<a href="#">4981</a></span>
                                        
                                                阅读量:
                                                <span data-hk-page="current"> - </span>
                                                
                                    </div>
                                    
                        </header>
                        <div class="post-content">
                            <p>😇😇 ES全称ECMAScript，ECMAScript是ECMA制定的标准化脚本语言。目前JavaScript使用的ECMAScript版本为ECMAScript-262。<br>
ECMAScript 标准建立在一些原有的技术上，最为著名的是 JavaScript (网景) 和 JScript (微软)。它最初由网景的 Brendan Eich 发明，第一次出现是在网景的 Navigator 2.0 浏览器上。Netscape 2.0 以及微软 Internet Explorer 3.0 后序的所有浏览器上都有它的身影。</p>
<p>ECMAScript 2009(ES5)<br>
2009年11月<br>
扩展了Object、Array、Function的功能等</p>
<p>ECMAScript 2015(ES6)<br>
2015年6月<br>
类，模块化，箭头函数，函数参数默认值等</p>
<p>ECMAScript 2016(ES7)<br>
2016年3月<br>
includes，指数操作符</p>
<p>ECMAScript 2017(ES8)<br>
2017年6月<br>
sync/await，Object.values()，Object.entries()，String padding等</p>
<p>了解这些特性，不仅能使我们的编码更加的符合规范，而且能提高我们Coding的效率。</p>
<p>ES6的特性比较多，在 ES5 发布近 6 年（2009-11 至 2015-6）之后才将其标准化。两个发布版本之间时间跨度很大，所以ES6中的特性比较多。<br>
在这里列举几个常用的：</p>
<p>类<br>
模块化<br>
箭头函数<br>
函数参数默认值<br>
模板字符串<br>
解构赋值<br>
延展操作符<br>
对象属性简写<br>
Promise<br>
Let与Const</p>
<h4 id="1类class">1.类（class）</h4>
<p>对熟悉Java，object-c，c#等纯面向对象语言的开发者来说，都会对class有一种特殊的情怀。ES6 引入了class（类），让JavaScript的面向对象编程变得更加简单和易于理解。</p>
<pre><code>  class Animal {
    // 构造函数，实例化的时候将会被调用，如果不指定，那么会有一个不带参数的默认构造函数.
    constructor(name,color) {
      this.name = name;
      this.color = color;
    }
    // toString 是原型对象上的属性
    toString() {
      console.log('name:' + this.name + ',color:' + this.color);

    }
  }

 var animal = new Animal('dog','white');//实例化Animal
 animal.toString();

 console.log(animal.hasOwnProperty('name')); //true
 console.log(animal.hasOwnProperty('toString')); // false
 console.log(animal.__proto__.hasOwnProperty('toString')); // true

 class Cat extends Animal {
  constructor(action) {
    // 子类必须要在constructor中指定super 函数，否则在新建实例的时候会报错.
    // 如果没有置顶consructor,默认带super函数的constructor将会被添加、
    super('cat','white');
    this.action = action;
  }
  toString() {
    console.log(super.toString());
  }
 }

 var cat = new Cat('catch')
 cat.toString();

 // 实例cat 是 Cat 和 Animal 的实例，和Es5完全一致。
 console.log(cat instanceof Cat); // true
 console.log(cat instanceof Animal); // true
</code></pre>
<h4 id="2模块化module">2.模块化(Module)</h4>
<p>ES5不支持原生的模块化，在ES6中模块作为重要的组成部分被添加进来。模块的功能主要由 export 和 import 组成。每一个模块都有自己单独的作用域，模块之间的相互调用关系是通过 export 来规定模块对外暴露的接口，通过import来引用其它模块提供的接口。同时还为模块创造了命名空间，防止函数的命名冲突。<br>
导出(export)<br>
ES6允许在一个模块中使用export来导出多个变量或函数。<br>
导出变量</p>
<pre><code>//test.js
export var name = 'Rainbow'
</code></pre>
<p>心得：ES6不仅支持变量的导出，也支持常量的导出。 export const sqrt = Math.sqrt;//导出常量</p>
<p>ES6将一个文件视为一个模块，上面的模块通过 export 向外输出了一个变量。一个模块也可以同时往外面输出多个变量。</p>
<pre><code> //test.js
 var name = 'Rainbow';
 var age = '24';
 export {name, age};
复制代码导出函数
// myModule.js
export function myModule(someArg) {
  return someArg;
}  
</code></pre>
<p>导入(import)<br>
定义好模块的输出以后就可以在另外一个模块通过import引用。</p>
<pre><code>import {myModule} from 'myModule';// main.js
import {name,age} from 'test';// test.js
</code></pre>
<p>心得:一条import 语句可以同时导入默认函数和其它变量。import defaultMethod, { otherMethod } from 'xxx.js';</p>
<h4 id="3箭头arrow函数">3.箭头（Arrow）函数</h4>
<p>这是ES6中最令人激动的特性之一。=&gt;不只是关键字function的简写，它还带来了其它好处。箭头函数与包围它的代码共享同一个this,能帮你很好的解决this的指向问题。有经验的JavaScript开发者都熟悉诸如var self = this;或var that = this这种引用外围this的模式。但借助=&gt;，就不需要这种模式了。<br>
箭头函数的结构<br>
箭头函数的箭头=&gt;之前是一个空括号、单个的参数名、或用括号括起的多个参数名，而箭头之后可以是一个表达式（作为函数的返回值），或者是用花括号括起的函数体（需要自行通过return来返回值，否则返回的是undefined）。</p>
<pre><code>// 箭头函数的例子
()=&gt;1
v=&gt;v+1
(a,b)=&gt;a+b
()=&gt;{
    alert(&quot;foo&quot;);
}
e=&gt;{
    if (e == 0){
        return 0;
    }
    return 1000/e;
}
</code></pre>
<p>心得：不论是箭头函数还是bind，每次被执行都返回的是一个新的函数引用，因此如果你还需要函数的引用去做一些别的事情（譬如卸载监听器），那么你必须自己保存这个引用。</p>
<p>卸载监听器时的陷阱</p>
<p>错误的做法</p>
<pre><code>class PauseMenu extends React.Component{
    componentWillMount(){
        AppStateIOS.addEventListener('change', this.onAppPaused.bind(this));
    }
    componentWillUnmount(){
        AppStateIOS.removeEventListener('change', this.onAppPaused.bind(this));
    }
    onAppPaused(event){
    }
}
</code></pre>
<p>正确的做法</p>
<pre><code>class PauseMenu extends React.Component{
    constructor(props){
        super(props);
        this._onAppPaused = this.onAppPaused.bind(this);
    }
    componentWillMount(){
        AppStateIOS.addEventListener('change', this._onAppPaused);
    }
    componentWillUnmount(){
        AppStateIOS.removeEventListener('change', this._onAppPaused);
    }
    onAppPaused(event){
    }
}
</code></pre>
<p>除上述的做法外，我们还可以这样做：</p>
<pre><code>class PauseMenu extends React.Component{
    componentWillMount(){
        AppStateIOS.addEventListener('change', this.onAppPaused);
    }
    componentWillUnmount(){
        AppStateIOS.removeEventListener('change', this.onAppPaused);
    }
    onAppPaused = (event) =&gt; {
        //把函数直接作为一个arrow function的属性来定义，初始化的时候就绑定好了this指针
    }
}
</code></pre>
<p>需要注意的是：不论是bind还是箭头函数，每次被执行都返回的是一个新的函数引用，因此如果你还需要函数的引用去做一些别的事情（譬如卸载监听器），那么你必须自己保存这个引用。</p>
<h4 id="4函数参数默认值">4.函数参数默认值</h4>
<p>ES6支持在定义函数的时候为其设置默认值：</p>
<pre><code>function foo(height = 50, color = 'red')
{
    // ...
}
</code></pre>
<p>不使用默认值：</p>
<pre><code>function foo(height, color)
{
    var height = height || 50;
    var color = color || 'red';
    //...
}
</code></pre>
<p>这样写一般没问题，但当参数的布尔值为false时，就会有问题了。比如，我们这样调用foo函数：<br>
foo(0, &quot;&quot;)<br>
复制代码因为0的布尔值为false，这样height的取值将是50。同理color的取值为‘red’。<br>
所以说，函数参数默认值不仅能是代码变得更加简洁而且能规避一些问题。</p>
<h4 id="5模板字符串">5.模板字符串</h4>
<p>ES6支持模板字符串，使得字符串的拼接更加的简洁、直观。</p>
<p>不使用模板字符串：</p>
<pre><code>var name = 'Your name is ' + first + ' ' + last + '.'
</code></pre>
<p>使用模板字符串：</p>
<pre><code>var name = `Your name is ${first} ${last}.`
</code></pre>
<p>在ES6中通过${}就可以完成字符串的拼接，只需要将变量放在大括号之中。</p>
<h4 id="6解构赋值">6.解构赋值</h4>
<p>解构赋值语法是JavaScript的一种表达式，可以方便的从数组或者对象中快速提取值赋给定义的变量。<br>
获取数组中的值<br>
从数组中获取值并赋值到变量中，变量的顺序与数组中对象顺序对应。</p>
<pre><code>var foo = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;];

var [one, two, three] = foo;
console.log(one); // &quot;one&quot;
console.log(two); // &quot;two&quot;
console.log(three); // &quot;three&quot;

//如果你要忽略某些值，你可以按照下面的写法获取你想要的值
var [first, , , last] = foo;
console.log(first); // &quot;one&quot;
console.log(last); // &quot;four&quot;

//你也可以这样写
var a, b; //先声明变量

[a, b] = [1, 2];
console.log(a); // 1
console.log(b); // 2
</code></pre>
<p>如果没有从数组中的获取到值，你可以为变量设置一个默认值。</p>
<pre><code>var a, b;

[a=5, b=7] = [1];
console.log(a); // 1
console.log(b); // 7
</code></pre>
<p>通过解构赋值可以方便的交换两个变量的值。</p>
<pre><code>var a = 1;
var b = 3;

[a, b] = [b, a];
console.log(a); // 3
console.log(b); // 1

</code></pre>
<p>获取对象中的值</p>
<pre><code>const student = {
  name:'Ming',
  age:'18',
  city:'Shanghai'  
};

const {name,age,city} = student;
console.log(name); // &quot;Ming&quot;
console.log(age); // &quot;18&quot;
console.log(city); // &quot;Shanghai&quot;
</code></pre>
<h4 id="7延展操作符spread-operator">7.延展操作符(Spread operator)</h4>
<p>延展操作符...可以在函数调用/数组构造时, 将数组表达式或者string在语法层面展开；还可以在构造对象时, 将对象表达式按key-value的方式展开。<br>
语法</p>
<p>函数调用：</p>
<pre><code>myFunction(...iterableObj);
</code></pre>
<p>数组构造或字符串：</p>
<pre><code>[...iterableObj, '4', ...'hello', 6];
</code></pre>
<p>构造对象时,进行克隆或者属性拷贝（ECMAScript 2018规范新增特性）：</p>
<pre><code>let objClone = { ...obj };
</code></pre>
<p>应用场景</p>
<p>在函数调用时使用延展操作符</p>
<pre><code>function sum(x, y, z) {
  return x + y + z;
}
const numbers = [1, 2, 3];

//不使用延展操作符
console.log(sum.apply(null, numbers));

//使用延展操作符
console.log(sum(...numbers));// 6
</code></pre>
<p>构造数组</p>
<p>没有展开语法的时候，只能组合使用 push，splice，concat 等方法，来将已有数组元素变成新数组的一部分。有了展开语法, 构造新数组会变得更简单、更优雅：</p>
<pre><code>const stuendts = ['Jine','Tom']; 
const persons = ['Tony',... stuendts,'Aaron','Anna'];
conslog.log(persions)// [&quot;Tony&quot;, &quot;Jine&quot;, &quot;Tom&quot;, &quot;Aaron&quot;, &quot;Anna&quot;]
</code></pre>
<p>和参数列表的展开类似,  ... 在构造字数组时, 可以在任意位置多次使用。</p>
<p>数组拷贝</p>
<p>var arr = [1, 2, 3];<br>
var arr2 = [...arr]; // 等同于 arr.slice()<br>
arr2.push(4);<br>
console.log(arr2)//[1, 2, 3, 4]</p>
<pre><code>展开语法和 Object.assign() 行为一致, 执行的都是浅拷贝(只遍历一层)。

连接多个数组

var arr1 = [0, 1, 2];
var arr2 = [3, 4, 5];
var arr3 = [...arr1, ...arr2];// 将 arr2 中所有元素附加到 arr1 后面并返回
//等同于
var arr4 = arr1.concat(arr2);
</code></pre>
<p>在ECMAScript 2018中延展操作符增加了对对象的支持</p>
<pre><code>var obj1 = { foo: 'bar', x: 42 };
var obj2 = { foo: 'baz', y: 13 };

var clonedObj = { ...obj1 };
// 克隆后的对象: { foo: &quot;bar&quot;, x: 42 }

var mergedObj = { ...obj1, ...obj2 };
// 合并后的对象: { foo: &quot;baz&quot;, x: 42, y: 13 }
</code></pre>
<p>在React中的应用<br>
通常我们在封装一个组件时，会对外公开一些 props 用于实现功能。大部分情况下在外部使用都应显示的传递 props 。但是当传递大量的props时，会非常繁琐，这时我们可以使用 ...(延展操作符,用于取出参数对象的所有可遍历属性) 来进行传递。<br>
一般情况下我们应该这样写</p>
<pre><code>&lt;CustomComponent name ='Jine' age ={21} /&gt;
</code></pre>
<p>使用 ... ，等同于上面的写法</p>
<pre><code>const params = {
		name: 'Jine',
		age: 21
	}

&lt;CustomComponent {...params} /&gt;
</code></pre>
<p>配合解构赋值避免传入一些不需要的参数</p>
<pre><code>var params = {
	name: '123',
	title: '456',
	type: 'aaa'
}

var { type, ...other } = params;

&lt;CustomComponent type='normal' number={2} {...other} /&gt;
//等同于
&lt;CustomComponent type='normal' number={2} name='123' title='456' /&gt;
</code></pre>
<p>8.对象属性简写<br>
在ES6中允许我们在设置一个对象的属性的时候不指定属性名。</p>
<p>不使用ES6</p>
<pre><code>const name='Ming',age='18',city='Shanghai';
        
const student = {
    name:name,
    age:age,
    city:city
};
console.log(student);//{name: &quot;Ming&quot;, age: &quot;18&quot;, city: &quot;Shanghai&quot;}
</code></pre>
<p>对象中必须包含属性和值，显得非常冗余。</p>
<p>使用ES6</p>
<pre><code>const name='Ming',age='18',city='Shanghai';
        
const student = {
    name,
    age,
    city
};
console.log(student);//{name: &quot;Ming&quot;, age: &quot;18&quot;, city: &quot;Shanghai&quot;}
</code></pre>
<p>对象中直接写变量，非常简洁。</p>
<h4 id="9promise">9.Promise</h4>
<p>Promise 是异步编程的一种解决方案，比传统的解决方案callback更加的优雅。它最早由社区提出和实现的，ES6 将其写进了语言标准，统一了用法，原生提供了Promise对象。</p>
<p>不使用ES6</p>
<p>嵌套两个setTimeout回调函数：</p>
<pre><code>setTimeout(function()
{
    console.log('Hello'); // 1秒后输出&quot;Hello&quot;
    setTimeout(function()
    {
        console.log('Hi'); // 2秒后输出&quot;Hi&quot;
    }, 1000);
}, 1000);
</code></pre>
<p>使用ES6</p>
<pre><code>var waitSecond = new Promise(function(resolve, reject)
{
    setTimeout(resolve, 1000);
});

waitSecond
    .then(function()
    {
        console.log(&quot;Hello&quot;); // 1秒后输出&quot;Hello&quot;
        return waitSecond;
    })
    .then(function()
    {
        console.log(&quot;Hi&quot;); // 2秒后输出&quot;Hi&quot;
    });
</code></pre>
<p>上面的的代码使用两个then来进行异步编程串行化，避免了回调地狱：</p>
<h4 id="10支持let与const">10.支持let与const</h4>
<p>在之前JS是没有块级作用域的，const与let填补了这方便的空白，const与let都是块级作用域。</p>
<p>使用var定义的变量为函数级作用域：</p>
<pre><code>{
  var a = 10;
}

console.log(a); // 输出10
</code></pre>
<p>使用let与const定义的变量为块级作用域：</p>
<pre><code>{
  let a = 10;
}

console.log(a); //-1 or Error“ReferenceError: a is not defined”
</code></pre>
<p>ES7的特性<br>
在ES6之后，ES的发布频率更加频繁，基本每年一次，所以自ES6之后，每个新版本的特性的数量就比较少。</p>
<p>includes()<br>
指数操作符</p>
<ol>
<li>Array.prototype.includes()<br>
includes() 函数用来判断一个数组是否包含一个指定的值，如果包含则返回 true，否则返回false。<br>
includes 函数与 indexOf 函数很相似，下面两个表达式是等价的：<br>
arr.includes(x)<br>
arr.indexOf(x) &gt;= 0</li>
</ol>
<p>接下来我们来判断数字中是否包含某个元素：</p>
<p>在ES7之前的做法</p>
<p>使用indexOf()验证数组中是否存在某个元素，这时需要根据返回值是否为-1来判断：</p>
<pre><code>let arr = ['react', 'angular', 'vue'];

if (arr.indexOf('react') !== -1)
{
    console.log('react存在');
}
</code></pre>
<p>使用ES7的includes()</p>
<p>使用includes()验证数组中是否存在某个元素，这样更加直观简单：</p>
<pre><code>let arr = ['react', 'angular', 'vue'];

if (arr.includes('react'))
{
    console.log('react存在');
}
</code></pre>
<p>2.指数操作符<br>
在ES7中引入了指数运算符**，**具有与Math.pow(..)等效的计算结果。</p>
<p>不使用指数操作符</p>
<p>使用自定义的递归函数calculateExponent或者Math.pow()进行指数运算：</p>
<pre><code>function calculateExponent(base, exponent)
{
    if (exponent === 1)
    {
        return base;
    }
    else
    {
        return base * calculateExponent(base, exponent - 1);
    }
}

console.log(calculateExponent(2, 10)); // 输出1024
console.log(Math.pow(2, 10)); // 输出1024
</code></pre>
<p>使用指数操作符</p>
<p>使用指数运算符**，就像+、-等操作符一样：</p>
<pre><code>console.log(2**10);// 输出1024
复制代码ES8的特性

async/await
Object.values()
Object.entries()
String padding
函数参数列表结尾允许逗号
Object.getOwnPropertyDescriptors()
</code></pre>
<p>浏览器兼容性<br>
1.async/await<br>
在ES8中加入了对async/await的支持，也就我们所说的异步函数，这是一个很实用的功能。 async/await将我们从头痛的回调地狱中解脱出来了，使整个代码看起来很简洁。</p>
<p>使用async/await与不使用async/await的差别：</p>
<pre><code>login(userName) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve('1001');
        }, 600);
    });
}

getData(userId) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            if (userId === '1001') {
                resolve('Success');
            } else {
                reject('Fail');
            }
        }, 600);
    });
}
// 不使用async/await ES7
doLogin(userName) {
    this.login(userName)
        .then(this.getData)
        .then(result =&gt; {
            console.log(result)
        })
}

// 使用async/await ES8
async doLogin2(userName) {
    const userId=await this.login(userName);
    const result=await this.getData(userId);
}

this.doLogin()// Success
this.doLogin2()// Success
</code></pre>
<p>async/await的几种应用场景<br>
接下来我们来看一下async/await的几种应用场景。</p>
<p>获取异步函数的返回值</p>
<p>异步函数本身会返回一个Promise，所以我们可以通过then来获取异步函数的返回值。</p>
<pre><code>async function charCountAdd(data1, data2) {
    const d1=await charCount(data1);
    const d2=await charCount(data2);
    return d1+d2;
}
charCountAdd('Hello','Hi').then(console.log);//通过then获取异步函数的返回值。
function charCount(data) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve(data.length);
        }, 1000);
    });
}
</code></pre>
<p>async/await在并发场景中的应用</p>
<p>对于上述的例子，我们调用await两次，每次都是等待1秒一共是2秒，效率比较低，而且两次await的调用并没有依赖关系，那能不能让其并发执行呢，答案是可以的，接下来我们通过Promise.all来实现await的并发调用。</p>
<pre><code>async function charCountAdd(data1, data2) {
    const [d1,d2]=await Promise.all([charCount(data1),charCount(data2)]);
    return d1+d2;
}
charCountAdd('Hello','Hi').then(console.log);
function charCount(data) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve(data.length);
        }, 1000);
    });
}
</code></pre>
<p>通过上述代码我们实现了两次charCount的并发调用，Promise.all接受的是一个数组，它可以将数组中的promise对象并发执行；</p>
<p>async/await的几种错误处理方式</p>
<p>第一种：捕捉整个async/await函数的错误</p>
<pre><code>async function charCountAdd(data1, data2) {
    const d1=await charCount(data1);
    const d2=await charCount(data2);
    return d1+d2;
}
charCountAdd('Hello','Hi')
    .then(console.log)
    .catch(console.log);//捕捉整个async/await函数的错误
...
</code></pre>
<p>这种方式可以捕捉整个charCountAdd运行过程中出现的错误，错误可能是由charCountAdd本身产生的，也可能是由对data1的计算中或data2的计算中产生的。<br>
第二种：捕捉单个的await表达式的错误</p>
<pre><code>async function charCountAdd(data1, data2) {
    const d1=await charCount(data1)
        .catch(e=&gt;console.log('d1 is null'));
    const d2=await charCount(data2)
        .catch(e=&gt;console.log('d2 is null'));
    return d1+d2;
}
charCountAdd('Hello','Hi').then(console.log);
</code></pre>
<p>通过这种方式可以捕捉每一个await表达式的错误，如果既要捕捉每一个await表达式的错误，又要捕捉整个charCountAdd函数的错误，可以在调用charCountAdd的时候加个catch。</p>
<pre><code>...
charCountAdd('Hello','Hi')
    .then(console.log)
    .catch(console.log);//捕捉整个async/await函数的错误
...
</code></pre>
<p>第三种：同时捕捉多个的await表达式的错误</p>
<pre><code>async function charCountAdd(data1, data2) {
    let d1,d2;
    try {
        d1=await charCount(data1);
        d2=await charCount(data2);
    }catch (e){
        console.log('d1 is null');
    }
    return d1+d2;
}
charCountAdd('Hello','Hi')
    .then(console.log);

function charCount(data) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve(data.length);
        }, 1000);
    });
}
</code></pre>
<p>2.Object.values()<br>
Object.values()是一个与Object.keys()类似的新函数，但返回的是Object自身属性的所有值，不包括继承的值。<br>
假设我们要遍历如下对象obj的所有值：</p>
<pre><code>const obj = {a: 1, b: 2, c: 3};
</code></pre>
<p>不使用Object.values() :ES7</p>
<pre><code>const vals=Object.keys(obj).map(key=&gt;obj[key]);
console.log(vals);//[1, 2, 3]
</code></pre>
<p>使用Object.values() :ES8</p>
<pre><code>const values=Object.values(obj1);
console.log(values);//[1, 2, 3]
</code></pre>
<p>从上述代码中可以看出Object.values()为我们省去了遍历key，并根据这些key获取value的步骤。<br>
3.Object.entries<br>
Object.entries()函数返回一个给定对象自身可枚举属性的键值对的数组。<br>
接下来我们来遍历上文中的obj对象的所有属性的key和value：</p>
<p>不使用Object.entries() :ES7</p>
<pre><code>Object.keys(obj).forEach(key=&gt;{
	console.log('key:'+key+' value:'+obj[key]);
})
//key:a value:1
//key:b value:2
//key:c value:3
</code></pre>
<p>使用Object.entries() :ES8</p>
<pre><code>for(let [key,value] of Object.entries(obj1)){
	console.log(`key: ${key} value:${value}`)
}
//key:a value:1
//key:b value:2
//key:c value:3
</code></pre>
<p>4.String padding</p>
<p>在ES8中String新增了两个实例函数String.prototype.padStart和String.prototype.padEnd，允许将空字符串或其他字符串添加到原始字符串的开头或结尾。</p>
<pre><code>String.padStart(targetLength,[padString])
</code></pre>
<p>targetLength:当前字符串需要填充到的目标长度。如果这个数值小于当前字符串的长度，则返回当前字符串本身。<br>
padString:(可选)填充字符串。如果字符串太长，使填充后的字符串长度超过了目标长度，则只保留最左侧的部分，其他部分会被截断，此参数的缺省值为 &quot; &quot;。</p>
<pre><code>console.log('0.0'.padStart(4,'10')) //10.0
console.log('0.0'.padStart(20))//                0.00    

String.padEnd(targetLength,padString])
</code></pre>
<p>targetLength:当前字符串需要填充到的目标长度。如果这个数值小于当前字符串的长度，则返回当前字符串本身。<br>
padString:(可选) 填充字符串。如果字符串太长，使填充后的字符串长度超过了目标长度，则只保留最左侧的部分，其他部分会被截断，此参数的缺省值为 &quot; &quot;；</p>
<pre><code>console.log('0.0'.padEnd(4,'0')) //0.00    
console.log('0.0'.padEnd(10,'0'))//0.00000000
</code></pre>
<p>4.函数参数列表结尾允许逗号<br>
这是一个不痛不痒的更新，主要作用是方便使用git进行多人协作开发时修改同一个函数减少不必要的行变更。</p>
<p>不使用ES8</p>
<pre><code>//程序员A
var f = function(a,
  b
   ) { 
  ...
  }

//程序员B
var f = function(a,
  b,   //变更行
  c   //变更行
   ) { 
  ...
  }

//程序员C
var f = function(a,
  b,
  c,   //变更行
  d   //变更行
   ) { 
  ...
  }
</code></pre>
<p>使用ES8</p>
<pre><code>//程序员A
var f = function(a,
  b,
   ) { 
  ...
  }

//程序员B
var f = function(a,
  b,
  c,   //变更行
   ) { 
  ...
  }

//程序员C
var f = function(a,
  b,
  c,
  d,   //变更行
   ) { 
  ...
  }
</code></pre>
<p>5.Object.getOwnPropertyDescriptors()<br>
6.<br>
Object.getOwnPropertyDescriptors()函数用来获取一个对象的所有自身属性的描述符,如果没有任何自身属性，则返回空对象。</p>
<p>函数原型：</p>
<p>Object.getOwnPropertyDescriptors(obj)<br>
复制代码返回obj对象的所有自身属性的描述符，如果没有任何自身属性，则返回空对象。</p>
<pre><code>const obj2 = {
	name: 'Jine',
	get age() { return '18' }
};
Object.getOwnPropertyDescriptors(obj2)
// {
//   age: {
//     configurable: true,
//     enumerable: true,
//     get: function age(){}, //the getter function
//     set: undefined
//   },
//   name: {
//     configurable: true,
//     enumerable: true,
//		value:&quot;Jine&quot;,
//		writable:true
//   }
// }
</code></pre>
<p>参照阮一峰博客：http://es6.ruanyifeng.com/#README</p>
<p>es6常见题：https://blog.csdn.net/qq_39207948/article/details/80678800</p>
<p>数组用法：https://blog.csdn.net/tang15886395749/article/details/65629898</p>
<p>来源链接：https://juejin.im/post/5b9cb3336fb9a05d290ee47e</p>

                        </div>
                        
                            <div class="post-toc">
                                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#1%E7%B1%BBclass">1.类（class）</a></li>
<li><a href="#2%E6%A8%A1%E5%9D%97%E5%8C%96module">2.模块化(Module)</a></li>
<li><a href="#3%E7%AE%AD%E5%A4%B4arrow%E5%87%BD%E6%95%B0">3.箭头（Arrow）函数</a></li>
<li><a href="#4%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC">4.函数参数默认值</a></li>
<li><a href="#5%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2">5.模板字符串</a></li>
<li><a href="#6%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC">6.解构赋值</a></li>
<li><a href="#7%E5%BB%B6%E5%B1%95%E6%93%8D%E4%BD%9C%E7%AC%A6spread-operator">7.延展操作符(Spread operator)</a></li>
<li><a href="#9promise">9.Promise</a></li>
<li><a href="#10%E6%94%AF%E6%8C%81let%E4%B8%8Econst">10.支持let与const</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                            </div>
                            
                                
                                    
                                            <!--zh-->
                                            <section class="post-copyright zh">
                                                <p class="copyright-item ">
                                                    <span>&#x4F5C;&#x8005;:</span>
                                                    <span>🐳小咸鱼-自己的心情</span>
                                                </p>

                                                <p class="copyright-item">
                                                    <span>&#x6C38;&#x4E45;&#x94FE;&#x63A5;:</span>
                                                    <span><a href="https://xueshengjs.com/post/hQGSf1dCT/">https://xueshengjs.com/post/hQGSf1dCT/</a></span>
                                                </p>

                                                <p class="copyright-item">
                                                    <span>&#x534F;&#x8BAE;:</span>
                                                    <span>MIT License</span>
                                                </p>
                                            </section>
                                            
                                                
                                                    
                                                                    <!--Share-->
                                                                    <span style="margin-right:15px">
                        <i class="post-share"></i>
                        <span>&#x5206;&#x4EAB;:</span>
                                                                    <a title="QR 码" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://xueshengjs.com/post/hQGSf1dCT/"><i class="fa fa-qrcode"></i></a>
                                                                    <a title="QQ" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://xueshengjs.com/post/hQGSf1dCT/&sharesource=qzone&title=ES6、ES7、ES8新特性(速读)&pics=https://xueshengjs.com/images/avatar.png?v=1597398054089&summary="><i class="fa fa-qq"></i></a>
                                                                    <a title="新浪微博" target="_blank" href="https://service.weibo.com/share/share.php?url=https://xueshengjs.com/post/hQGSf1dCT/&sharesource=weibo&title=ES6、ES7、ES8新特性(速读) + " - " + &pic="https://xueshengjs.com/images/avatar.png?v=1597398054089 "><i class="fa fa-weibo "></i></a>

                                                                    </span>
                                                                    
                                                                            <!--zh-->
                                                                            <section class="post-tags zh ">
                                                                                <div>
                                                                                    <span>&#x6807;&#x7B7E;:</span>
                                                                                    <span class="tag ">
                        
                                </span>
                                                                                </div>
                                                                                <div>
                                                                                    <a href="javascript:window.history.back();">
                        &#x8FD4;&#x56DE;</a>
                                                                                    <span>&dot;</span>
                                                                                    <a href="#">&#x4E3B;&#x9875;</a>
                                                                                </div>
                                                                            </section>

                                                                            
                                                                                <!---->
                                                                                <section class="post-nav">
                                                                                    
                                                                                        <a class="prev" rel="prev" href="https://xueshengjs.com/post/XhORDmL-X/">
                                                                                            H5 双端库集合（二）
                                                                                        </a>
                                                                                        
                                                                                            
                                                                                                <a class="next" rel="next" href="https://xueshengjs.com/post/-vsextendsync/">
                                                                                                    VsCode扩展插件同步
                                                                                                </a>
                                                                                                
                                                                                </section>
                    </article>
                </div>
                
                    
                        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container" style="width: 100%;max-width: 780px;margin: auto;"></div>

<script>
    var gitalk = new Gitalk({
        clientID: '94bde96397c34f9c1527',
        clientSecret: '7da1c7e312aa9ab8537ef1b00e9856060cb78a01',
        repo: 'lingtin.github.io',
        owner: 'Lingtin',
        admin: ['Lingtin'],
        id: (location.pathname).substring(0, 49), // Ensure uniqueness and length less than 50
        distractionFreeMode: false // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
</script>
                            
                                        
                                            
            </div>
    </div>
    </div>
    </div>
    
    <div id="player"></div>
    
        <footer id="footer" class="footer">
            <div class="copyright">
                
                        
                            
                                <b id="hitokoto"></b><br>
                                
                                    <div style="width:300px;margin:0 auto; padding:0px 0;">
                                        <a target="_blank" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=18000511" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;">
                                            <img src="https://yanxuan.nosdn.127.net/b610ced5ac6a0e25cf6edf5606c69775.png" style="float:left;">
                                            <p id="icpinfo" style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;"></p>
                                        </a>
                                    </div>
                                    
                                        <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face">
            <path
                d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z"
                fill="#93b5cf"></path>
        </svg>
                                        🐳小咸鱼-自己的心情 &copy;Copyright
                                            <script>
                                                var date = new Date();
                                                document.write("" + date.getFullYear());
                                            </script>
                                            | Powered by
                                            <a href="https://github.com" target="_blank">
                                                Github
                                            </a>
            </div>
            <div id="update" style="display:none;">
                off
            </div>
            
                    <script>
                        var pat = '';
                        
                        document.write('<div id="home_path" style="display:none;">' + document.location.protocol + '//' + window.document.location.hostname + pat + '</div>')
                    </script>
        </footer>
        
                <script>
                    

                    function LoadPlayer() {
                        var music_array = [];
                        
                        music_array.push({
                            name: '欧阳娜娜 一心一念',
                            url: 'http://music.163.com/song/media/outer/url?id=1422745957.mp3',
                            artist: '欧阳娜娜，吴斌，林采欣',
                            cover: 'http://p1.music.126.net/PR_7urv106ELtN95gkiGUg==/109951164719542740.jpg?param=130y130',
                        });
                        
                        console.log(" MusicList: " + music_array);
                        
                        const ap = new APlayer({
                            container: document.getElementById('player'),
                            fixed: true,
                            audio: music_array
                        });
                        
                    }
                    LoadPlayer();
                    
                    
                    
                    hitokoto();
                    
                    var icp = document.getElementById('icpinfo');
                    icp.innerText = "陕ICP备18000511号-1";
                    
                    getStar();
                    hljs.initHighlighting();
                    console.clear();
                    
                    var newDate = new Date();
                    newDate.setTime(1597398054089);
                    console.log(" Blog Update Time: " + newDate.toLocaleDateString());
                    console.log("\n %c \u26a1Theme:Chic Author's Blog:https://blog.itjoker.cn  Write By ITJoker  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;");
                </script>
                
                    <div id="tp-weather-widget" style="background: #666;display: flex;"></div>
                    <script>
                        (function(T, h, i, n, k, P, a, g, e) {
                            g = function() {
                                P = h.createElement(i);
                                a = h.getElementsByTagName(i)[0];
                                P.src = k;
                                P.charset = "utf-8";
                                P.async = 1;
                                a.parentNode.insertBefore(P, a)
                            };
                            T["ThinkPageWeatherWidgetObject"] = n;
                            T[n] || (T[n] = function() {
                                (T[n].q = T[n].q || []).push(arguments)
                            });
                            T[n].l = +new Date();
                            if (T.attachEvent) {
                                T.attachEvent("onload", g)
                            } else {
                                T.addEventListener("load", g, false)
                            }
                        }(window, document, "script", "tpwidget", "//widget.seniverse.com/widget/chameleon.js"))
                    </script>
                    <script>
                        var wearther_margin = "10px 10px";
                        
                        wearther_margin = "70px 5px";
                        
                        tpwidget("init", {
                            "flavor": "bubble",
                            "location": "WX4FBXXFKE4F",
                            "geolocation": "enabled",
                            "position": "bottom-left",
                            "margin": wearther_margin,
                            "language": "zh-chs",
                            "unit": "c",
                            "theme": "chameleon",
                            "uid": "UFC977E1C7",
                            "hash": "213ad798bc472dc365da3a9d4a9ff115"
                        });
                        tpwidget("show");
                    </script>
                    
        </div>
</body>
<script>
    scroll();
</script>

</html>