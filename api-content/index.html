{"posts":[{"title":"js blobæµå’Œbase64ï¼Œä»¥åŠfileå’Œbase64çš„ç›¸äº’è½¬æ¢","content":"fileå’Œbase64 1.fileæ–‡ä»¶è½¬æ¢ä¸ºbase64ï¼Œå¾—åˆ°base64æ ¼å¼å›¾ç‰‡ var reader = new FileReader(); reader.readAsDataURL(this.files[0]); reader.onload = function(){ console.log(reader.result); //è·å–åˆ°base64æ ¼å¼å›¾ç‰‡ }; 2.base64è½¬æ¢ä¸ºfile function dataURLtoFile(dataurl, filename) {//å°†base64è½¬æ¢ä¸ºæ–‡ä»¶ var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while(n--){ u8arr[n] = bstr.charCodeAt(n); } return new File([u8arr], filename, {type:mime}); } æµ‹è¯•æ¡ˆä¾‹ï¼š &lt;input type=&quot;file&quot; name=&quot;&quot; id=&quot;imgfile&quot;&gt; &lt;script&gt; var base64Img = ''; document.getElementById('imgfile').onchange = function(){ var fileReader = new FileReader(); fileReader.readAsDataURL(this.files[0]); fileReader.onload = function(){ base64Img = fileReader.result; console.log(dataURLtoFile(base64Img,'img11')) } } function dataURLtoFile(dataurl, filename) {//å°†base64è½¬æ¢ä¸ºæ–‡ä»¶ var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while(n--){ u8arr[n] = bstr.charCodeAt(n); } return new File([u8arr], filename, {type:mime}); } &lt;/script&gt; blobå’Œbase64 3.base64è½¬æ¢ä¸ºblobæµ function dataURItoBlob(base64Data) { //console.log(base64Data);//data:image/png;base64, var byteString; if(base64Data.split(',')[0].indexOf('base64') &gt;= 0) byteString = atob(base64Data.split(',')[1]);//base64 è§£ç  else{ byteString = unescape(base64Data.split(',')[1]); } var mimeString = base64Data.split(',')[0].split(':')[1].split(';')[0];//mimeç±»å‹ -- image/png // var arrayBuffer = new ArrayBuffer(byteString.length); //åˆ›å»ºç¼“å†²æ•°ç»„ // var ia = new Uint8Array(arrayBuffer);//åˆ›å»ºè§†å›¾ var ia = new Uint8Array(byteString.length);//åˆ›å»ºè§†å›¾ for(var i = 0; i &lt; byteString.length; i++) { ia[i] = byteString.charCodeAt(i); } var blob = new Blob([ia], { type: mimeString }); return blob; } 4.blobæµè½¬æ¢ä¸ºbase64 function blobToDataURI(blob, callback) { var reader = new FileReader(); reader.readAsDataURL(blob); reader.onload = function (e) { callback(e.target.result); } } æµ‹è¯•æ¡ˆä¾‹ï¼Œå¯ç›´æ¥å¤åˆ¶è¿è¡Œ &lt;input type=&quot;file&quot; id=&quot;imgfile&quot;&gt; &lt;\\img src=&quot;&quot; id=&quot;img&quot; alt=&quot;&quot;&gt; //è¿™é‡Œå›¾ç‰‡æ€»æ˜¯è½¬ä¹‰ï¼Œæš‚ä¸”è¿™ä¹ˆå†™ï¼ŒçŸ¥é“æ˜¯imgå°±è¡Œ &lt;\\img src=&quot;&quot; id=&quot;img2&quot; alt=&quot;&quot;&gt; &lt;script&gt; document.getElementById('imgfile').onchange = function(){ reads(this.files[0],function(base64Data){ //è·å–å›¾ç‰‡çš„base64æ ¼å¼ï¼Œæ˜¾ç¤º document.getElementById(&quot;img&quot;).src= reader.result; var blob = dataURItoBlob(reader.result); //è½¬æ¢ä¸ºblobæ ¼å¼ blobToDataURI(blob,function(result){ //blobæ ¼å¼å†è½¬æ¢ä¸ºbase64æ ¼å¼ document.getElementById('img2').src = result; }) }); } function reads(_file,callback){ var reader = new FileReader(); reader.readAsDataURL(_file); reader.onload = function(){ callback(reader.result); }; } function dataURItoBlob(base64Data) { //console.log(base64Data);//data:image/png;base64, var byteString; if(base64Data.split(',')[0].indexOf('base64') &gt;= 0) byteString = atob(base64Data.split(',')[1]);//base64 è§£ç  else{ byteString = unescape(base64Data.split(',')[1]); } var mimeString = base64Data.split(',')[0].split(':')[1].split(';')[0];//mimeç±»å‹ -- image/png // var arrayBuffer = new ArrayBuffer(byteString.length); //åˆ›å»ºç¼“å†²æ•°ç»„ // var ia = new Uint8Array(arrayBuffer);//åˆ›å»ºè§†å›¾ var ia = new Uint8Array(byteString.length);//åˆ›å»ºè§†å›¾ for(var i = 0; i &lt; byteString.length; i++) { ia[i] = byteString.charCodeAt(i); } var blob = new Blob([ia], { type: mimeString }); return blob; } function blobToDataURI(blob, callback) { var reader = new FileReader(); reader.readAsDataURL(blob); reader.onload = function (e) { callback(e.target.result); } } &lt;/script&gt; ","link":"https://lingtin.github.io/post/gxbNEPBuQ/"},{"title":"Github å¼€æºæŒ‡å—","content":"æ–‡ç« æ¥æºï¼šhttps://www.yuque.com/chenshuai/web/szlnbw Github å¼€æºæŒ‡å— github ä¸Šå¼€æºä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”å†…ç½®åˆ° umi+antd ç³»åˆ—ä¸­å¯ä»¥å¿«é€Ÿçš„å¾—åˆ°æ›´å¤šçš„åé¦ˆï¼Œå¹¶ä¸”å¯ä»¥è·å¾—ä¸€äº› PR å¸®åŠ©æˆ‘ä»¬çš„æŠ€æœ¯æ ˆå¿«é€Ÿæˆé•¿ã€‚ä½†æ˜¯Github æœ‰ä¸€å¥—è‡ªå·±çš„å·¥ä½œæµï¼Œå¯¹äºä¹ æƒ¯å†…éƒ¨ç³»ç»Ÿçš„æˆ‘ä»¬è¿˜æ˜¯æœ‰ä¸€äº›ä¸Šæ‰‹æˆæœ¬ï¼Œè¿™ç¯‡æ–‡ç« ä¼šåˆ—ä¸¾ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å¼€å§‹è‡ªå·±çš„å¼€æºç”Ÿæ¶¯ï¼Œæ—©æ—¥æˆä¸ºåæœ›ç¨‹åºå‘˜ã€‚ å‡†å¤‡å·¥ä½œ GitHub ä½œä¸ºä¸€ä¸ªä¸­å¿ƒåŒ–çš„ git ç®¡ç†å¹³å°ï¼Œéœ€è¦ä¸€ä¸ªè´¦å·æ¥è¿›è¡Œå¼€å‘å’Œç®¡ç†è‡ªå·±çš„ä»“åº“ã€‚æ³¨å†Œå·è´¦å·ä»¥åå°±å¯ä»¥ clone ä»“åº“æ¥è¿›è¡Œå¼€å‘äº†ï¼Œä»¥ antd ä¸ºä¾‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ssh å’Œ https ä¸¤ç§æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œè¿™é‡Œæ¨èä½¿ç”¨sshï¼Œhttps çš„é‰´æƒæ¯”è¾ƒéº»çƒ¦ï¼Œç»å¸¸ä¼šå¤±è´¥ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨ SSH é…ç½®ä¸­ é…ç½®è‡ªå·±çš„ SSH keysï¼Œè®¾ç½®ä¹‹åå°±å¯ä»¥å®Œç¾çš„æ”¯æŒå„ç§çš„ä»“åº“çš„ cloneï¼Œå¦‚æœè¿˜æ˜¯æƒ³ä½¿ç”¨ httpsï¼Œæ¨èä½¿ç”¨å¾®è½¯çˆ¸çˆ¸çš„æä¾›çš„ GCMC è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”å®‰è£… GitHub Desktop å’Œ VScode çš„github æ’ä»¶ï¼Œ vscode æä¾›äº†ä¸€ä¸ªè¯¦ç»†çš„æ•™ç¨‹æ¥é…ç½®æˆ‘ä»¬çš„å·¥ä½œæµã€‚ ä¸ºäº†æå‡è´¦å·çš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬æ¨èæ‰“å¼€ GitHub çš„ä¸¤æ­¥éªŒè¯ï¼Œç”±äº GitHub ä¸æ”¯æŒä¸­å›½å¤§é™†çš„æ‰‹æœºï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é‰´æƒ Appï¼Œè¿™é‡Œæ¨èä½¿ç”¨ å¾®è½¯ Authenticator æ¥æ”¯æŒï¼Œå®ƒå¯ä»¥æ–¹ä¾¿çš„åœ¨å›½å†…ä½¿ç”¨ã€‚å½“ç„¶ google play ä¸Šè¿˜æœ‰ä¸€ç³»åˆ— APP, å¯ä»¥è‡ªè¡Œé€‰æ‹©ã€‚ å¦‚æœæˆ‘ä»¬éœ€è¦ç®¡ç†ä¸€ä¸ªä»“åº“ï¼Œæ¨èå®‰è£… gh ï¼ŒGitHub å®˜æ–¹å‡ºå“ã€‚ è¿™é‡Œåˆ—ä¸¾å‡ ä¸ªéå¸¸å¸¸ç”¨çš„å‘½ä»¤ï¼š // åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å½“å‰çš„ä»“åº“ gh repo view -w // ç”¨å½“å‰çš„åˆ†æ”¯æä¸€ä¸ªpr gh pr create // æŸ¥çœ‹å½“å‰åˆ†æ”¯æä¾›çš„ pr gh pr view -w å¼€å‘ ä¸€èˆ¬è€Œè¨€ github çš„å·¥ä½œæµï¼Œä¼šå…ˆ checkout ä¸€ä¸ªåˆ†æ”¯ï¼Œåœ¨åˆ†æ”¯ä¸Šå¼€å‘å®Œæˆä¹‹åï¼Œæäº¤ä¸€ä¸ª PRï¼Œ Approve ä¹‹åå°±å¯ä»¥å°±å¯ä»¥ merge åˆ° master ç­‰å¾…æ—¶é—´å‘å¸ƒã€‚ åè¯è§£é‡Š PR pull requests çš„ç®€ç§°ï¼Œå­—é¢æ„æ€æ˜¯å¸Œæœ›åˆ«äºº pull ä½ çš„ä»£ç ï¼Œæ˜¯å¸Œæœ›ä»“åº“å°†ä½ çš„ä»£ç åˆå¹¶åˆ°ä»“åº“ä¸­ã€‚å¸¸è§ç”¨æ³• ï¼š æ¥ä¸ª pr ï¼Ÿ lssue å­—é¢æ„æ€æ˜¯é—®é¢˜ï¼Œæ˜¯ github æä¾›çš„ç”¨æ¥è·Ÿè¸ª bug æˆ–è€…éœ€æ±‚çš„å·¥å…·,æäº† issue ä¸€èˆ¬ä¼šå¼‚æ­¥è§£å†³ã€‚ å¸¸è§ç”¨æ³• ï¼š æä¸ª issue å§ Collaborator_ä»£è¡¨æ˜¯æŸä¸ªä»“åº“çš„ç»´æŠ¤äººå‘˜ï¼Œå¦‚æœæ˜¯æŸä¸ªä»“åº“çš„ Collaborator ä»£è¡¨ä½ ç»™è¿™ä¸ªä»“åº“è´¡çŒ®è¿‡ä»£ç ã€‚ å¸¸è§ç”¨æ³•ï¼š æˆ‘å‘ç° xxx æœ‰ä¸ªé”™åˆ«å­—ï¼Œæ­£å¥½å»è¹­ä¸ª Collaborator Approve _èµåŒï¼Œä½œä¸ºä»“åº“çš„æ‰€æœ‰äººåŒæ„äº†è¿™ä¸ª prä¹‹åï¼Œå°±å¯ä»¥ç‚¹å‡» Approve æ¥åŒæ„è¿™ä¸ªæäº¤ï¼Œä¸€èˆ¬è¦æ±‚æ¯”è¾ƒä¸¥æ ¼çš„ä»“åº“éƒ½éœ€è¦è‡³å°‘ä¸€ç¥¨ Approve ã€‚å¸¸è§ç”¨æ³•ï¼š ä¹è®¨ Approve æ›´å¤šåå­—å¯ä»¥çœ‹è¿™é‡Œ https://docs.github.com/cn/github/getting-started-with-github/github-glossary yarn ç°åœ¨çš„ å¤š repo å·²ç»éå¸¸å¤šï¼Œä¸ºäº†æ–¹ä¾¿çš„ä½¿ç”¨ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ learn+yarn ï¼Œyarn çš„ workspaces å¯¹å¤š repo æä¾›äº†è‰¯å¥½çš„æ”¯æŒã€‚è¿™é‡Œæ¨èä½¿ç”¨ tyarnã€‚å¯ä»¥è¿™æ ·å®‰è£… : npm i yarn tyarn -g ## å·¥å…· ### Actions github æä¾›äº†å¾ˆå¤šå·¥å…·æ¥æå‡æˆ‘ä»¬çš„å¼€å‘ä½“éªŒï¼ŒåŸºæœ¬ä¸Šè¦†ç›–äº†æˆ‘ä»¬å…¨æµç¨‹çš„å¼€å‘ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ GitHub ä¸Šæ–°å»ºä»»åŠ¡ï¼Œç®¡ç† issue ï¼Œç®¡ç†ç‰ˆæœ¬ï¼Œå‘å¸ƒç½‘ç«™ï¼Œä¾æ‰˜ github æä¾›çš„å„ç§åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æµç•…çš„å¼€å‘ã€‚ åœ¨å¼€å‘é˜¶æ®µæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ github ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ github actions æ¥æ–°å»ºä¸€ä¸ª CIã€‚ åªè¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ .github/workflows æ–°å»ºä¸€ä¸ª xx.ymlã€‚è¿™é‡Œæœ‰ä¸ªç®€å•çš„ CI å¯ä»¥åœ¨æ¯æ¬¡ commit ä¸­å‘èµ·ä¸€ä¸ªæµ‹è¯•ã€‚ name: Node CI on: [push, pull_request] jobs: build: runs-on: ${{ matrix.os }} strategy: matrix: node_version: [12.x] os: [ubuntu-latest, windows-latest] steps: - uses: actions/checkout@v1 - name: Use Node.js ${{ matrix.node_version }} uses: actions/setup-node@v1 with: node-version: ${{ matrix.node_version }} - run: echo ${{github.ref}} - run: yarn - run: yarn run lint - run: yarn run tsc - run: yarn run build - run: yarn run test env: CI: true PROGRESS: none NODE_ENV: test NODE_OPTIONS: --max_old_space_size=4096 Issue æ¨¡æ¿ åœ¨ .github ä¸­ ISSUE_TEMPLATE ä¸­æ–°å»ºä¸€ä¸ªxxx.md å¯ä»¥æä¾›ä¸€ä¸ª issue çš„æ¨¡æ¿ã€‚ --- name: 'ç–‘é—®æˆ–éœ€è¦å¸®åŠ© â“' about: å¯¹ Ant Design Pro ä½¿ç”¨çš„ç–‘é—®æˆ–éœ€è¦å¸®åŠ© title: 'ğŸ§[é—®é¢˜]' labels: 'ğŸ§question' assignees: '' --- ### ğŸ§ é—®é¢˜æè¿° &lt;!-- è¯¦ç»†åœ°æè¿°é—®é¢˜ï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£ --&gt; ### ğŸ’» ç¤ºä¾‹ä»£ç  &lt;!-- å¦‚æœä½ æœ‰è§£å†³æ–¹æ¡ˆï¼Œåœ¨è¿™é‡Œæ¸…æ™°åœ°é˜è¿° --&gt; ### ğŸš‘ å…¶ä»–ä¿¡æ¯ &lt;!-- å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ --&gt; Pages GitHub ä¸Šæœ‰å¾ˆå¤šæ–¹ä¾¿çš„ actions æ¨¡æ¿å¯ä»¥è½»æ¾ä½¿ç”¨ï¼Œä¾‹å¦‚ rebase å’Œ github pagesï¼Œæˆ‘ä»¬çš„é¡¹ç›®å¼€å‘åˆ°ä¸€å®šé˜¶æ®µæ—¶å°±éœ€è¦ä¸€ä¸ªç½‘ç«™æ¥è¿›è¡Œé¢„è§ˆå’Œå‘å¸ƒã€‚github æä¾›äº† github pages æ¥å¸®åŠ©æˆ‘ä»¬å®ç°åŠŸèƒ½ï¼Œå®ƒå¯ä»¥æ”¯æŒ https å’Œ è‡ªå®šä¹‰åŸŸåã€‚æˆ‘ä»¬ä¸€èˆ¬ä¼šé€šè¿‡ CI æ¥å‘å¸ƒ github pages, è¿™é‡Œæœ‰ä¸€ä¸ª actions å¯ä»¥è‡ªåŠ¨éƒ¨ç½² mater çš„ä»£ç åˆ° github pagesã€‚ name: Deploy CI on: [push] jobs: build-and-deploy: runs-on: ubuntu-latest if: github.ref == 'refs/heads/master' steps: - name: Checkout uses: actions/checkout@master - run: yarn - run: npm run lint # - run: yarn run tsc - name: Build and Deploy uses: JamesIves/github-pages-deploy-action@master env: CI: true GA_KEY: UA-72788897-6 PROGRESS: none GIT_CONFIG_NAME: qixian.cs GIT_CONFIG_EMAIL: qixian.cs@outlook.com NODE_OPTIONS: --max_old_space_size=4096 ANT_DESIGN_PRO_ONLY_DO_NOT_USE_IN_YOUR_PRODUCTION: site GITHUB_TOKEN: ${{ secrets.ACTION_TOKEN }} BRANCH: gh-pages FOLDER: 'dist/' BUILD_SCRIPT: yarn &amp;&amp; npm run site &amp;&amp; git checkout . &amp;&amp; git clean -df å‘å¸ƒç½‘ç«™ä¹‹åæˆ‘ä»¬å¯èƒ½éœ€è¦å‘å¸ƒä¸€ä¸‹ç‰ˆæœ¬ã€‚è¿™é‡Œæ¨èä½¿ç”¨ np æ¥è¿›è¡Œå‘å¸ƒï¼Œå¯ä»¥å‡å°‘å‘å¸ƒçš„å·¥ä½œé‡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªäº¤äº’å¼ çš„å‘å¸ƒå·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬å‘å¸ƒç‰ˆæœ¬ã€‚ æ›´å¤šçš„å·¥å…·å¯ä»¥åœ¨ antd çš„ä»“åº“æŠ„ä¸€ä¸‹ https://github.com/ant-design/ant-design/tree/master/.github æµ‹è¯•è¦†ç›–ç‡ codecov ç°åœ¨å·²ç»æ˜¯äº‹å®ä¸Šçš„æ ‡å‡†ï¼Œå‡ ä¹æ¯ä¸ªå¼€æºåº“éƒ½ä¼šæ¥å…¥å®ƒã€‚è€Œä¸”å®ƒæ˜¯å®Œå…¨å…è´¹çš„ã€‚æ¥å…¥ä¸€ä¸ªå¼€æºé¡¹ç›®éå¸¸ç®€å•ï¼Œåªè¦ä¸€è¡Œä»£ç ã€‚ bash &lt;(curl -s https://codecov.io/bash) å½“ç„¶ä½ è¦å…ˆå»çš„å®˜ç½‘æ³¨å†Œä¸€ä¸‹ï¼Œumi ä¹Ÿæä¾›äº† umi test:coverage æ¥æ”¯æŒ codecovã€‚ badge badge å¯ä»¥å¿«é€Ÿçš„å±•ç¤ºä¸€äº›å°ä¿¡æ¯ï¼Œå¸®åŠ©æå‡ç¤¾ä¼šåœ°ä½ã€‚ shields.io æ”¯æŒå„ç§ badgeï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸‹è‡ªå·±çš„ badgeã€‚ è¿›é˜¶ åœ¨è¿›è¡Œäº†åˆå§‹çš„å¼€å‘ä¹‹åæˆ‘ä»¬å°±éœ€è¦ä¸€äº›è‡ªå®šä¹‰ä¹‹ç±»çš„é«˜ç«¯ç©æ³•ã€‚ è‡ªå®šä¹‰åŸŸå è¿™é‡Œæ¨èåœ¨ godaddy è´­ä¹°åŸŸåï¼Œåœ¨ cloudflare è¿›è¡ŒåŸŸåç”³è¯·ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ github ä¸­å¢åŠ å¯¹è±¡ CNAME ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸåï¼Œç„¶å cloudflare ç®€å•çš„é…ç½®ä¸€ä¸‹ åŒ…å‘å¸ƒ npm çš„ organizations å¯ä»¥å‘å¸ƒä¸€ç³»åˆ—çš„åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ npm ä¸­æ‰¾åˆ°å®ƒã€‚ æŸ¥çœ‹åŒ…å†…å®¹ pkg å¯ä»¥æ–¹ä¾¿çš„åšåˆ°è¿™ä¸€ç‚¹ï¼Œé…åˆ yarn list ä½¿ç”¨æ•ˆæœæ›´ä½³ https://unpkg.com/packagename ç»Ÿè®¡ analytics æ˜¯çœŸçš„æ–¹ä¾¿ï¼Œè°ç”¨è°çŸ¥é“ï¼Œå¯ä»¥é…åˆ https://umijs.org/plugins/plugin-analytics ä¸€èµ·ä½¿ç”¨ã€‚ ","link":"https://lingtin.github.io/post/JLj-ZHO_x/"},{"title":"Homebrew","content":"å®‰è£…Homebrew https://brew.sh/ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; é…ç½®å›½å†…é•œåƒ # æ›¿æ¢brew.git: $ cd &quot;$(brew --repo)&quot; # ä¸­å›½ç§‘å¤§: $ git remote set-url origin https://mirrors.ustc.edu.cn/brew.git # æ¸…åå¤§å­¦: $ git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git # æ›¿æ¢homebrew-core.git: $ cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot; # ä¸­å›½ç§‘å¤§: $ git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git # æ¸…åå¤§å­¦: $ git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git # æ›¿æ¢homebrew-bottles: # ä¸­å›½ç§‘å¤§: $ echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' &gt;&gt; ~/.bash_profile $ source ~/.bash_profile # æ¸…åå¤§å­¦: $ echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles' &gt;&gt; ~/.bash_profile $ source ~/.bash_profile # åº”ç”¨ç”Ÿæ•ˆ: brew update ç¡®å®šbrewå¥åº·çŠ¶å†µ # ç¡®è®¤brewåœ¨æ­£å¸¸å·¥ä½œ brew doctor # updateæ›´æ–°åŒ… brew ","link":"https://lingtin.github.io/post/U18VlEloh/"},{"title":"Vue3æºç -reactivityï¼Œeffectï¼ŒcomputedåŸç†è§£æå®ç°","content":"1ã€Vue3 Vue3 GitHub åœ°å€ï¼šhttps://github.com/vuejs/vue-next æ–°ç‰ˆçš„Vue3ä¸»è¦æ˜¯ç”± å‡ ä¸ª package ä¸ºæ ¸å¿ƒå®ç°çš„ compiler-core ==&gt; ç¼–è¯‘å™¨æ ¸å¿ƒï¼› compiler-dom ==&gt; æµè§ˆå™¨æ¸²æŸ“ç¼–è¾‘æ¨¡å—; compiler-sfc ==&gt; æœåŠ¡ç«¯æ¸²æŸ“ç¼–è¯‘æ¨¡å—; runtime-dom ==&gt; é’ˆå¯¹æµè§ˆå™¨çš„è¿è¡Œæ—¶; runtime-core ==&gt; è¿è¡Œæ—¶æ ¸å¿ƒ; reactivity ==&gt; å“åº”å¼ç³»ç»Ÿ; 2ã€reactiveity å®ç° Vue2 å“åº”å¼æ•°æ®ä½¿ç”¨çš„æ˜¯ defineProperty å±æ€§ï¼Œæ¯æ¬¡è§‚å¯Ÿéƒ½éœ€è¦å¢åŠ getterå’Œsetterå±æ€§ï¼Œå¦‚æœæœ‰æ·±å±‚å±æ€§ï¼Œä¼šå½¢æˆé€’å½’ï¼Œé€’å½’ä¼šå½±å“æ€§èƒ½ï¼Œå¦‚æœå¯¹è±¡æ˜¯æ•°ç»„æˆ–æ·±å±‚å¯¹è±¡ï¼Œä¸èƒ½å½¢æˆè§‚å¯Ÿã€‚ Vue3ä½¿ç”¨ES6çš„Proxyæ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é¦–å…ˆProxyæ˜¯æ”¯æŒæ•°ç»„çš„ä¹Ÿå°±æ˜¯æ•°ç»„æ˜¯ä¸éœ€è¦åšç‰¹åˆ«çš„ä»£ç çš„ã€‚å¯¹äºæ·±å±‚ç›‘å¬ä¹Ÿä¸ä¸å¿…è¦ä½¿ç”¨é€’å½’çš„æ–¹å¼è§£å†³ã€‚å½“getæ˜¯åˆ¤æ–­å€¼ä¸ºå¯¹è±¡æ—¶å°†å¯¹è±¡åšå“åº”å¼å¤„ç†è¿”å›ã€‚åœ¨å¤§æ€§èƒ½ä¸Šå¾—åˆ°å¾ˆå¤§çš„æå‡ã€‚ code... function reactive(data) { if (typeof data !== 'object' || data === null) { return data } const observed = new Proxy(data, { get(target, key, receiver) { // Reflectæœ‰è¿”å›å€¼ä¸æŠ¥é”™ let result = Reflect.get(target, key, receiver) // å¤šå±‚ä»£ç† return typeof result !== 'object' ? result : reactive(result) }, set(target, key, value, receiver) { effective() // proxy + reflect const ret = Reflect.set(target, key, value, receiver) return ret }, deleteProperty(target,key){ const ret = Reflect.deleteProperty(target,key) return ret } }) return observed } 3ã€effect å®ç° Vue3çš„å“åº”å¼æ ¸å¿ƒä¸»è¦æ˜¯effectå‡½æ•°ä¾èµ–ã€‚ä¸»è¦ä½¿ç”¨ Proxy å’Œ Reflect è¿›è¡Œå¯¹è±¡ä»£ç†å’Œåå°„å†…éƒ¨å±æ€§ åšä¾èµ–æ”¶é›†ï¼Œé€šè¿‡æ ˆæ ¸å¿ƒæ”¶é›†è¿™ä¸ªå¯¹è±¡ï¼Œæ¯æ¬¡å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå»æ‰§è¡Œè¿™ä¸ªå¯¹è±¡çš„å±æ€§çš„setterå’Œgettterï¼Œè§¦å‘ä¾èµ–æ›´æ–°ï¼Œæ€»æ¥çš„æ¥è¯´å°±ä¼šå½¢æˆeffectã€‚ code... export function effect(fn, options) { // watch effect const effect = createReactiveEffect(fn, options) return effect } // åˆ›å»ºå“åº”å¼çš„effect let uid = 0 // åˆ›å»ºä¸€ä¸ªå”¯ä¸€æ€§id let activeEffect // åˆ›å»ºä¸€ä¸ªå½“å‰æ‰§è¡Œçš„ effect const effectStack = [] // æ ˆç»“æ„ ç±»æ•°ç»„ æ”¶é›†effect function createReactiveEffect(fn, options) { const effect = function reactiveEffect() { if (effectStack.includes(effect)) { try { effectStack.push(effect) activeEffect = effect // å½“å‰æ‰§è¡Œçš„æ˜¯å“ªä¸ªeffect return fn() } finally () { effectStack.pop() // æ‰§è¡Œå®Œä¹‹å æŠ›å‡º activeEffect = effectStack[effectStack.length - 1] // å½“å‰æ‰§è¡Œçš„effect ä¹Ÿç½®ç©º } } } effect.id = uid++ effect.options = effect effect.dep = [] // ä¾èµ–çš„ effect return effect } // track const targetMap = new WeakMap() //ç”¨æ³•å’Œmapä¸€è‡´ ä½†æ˜¯å¼±å¼•ç”¨ ä¸ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ export function track(target, type, key) { // a = [effect,effect] b = [effect] if (activeEffect == undefined) { return // è¯´æ˜å–å€¼çš„å±æ€§ ä¸ä¾èµ–äº effect } let depsMap = targetMap.get(target) // æ ¹æ®key æ¥è¿›è¡Œå–å€¼ if (!depsMap) { targetMap.set(target, (depsMap = new Map())) } let dep = depsMap.get(key) if (!dep) { depsMap.set(key, (dep = new Set())) } if (!dep.has(activeEffect)) { dep.add(activeEffect) // { &quot;{name:'zf'}&quot;:{name:set(effect)} } // activeEffect.deps.push(dep); // è®©è¿™ä¸ªeffect è®°å½•depå±æ€§ } } // trigger export function trigger(target, type, key, value, oldValue) { const depsMap = targetMap.get(target) // è·å–å½“å‰å¯¹åº”çš„map if (!depsMap) { return } // è®¡ç®—å±æ€§è¦ä¼˜å…ˆäºeffectæ‰§è¡Œ const effects = new Set() const computedRunners = new Set() const add = (effectsToAdd) =&gt; { if (effectsToAdd) { effectsToAdd.forEach((effect) =&gt; { if (effect.options.computed) { computedRunners.add(effect) } else { effects.add(effect) } }) } } if (key !== null) { // arr.push(4) [1,2,3 , 4] push length add(depsMap.get(key)) } if (type === TriggerOpTypes.ADD) { // å¯¹æ•°ç»„æ–°å¢å±æ€§ ä¼šè§¦å‘length å¯¹åº”çš„ä¾èµ– åœ¨å–å€¼çš„æ—¶å€™å›å¯¹lengthå±æ€§è¿›è¡Œä¾èµ–æ”¶é›† add(depsMap.get(Array.isArray(target) ? 'length' : '')) } const run = (effect) =&gt; { if (effect.options.scheduler) { effect.options.scheduler() } else { effect() } } computedRunners.forEach(run) effects.forEach(run) } 4ã€computed computedçš„å®ç° æ˜¯åœ¨effect ä¹‹ä¸Šå®ç°çš„ï¼Œcomputedå¯ä»¥å®ä¾‹è‡ªå·±çš„getå’Œsetæ–¹æ³•ï¼Œ computed æ˜¯æ‡’ æ‰§è¡Œï¼Œç­‰éœ€è¦æ—¶å†æ‰§è¡Œï¼Œè€Œä¸æ˜¯ å®ä¾‹åŒ–å°±å»æ‰§è¡Œçš„ï¼Œè¿™ç‚¹å’Œ effectä¸ä¸€æ ·ï¼Œ // ----------- operation export const TrackOpTypes = { 'GET':'get' } export const TriggerOpTypes = { 'SET':'set', 'ADD':'add' } //----------- computed import { isFunction } from &quot;../shared/utils&quot;; import { effect, track, trigger } from &quot;./effect&quot;; import { TrackOpTypes, TriggerOpTypes } from &quot;./operation&quot;; export function computed(getterOrOptions) { let getter; let setter; if (isFunction(getterOrOptions)) { getter = getterOrOptions; setter = () =&gt; {} }else{ getter = getterOrOptions.get; setter = getterOrOptions.set; } let dirty = true; // é»˜è®¤ç¬¬ä¸€æ¬¡å–å€¼æ˜¯æ‰§è¡Œgetteræ–¹æ³•çš„ let computed; // è®¡ç®—å±æ€§ä¹Ÿæ˜¯ä¸€ä¸ªeffect let runner = effect(getter,{ lazy:true, // æ‡’åŠ è½½ computed:true, // è¿™é‡Œä»…ä»…æ˜¯æ ‡è¯†è€Œå·² æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ scheduler:()=&gt;{ if(!dirty){ dirty = true; // ç­‰ä¼šå°±ç®—å±æ€§ä¾èµ–çš„å€¼å‘ç”Ÿå˜åŒ–å å°±ä¼šæ‰§è¡Œè¿™ä¸ªscheduler trigger(computed,TriggerOpTypes.SET,'value') } } }) let value; computed = { get value(){ if(dirty){ // å¤šæ¬¡å–å€¼ ä¸ä¼šé‡æ–°æ‰§è¡Œeffect value = runner(); dirty = false; track(computed,TrackOpTypes.GET,'value') } return value; }, set value(newValue){ setter(newValue); } } return computed; } ","link":"https://lingtin.github.io/post/vue3-0/"},{"title":"v2rayå®¢æˆ·ç«¯ä½¿ç”¨","content":"V2Rayæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€æºç½‘ç»œä»£ç†å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ ç•…çˆ½ä½“éªŒäº’è”ç½‘ï¼Œç›®å‰å·²ç»å…¨å¹³å°æ”¯æŒWindowsã€Macã€Androidã€IOSã€Linuxç­‰æ“ä½œç³»ç»Ÿçš„ä½¿ç”¨ã€‚ç›¸å¯¹èµ·Shadowsocksæ¥è¯´å±äºåèµ·ä¹‹ç§€ï¼Œåœ¨æ··æ·†èƒ½åŠ›ã€å…¼å®¹æ€§ã€é€Ÿåº¦ä¸Šæœ‰ç€ç‹¬åˆ°çš„ä¼˜ç‚¹ã€‚åœ¨ç›®å‰Shadowsocksã€ShadowsocksRåœæ­¢æ›´æ–°çš„æƒ…å†µä¸‹ï¼Œå¤šæŒæ¡ä¸€ä¸ªæ´»è·ƒé¡¹ç›®å·¥å…·çš„ä½¿ç”¨æ˜¯å®Œå…¨æœ‰å¿…è¦çš„. åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒV2Rayé¡¹ç›®çš„çŠ¶å†µè‰¯å¥½ï¼Œè¡ç”Ÿå‡ºä¸€ç³»åˆ—GUIå®¢æˆ·ç«¯ï¼Œè€Œä¸å†æ˜¯åŸå…ˆå•ä¸€çš„å‘½ä»¤è¡Œå·¥å…·ã€‚é¡¹ç›®æ›´åä¸ºProject Vï¼Œè€ŒV2Rayåˆ™æ˜¯Project Vé¡¹ç›®çš„å†…æ ¸ï¼Œå¦‚æœä½ å¯¹é¡¹ç›®æœ¬èº«ä¸æ„Ÿå…´è¶£ï¼Œä¾ç„¶å¯ä»¥æŒ‰ç…§åŸå…ˆçš„æ–¹å¼ç†è§£. è¿™é‡Œç»™å¤§å®¶ä¸€ä¸ªé“¾æ¥ v2ray å®˜æ–¹æ–‡æ¡£ https://www.v2ray.com ç¥ä¸€æ ·çš„å·¥å…· https://www.v2ray.com/awesome/tools.html è¡¥å……-----&gt; è¿™é‡Œæ˜¯æˆ‘å¶å°”é€›è®ºå›å‘ç°çš„ä¸€ä¸ª V2Ray åˆ†äº«åœ°å€ï¼Œç”±äº å®˜æ–¹çš„ V2Rayåœ°å€è¢«å¢™ï¼Œæ¨èè¿™é‡Œå»æŸ¥çœ‹åˆ†äº«ã€‚ tlanyanï¼šhttps://tlanyan.me/v2ray-clients-download/ ","link":"https://lingtin.github.io/post/BXJ8qKOnd/"},{"title":"mysqlå­¦ä¹ é€ŸæŸ¥è®°å½•","content":"æŸ¥è¯¢æ€»ç»“ select æŸ¥è¯¢åˆ—è¡¨ â‘¦ from è¡¨1 åˆ«å â‘  è¿æ¥ç±»å‹ join è¡¨2 â‘¡ on è¿æ¥æ¡ä»¶ â‘¢ where ç­›é€‰ â‘£ group by åˆ†ç»„åˆ—è¡¨ â‘¤ having ç­›é€‰ â‘¥ order byæ’åºåˆ—è¡¨ â‘§ limit èµ·å§‹æ¡ç›®ç´¢å¼•ï¼Œæ¡ç›®æ•°; â‘¨ åŸºç¡€æŸ¥è¯¢ ä¸€ã€è¯­æ³• select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å; äºŒã€ç‰¹ç‚¹ 1ã€æŸ¥è¯¢åˆ—è¡¨å¯ä»¥æ˜¯å­—æ®µã€å¸¸é‡ã€è¡¨è¾¾å¼ã€å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ª 2ã€æŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ ä¸‰ã€ç¤ºä¾‹ 1ã€æŸ¥è¯¢å•ä¸ªå­—æ®µ select å­—æ®µå from è¡¨å; 2ã€æŸ¥è¯¢å¤šä¸ªå­—æ®µ select å­—æ®µåï¼Œå­—æ®µå from è¡¨å; 3ã€æŸ¥è¯¢æ‰€æœ‰å­—æ®µ select * from è¡¨å 4ã€æŸ¥è¯¢å¸¸é‡ select å¸¸é‡å€¼; æ³¨æ„ï¼šå­—ç¬¦å‹å’Œæ—¥æœŸå‹çš„å¸¸é‡å€¼å¿…é¡»ç”¨å•å¼•å·å¼•èµ·æ¥ï¼Œæ•°å€¼å‹ä¸éœ€è¦ 5ã€æŸ¥è¯¢å‡½æ•° select å‡½æ•°å(å®å‚åˆ—è¡¨); 6ã€æŸ¥è¯¢è¡¨è¾¾å¼ select 100/1234; 7ã€èµ·åˆ«å â‘ as â‘¡ç©ºæ ¼ 8ã€å»é‡ select distinct å­—æ®µå from è¡¨å; 9ã€+ ä½œç”¨ï¼šåšåŠ æ³•è¿ç®— select æ•°å€¼+æ•°å€¼; ç›´æ¥è¿ç®— select å­—ç¬¦+æ•°å€¼;å…ˆè¯•å›¾å°†å­—ç¬¦è½¬æ¢æˆæ•°å€¼ï¼Œå¦‚æœè½¬æ¢æˆåŠŸï¼Œåˆ™ç»§ç»­è¿ç®—ï¼›å¦åˆ™è½¬æ¢æˆ0ï¼Œå†åšè¿ç®— select null+å€¼;ç»“æœéƒ½ä¸ºnull 10ã€ã€è¡¥å……ã€‘concatå‡½æ•° åŠŸèƒ½ï¼šæ‹¼æ¥å­—ç¬¦ select concat(å­—ç¬¦1ï¼Œå­—ç¬¦2ï¼Œå­—ç¬¦3,...); 11ã€ã€è¡¥å……ã€‘ifnullå‡½æ•° åŠŸèƒ½ï¼šåˆ¤æ–­æŸå­—æ®µæˆ–è¡¨è¾¾å¼æ˜¯å¦ä¸ºnullï¼Œå¦‚æœä¸ºnull è¿”å›æŒ‡å®šçš„å€¼ï¼Œå¦åˆ™è¿”å›åŸæœ¬çš„å€¼ select ifnull(commission_pct,0) from employees; 12ã€ã€è¡¥å……ã€‘isnullå‡½æ•° åŠŸèƒ½ï¼šåˆ¤æ–­æŸå­—æ®µæˆ–è¡¨è¾¾å¼æ˜¯å¦ä¸ºnullï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0 å¸¸è§å‡½æ•° ä¸€ã€æ¦‚è¿° åŠŸèƒ½ï¼šç±»ä¼¼äºjavaä¸­çš„æ–¹æ³• å¥½å¤„ï¼šæé«˜é‡ç”¨æ€§å’Œéšè—å®ç°ç»†èŠ‚ è°ƒç”¨ï¼šselect å‡½æ•°å(å®å‚åˆ—è¡¨); äºŒã€å•è¡Œå‡½æ•° 1ã€å­—ç¬¦å‡½æ•° concat:è¿æ¥ substr:æˆªå–å­ä¸² upper:å˜å¤§å†™ lowerï¼šå˜å°å†™ replaceï¼šæ›¿æ¢ lengthï¼šè·å–å­—èŠ‚é•¿åº¦ trim:å»å‰åç©ºæ ¼ lpadï¼šå·¦å¡«å…… rpadï¼šå³å¡«å…… instr:è·å–å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼• 2ã€æ•°å­¦å‡½æ•° ceil:å‘ä¸Šå–æ•´ roundï¼šå››èˆäº”å…¥ mod:å–æ¨¡ floorï¼šå‘ä¸‹å–æ•´ truncate:æˆªæ–­ rand:è·å–éšæœºæ•°ï¼Œè¿”å›0-1ä¹‹é—´çš„å°æ•° 3ã€æ—¥æœŸå‡½æ•° nowï¼šè¿”å›å½“å‰æ—¥æœŸ+æ—¶é—´ year:è¿”å›å¹´ monthï¼šè¿”å›æœˆ day:è¿”å›æ—¥ date_format:å°†æ—¥æœŸè½¬æ¢æˆå­—ç¬¦ curdate:è¿”å›å½“å‰æ—¥æœŸ str_to_date:å°†å­—ç¬¦è½¬æ¢æˆæ—¥æœŸ curtimeï¼šè¿”å›å½“å‰æ—¶é—´ hour:å°æ—¶ minute:åˆ†é’Ÿ secondï¼šç§’ datediff:è¿”å›ä¸¤ä¸ªæ—¥æœŸç›¸å·®çš„å¤©æ•° monthname:ä»¥è‹±æ–‡å½¢å¼è¿”å›æœˆ 4ã€å…¶ä»–å‡½æ•° version å½“å‰æ•°æ®åº“æœåŠ¡å™¨çš„ç‰ˆæœ¬ database å½“å‰æ‰“å¼€çš„æ•°æ®åº“ userå½“å‰ç”¨æˆ· password('å­—ç¬¦')ï¼šè¿”å›è¯¥å­—ç¬¦çš„å¯†ç å½¢å¼ md5('å­—ç¬¦'):è¿”å›è¯¥å­—ç¬¦çš„md5åŠ å¯†å½¢å¼ 5ã€æµç¨‹æ§åˆ¶å‡½æ•° â‘ if(æ¡ä»¶è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼1ï¼Œè¡¨è¾¾å¼2)ï¼šå¦‚æœæ¡ä»¶è¡¨è¾¾å¼æˆç«‹ï¼Œè¿”å›è¡¨è¾¾å¼1ï¼Œå¦åˆ™è¿”å›è¡¨è¾¾å¼2 â‘¡caseæƒ…å†µ1 case å˜é‡æˆ–è¡¨è¾¾å¼æˆ–å­—æ®µ when å¸¸é‡1 then å€¼1 when å¸¸é‡2 then å€¼2 ... else å€¼n end â‘¢caseæƒ…å†µ2 case when æ¡ä»¶1 then å€¼1 when æ¡ä»¶2 then å€¼2 ... else å€¼n end ä¸‰ã€åˆ†ç»„å‡½æ•° 1ã€åˆ†ç±» max æœ€å¤§å€¼ min æœ€å°å€¼ sum å’Œ avg å¹³å‡å€¼ count è®¡ç®—ä¸ªæ•° 2ã€ç‰¹ç‚¹ â‘ è¯­æ³• select max(å­—æ®µ) from è¡¨å; â‘¡æ”¯æŒçš„ç±»å‹ sumå’Œavgä¸€èˆ¬ç”¨äºå¤„ç†æ•°å€¼å‹ maxã€minã€countå¯ä»¥å¤„ç†ä»»ä½•æ•°æ®ç±»å‹ â‘¢ä»¥ä¸Šåˆ†ç»„å‡½æ•°éƒ½å¿½ç•¥null â‘£éƒ½å¯ä»¥æ­é…distinctä½¿ç”¨ï¼Œå®ç°å»é‡çš„ç»Ÿè®¡ select sum(distinct å­—æ®µ) from è¡¨; â‘¤countå‡½æ•° count(å­—æ®µ)ï¼šç»Ÿè®¡è¯¥å­—æ®µéç©ºå€¼çš„ä¸ªæ•° count(*):ç»Ÿè®¡ç»“æœé›†çš„è¡Œæ•° æ¡ˆä¾‹ï¼šæŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•° 1 xx 10 2 dd 20 3 mm 20 4 aa 40 5 hh 40 count(1):ç»Ÿè®¡ç»“æœé›†çš„è¡Œæ•° æ•ˆç‡ä¸Šï¼š MyISAMå­˜å‚¨å¼•æ“ï¼Œcount()æœ€é«˜ InnoDBå­˜å‚¨å¼•æ“ï¼Œcount()å’Œcount(1)æ•ˆç‡&gt;count(å­—æ®µ) â‘¥ å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µï¼Œè¦æ±‚æ˜¯group byåå‡ºç°çš„å­—æ®µ æ¡ä»¶æŸ¥è¯¢ ä¸€ã€è¯­æ³• select æŸ¥è¯¢åˆ—è¡¨ from è¡¨å where ç­›é€‰æ¡ä»¶ äºŒã€ç­›é€‰æ¡ä»¶çš„åˆ†ç±» 1ã€ç®€å•æ¡ä»¶è¿ç®—ç¬¦ &gt; &lt; = &lt;&gt; != &gt;= &lt;= &lt;=&gt;å®‰å…¨ç­‰äº 2ã€é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; and || or ! not 3ã€æ¨¡ç³ŠæŸ¥è¯¢ like:ä¸€èˆ¬æ­é…é€šé…ç¬¦ä½¿ç”¨ï¼Œå¯ä»¥åˆ¤æ–­å­—ç¬¦å‹æˆ–æ•°å€¼å‹ é€šé…ç¬¦ï¼š%ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œ_ä»»æ„å•ä¸ªå­—ç¬¦ between and in is null /is not nullï¼šç”¨äºåˆ¤æ–­nullå€¼ is null PK &lt;=&gt; æ™®é€šç±»å‹çš„æ•°å€¼ nullå€¼ å¯è¯»æ€§ is null Ã— âˆš âˆš &lt;=&gt; âˆš âˆš Ã— ","link":"https://lingtin.github.io/post/vcWhiwwan/"},{"title":"å¿«é€Ÿä¸Šæ‰‹mongodbåŸºæœ¬æ“ä½œ","content":"æœ¬æ–‡ç« ï¼Œæ˜¯å­¦ä¹ è¿‡ç¨‹ä¸­è®°å½•ï¼Œåªé€‚åˆé€Ÿåº¦ç¿»é˜…æŸ¥çœ‹ï¼Œ å…·ä½“çš„æ–‡æ¡£å¯æŸ¥çœ‹mongodbæ–‡æ¡£ï¼š https://docs.mongodb.com/manual æŸ¥çœ‹åº“ show dbs åˆ‡æ¢åˆ°åº“ use åº“å æŸ¥çœ‹é›†åˆï¼ˆè¡¨ï¼‰ show collections || show tables ä½¿ç”¨ insert å®Œæˆæ’å…¥æ“ä½œ æ“ä½œæ ¼å¼ï¼š db.&lt;é›†åˆ&gt;.insertOne(&lt;JSONå¯¹è±¡&gt;) db.&lt;é›†åˆ&gt;.insertMany([&lt;JSON 1&gt;, &lt;JSON 2&gt;, â€¦]) ç¤ºä¾‹ï¼š db.nums.insertOne({name: &quot;001&quot;}) db.nums.insertMany([ {name: &quot;001&quot;}, {name: &quot;002&quot;}, {name: &quot;003&quot;} ]) ä½¿ç”¨ find æŸ¥è¯¢æ–‡æ¡£ â— å…³äº find: â€¢ find æ˜¯ MongoDB ä¸­æŸ¥è¯¢æ•°æ®çš„åŸºæœ¬æŒ‡ä»¤ï¼Œç›¸å½“äº SQL ä¸­çš„ SELECT ã€‚ â€¢ find è¿”å›çš„æ˜¯æ¸¸æ ‡ã€‚ â— find ç¤ºä¾‹ï¼š db.nums.find( { &quot;year&quot; : 1975 } ) //å•æ¡ä»¶æŸ¥è¯¢ db.nums.find( { &quot;year&quot; : 1989, &quot;title&quot; : &quot;Batman&quot; } ) //å¤šæ¡ä»¶andæŸ¥è¯¢ db.nums.find( { $and : [ {&quot;title&quot; : &quot;Batman&quot;}, { &quot;category&quot; : &quot;action&quot; }] } ) // andçš„å¦ä¸€ç§å½¢å¼ db.nums.find( { $or: [{&quot;year&quot; : 1989}, {&quot;title&quot; : &quot;Batman&quot;}] } ) //å¤šæ¡ä»¶oræŸ¥è¯¢ db.nums.find( { &quot;title&quot; : /^B/} ) //æŒ‰æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾ æŸ¥è¯¢æ¡ä»¶å¯¹ç…§è¡¨ SQL MQL a = 1 {a: 1} a &lt;&gt; 1 {a: {$ne: 1}} a &gt; 1 {a: {$gt: 1}} a &gt;= 1 {a: {$gte: 1}} a &lt; 1 {a: {$lt: 1}} a &lt;= 1 {a: {$lte: 1}} æŸ¥è¯¢é€»è¾‘å¯¹ç…§è¡¨ SQL MQL a = 1 AND b = 1 {a: 1, b: 1}æˆ–{$and: [{a: 1}, {b: 1}]} a = 1 OR b = 1 {$or: [{a: 1}, {b: 1}]} a IS NULL {a: {$exists: false}} a IN (1, 2, 3) {a: {$in: [1, 2, 3]}} æŸ¥è¯¢é€»è¾‘è¿ç®—ç¬¦ â— $lt: å­˜åœ¨å¹¶å°äº â— $lte: å­˜åœ¨å¹¶å°äºç­‰äº â— $gt: å­˜åœ¨å¹¶å¤§äº â— $gte: å­˜åœ¨å¹¶å¤§äºç­‰äº â— $ne: ä¸å­˜åœ¨æˆ–å­˜åœ¨ä½†ä¸ç­‰äº â— $in: å­˜åœ¨å¹¶åœ¨æŒ‡å®šæ•°ç»„ä¸­ â— $nin: ä¸å­˜åœ¨æˆ–ä¸åœ¨æŒ‡å®šæ•°ç»„ä¸­ â— $or: åŒ¹é…ä¸¤ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ª â— $and: åŒ¹é…å…¨éƒ¨æ¡ä»¶ ä½¿ç”¨ find æœç´¢å­æ–‡æ¡£ â— find æ”¯æŒä½¿ç”¨â€œfield.sub_fieldâ€çš„å½¢å¼æŸ¥è¯¢å­æ–‡æ¡£ã€‚å‡è®¾æœ‰ä¸€ä¸ªæ–‡æ¡£ï¼š db.fruit.insertOne({ name: &quot;apple&quot;, from: { country: &quot;China&quot;, province: &quot;Guangdon&quot; } }) â— è€ƒè™‘ä»¥ä¸‹æŸ¥è¯¢çš„æ„ä¹‰ï¼š db.fruit.find( { &quot;from.country&quot; : &quot;China&quot; } ) db.fruit.find( { &quot;from&quot; : {country: &quot;China&quot;} } ) ä½¿ç”¨ find æœç´¢æ•°ç»„ â— find æ”¯æŒå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œæœç´¢ã€‚å‡è®¾æœ‰ä¸€ä¸ªæ–‡æ¡£ï¼š db.fruit.insert([ { &quot;name&quot; : &quot;Apple&quot;, color: [&quot;red&quot;, &quot;green&quot; ] }, { &quot;name&quot; : &quot;Mango&quot;, color: [&quot;yellow&quot;, &quot;green&quot;] } ]) â— è€ƒè™‘ä»¥ä¸‹æŸ¥è¯¢çš„æ„ä¹‰ï¼š db.fruit.find({color: &quot;red&quot;}) db.fruit.find({$or: [{color: &quot;red&quot;}, {color: &quot;yellow&quot;}]} ) ä½¿ç”¨ find æœç´¢æ•°ç»„ä¸­çš„å¯¹è±¡ â— è€ƒè™‘ä»¥ä¸‹æ–‡æ¡£ï¼Œåœ¨å…¶ä¸­æœç´¢ db.movies.insertOne( { &quot;title&quot; : &quot;Raiders of the Lost Ark&quot;, &quot;filming_locations&quot; : [ &quot;USA&quot; }, { &quot;city&quot; : &quot;Los Angeles&quot;, &quot;state&quot; : &quot;CA&quot;, &quot;country&quot; : { &quot;city&quot; : &quot;Rome&quot;, &quot;state&quot; : &quot;Lazio&quot;, &quot;country&quot; : &quot;Italy&quot; }, { &quot;city&quot; : &quot;Florence&quot;, &quot;state&quot; : &quot;SC&quot;, &quot;country&quot; : &quot;USA&quot; } ] }) â€¢ æŸ¥æ‰¾åŸå¸‚æ˜¯ Rome çš„è®°å½• â€¢ db.movies.find({&quot;filming_locations.city&quot;: &quot;Rome&quot;}) ä½¿ç”¨ find æœç´¢æ•°ç»„ä¸­çš„å¯¹è±¡ â— åœ¨æ•°ç»„ä¸­æœç´¢å­å¯¹è±¡çš„å¤šä¸ªå­—æ®µæ—¶ï¼Œå¦‚æœä½¿ç”¨ $elemMatchï¼Œå®ƒè¡¨ç¤ºå¿…é¡»æ˜¯åŒä¸€ä¸ª å­å¯¹è±¡æ»¡è¶³å¤šä¸ªæ¡ä»¶ã€‚è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªæŸ¥è¯¢ï¼š db.getCollection('movies').find({ &quot;filming_locations.city&quot;: &quot;Rome&quot;, &quot;filming_locations.country&quot;: &quot;USA&quot; }) db.getCollection('movies').find({ &quot;filming_locations&quot;: { $elemMatch:{&quot;city&quot;:&quot;Rome&quot;, &quot;country&quot;: &quot;USA&quot;} } }) æ§åˆ¶ find è¿”å›çš„å­—æ®µ â— find å¯ä»¥æŒ‡å®šåªè¿”å›æŒ‡å®šçš„å­—æ®µï¼› â— _idå­—æ®µå¿…é¡»æ˜ç¡®æŒ‡æ˜ä¸è¿”å›ï¼Œå¦åˆ™é»˜è®¤è¿”å›ï¼› â— åœ¨ MongoDB ä¸­æˆ‘ä»¬ç§°è¿™ä¸ºæŠ•å½±ï¼ˆprojectionï¼‰ï¼› â— db.movies.find({&quot;category&quot;: &quot;action&quot;},{&quot;_id&quot;:0, title:1}) ä¸è¿”å›_id è¿”å›title ä½¿ç”¨ remove åˆ é™¤æ–‡æ¡£ â— remove å‘½ä»¤éœ€è¦é…åˆæŸ¥è¯¢æ¡ä»¶ä½¿ç”¨ï¼› â— åŒ¹é…æŸ¥è¯¢æ¡ä»¶çš„çš„æ–‡æ¡£ä¼šè¢«åˆ é™¤ï¼› â— æŒ‡å®šä¸€ä¸ªç©ºæ–‡æ¡£æ¡ä»¶ä¼šåˆ é™¤æ‰€æœ‰æ–‡æ¡£ï¼› â— ä»¥ä¸‹ç¤ºä¾‹ï¼š db.testcol.remove( { a : 1 } ) // åˆ é™¤a ç­‰äº1çš„è®°å½• db.testcol.remove( { a : { $lt : 5 } } ) // åˆ é™¤a å°äº5çš„è®°å½• db.testcol.remove( { } ) // åˆ é™¤æ‰€æœ‰è®°å½• db.testcol.remove() //æŠ¥é”™ ä½¿ç”¨ update æ›´æ–°æ–‡æ¡£ â— Update æ“ä½œæ‰§è¡Œæ ¼å¼ï¼šdb.&lt;é›†åˆ&gt;.update(&lt;æŸ¥è¯¢æ¡ä»¶&gt;, &lt;æ›´æ–°å­—æ®µ&gt;) â— ä»¥ä»¥ä¸‹æ•°æ®ä¸ºä¾‹ï¼š db.fruit.insertMany([ {name: &quot;apple&quot;}, {name: &quot;pear&quot;}, {name: &quot;orange&quot;} ]) db.fruit.updateOne({name: &quot;apple&quot;}, {$set: {from: &quot;China&quot;}}) æŸ¥è¯¢ name ä¸ºapple çš„è®°å½•å°†æ‰¾åˆ°è®°å½•çš„ fromè®¾ç½®ä¸º China ä½¿ç”¨ update æ›´æ–°æ–‡æ¡£ â— ä½¿ç”¨ updateOne è¡¨ç¤ºæ— è®ºæ¡ä»¶åŒ¹é…å¤šå°‘æ¡è®°å½•ï¼Œå§‹ç»ˆåªæ›´æ–°ç¬¬ä¸€æ¡ï¼› â— ä½¿ç”¨ updateMany è¡¨ç¤ºæ¡ä»¶åŒ¹é…å¤šå°‘æ¡å°±æ›´æ–°å¤šå°‘æ¡ï¼› â— updateOne/updateMany æ–¹æ³•è¦æ±‚æ›´æ–°æ¡ä»¶éƒ¨åˆ†å¿…é¡»å…·æœ‰ä»¥ä¸‹ä¹‹ä¸€ï¼Œå¦åˆ™å°†æŠ¥é”™ï¼š â€¢ $set/$unset â€¢ $push/$pushAll/$pop â€¢ $pull/$pullAll â€¢ $addToSet â— // æŠ¥é”™ db.fruit.updateOne({name: &quot;apple&quot;}, {from: &quot;China&quot;}) ä½¿ç”¨ update æ›´æ–°æ•°ç»„ â— $push: å¢åŠ ä¸€ä¸ªå¯¹è±¡åˆ°æ•°ç»„åº•éƒ¨ â— $pushAll: å¢åŠ å¤šä¸ªå¯¹è±¡åˆ°æ•°ç»„åº•éƒ¨ â— $pop: ä»æ•°ç»„åº•éƒ¨åˆ é™¤ä¸€ä¸ªå¯¹è±¡ â— $pull: å¦‚æœåŒ¹é…æŒ‡å®šçš„å€¼ï¼Œä»æ•°ç»„ä¸­åˆ é™¤ç›¸åº”çš„å¯¹è±¡ â— $pullAll: å¦‚æœåŒ¹é…ä»»æ„çš„å€¼ï¼Œä»æ•°æ®ä¸­åˆ é™¤ç›¸åº”çš„å¯¹è±¡ â— $addToSet: å¦‚æœä¸å­˜åœ¨åˆ™å¢åŠ ä¸€ä¸ªå€¼åˆ°æ•°ç»„ ä½¿ç”¨ drop åˆ é™¤é›†åˆ â— ä½¿ç”¨ db.&lt;é›†åˆ&gt;.drop() æ¥åˆ é™¤ä¸€ä¸ªé›†åˆ â— é›†åˆä¸­çš„å…¨éƒ¨æ–‡æ¡£éƒ½ä¼šè¢«åˆ é™¤ â— é›†åˆç›¸å…³çš„ç´¢å¼•ä¹Ÿä¼šè¢«åˆ é™¤ db.colToBeDropped.drop() ä½¿ç”¨ dropDatabase åˆ é™¤æ•°æ®åº“ â— ä½¿ç”¨ db.dropDatabase() æ¥åˆ é™¤æ•°æ®åº“ â— æ•°æ®åº“ç›¸åº”æ–‡ä»¶ä¹Ÿä¼šè¢«åˆ é™¤ï¼Œç£ç›˜ç©ºé—´å°†è¢«é‡Šæ”¾ use tempDB db.dropDatabase() show collections // No collections show dbs // The db is gone ","link":"https://lingtin.github.io/post/bdBaNcARw/"},{"title":"Linux ä¸Šå®‰è£… MongoDB","content":"$ mkdir -p /data /data/db $ cd /data $ curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.2.1.tgz $ tar -xvf mongodb-linux-x86_64-rhel70-4.2.1.tgz $ export PATH=PATH:/data/mongodbâˆ’linuxâˆ’x8664âˆ’rhel70âˆ’4.2.1/binPATH:/data/mongodb-linux-x86_64-rhel70-4.2.1/bin PATH:/data/mongodbâˆ’linuxâˆ’x866â€‹4âˆ’rhel70âˆ’4.2.1/bin mongod --dbpath /data/db --port 27017 --logpath /data/db/mongod.log --fork â€“bind_ip 0.0.0.0 ","link":"https://lingtin.github.io/post/AhnTaALpE/"},{"title":"Mysql  ERROR 1045 (28000): Unknown error 1045","content":"æœ€è¿‘åœ¨å®‰è£…MySQLååœ¨å‘½ä»¤è¡Œç™»å½•æŠ¥é”™ï¼šERROR 1045 (28000): Unknown error 1045 åœ¨contos 7.5 é€šè¿‡yumæˆ–è€…æ˜¯ giz å®‰è£…mysql ï¼Œå®‰è£…å®Œæˆåé€šè¿‡/etc/my.cnfé…ç½®æ–‡ä»¶æ‰¾åˆ°MySQLçš„é”™è¯¯æ—¥å¿—å­˜åœ¨/var/log/mysql.logé‡Œï¼Œåœ¨è¯¥æ—¥å¿—é‡ŒæŸ¥æ‰¾åˆ°mysqlçš„rootç”¨æˆ·çš„ä¸´æ—¶ç™»å½•å¯†ç  [root@ip-172-31-34-225 log]# cat /var/log/mysqld.log | grep 'temporary password' 2019-02-13T10:32:25.917190Z 1 [Note] A temporary password is generated for root@localhost: #OHzhEURa ç”¨ä¸´æ—¶å¯†ç é€šè¿‡å‘½ä»¤è¡Œç™»å½•æŠ¥é”™ï¼šERROR 1045 (28000): Unknown error 1045 åŸå› æ˜¯å¯†ç é”™è¯¯,å‚è€ƒé“¾æ¥https://blog.csdn.net/nicolelili1/article/details/78833667ï¼ˆä¸ºä»€ä¹ˆåˆå§‹çš„ä¸´æ—¶å¯†ç æ˜¯é”™è¯¯çš„ï¼Ÿè¿™ä¸ªè¿˜æ²¡å¼„æ˜ç™½ï¼‰ è§£å†³æ–¹æ³•æ˜¯ç¼–è¾‘ my.cnf vim /etc/my.cnf åœ¨mysqld çš„ä¸‹ä¸€è¡Œ ï¼Œæ·»åŠ ä¸‹é¢çš„ä»£ç ï¼Œæš‚æ—¶è·³è¿‡æˆæƒè¡¨å®ç°å…å¯†ç™»å½• skip-grant-tasbles ç„¶åé‡å¯ mysql systemctl restart mysqld åœ¨å‘½ä»¤è¡Œè¾“å…¥mysqlå›è½¦å³å¯ç™»å½•ï¼Œç™»å½•åè®¾ç½®æ–°çš„rootå¯†ç ï¼Œä¸‹æ¬¡é€šè¿‡æ–°çš„å¯†ç å³å¯ç™»å½• mysql update user set authentication_string = password('XXXXXX') where user = 'root'; Query OK, 1 row affected, 1 warning (0.00 sec) åˆ·æ–°è§„åˆ™ flush privileges; Query OK, 0 rows affected (0.00 sec) é‡æ–°ç¼–è¾‘ my.cnf ï¼ŒæŠŠåŸæ¥çš„ è·³è¿‡å…ç™»å½•ï¼Œç»™æ³¨é‡Šæ‰ vim /etc/my.cnf #skip-grant-tables #å°†è¯¥è¡Œæ³¨é‡Šç„¶åé‡å¯mysql. é‡å¯mysql systemctl restart mysqld è¿™æ¬¡ï¼Œä½ å¯ä»¥ä½¿ç”¨ mysql -u -p ç„¶åè¾“å…¥å¯†ç ç™»å½•äº† ","link":"https://lingtin.github.io/post/Icz0c1eH6/"},{"title":"æœ€å¥½ç”¨çš„ormÂ·typeorm(å…¥é—¨ï¼Œå®ä½“)ï¼ˆtypeorm/mysqlï¼‰","content":"TypeORM æ˜¯ä¸€ä¸ª ORM æ¡†æ¶ï¼Œå®ƒå¯ä»¥è¿è¡Œåœ¨ NodeJSã€Browserã€Cordovaã€PhoneGapã€Ionicã€React Nativeã€Expo å’Œ Electron å¹³å°ä¸Šï¼Œå¯ä»¥ä¸ TypeScript å’Œ JavaScript (ES5,ES6,ES7,ES8)ä¸€èµ·ä½¿ç”¨ã€‚ å®ƒçš„ç›®æ ‡æ˜¯å§‹ç»ˆæ”¯æŒæœ€æ–°çš„ JavaScript ç‰¹æ€§å¹¶æä¾›é¢å¤–çš„ç‰¹æ€§ä»¥å¸®åŠ©ä½ å¼€å‘ä»»ä½•ä½¿ç”¨æ•°æ®åº“çš„ï¼ˆä¸ç®¡æ˜¯åªæœ‰å‡ å¼ è¡¨çš„å°å‹åº”ç”¨è¿˜æ˜¯æ‹¥æœ‰å¤šæ•°æ®åº“çš„å¤§å‹ä¼ä¸šåº”ç”¨ï¼‰åº”ç”¨ç¨‹åºã€‚ å®ä½“ æœ¬ç³»åˆ—åªåœ¨ nestjs ä¸‹ä½¿ç”¨typrormã€‚ å®‰è£… typrorm å’Œ mysql npm i @nestjs/typrorm typrorm mysql --save nestjsä¸­ä½¿ç”¨ ï¼Œè¿æ¥mysql app.module.ts ä½¿ç”¨ TypeOrmModule æ³¨å†Œè¿æ¥ mysqlï¼Œå¡«å†™mysql é…ç½® import { TypeOrmModule } from '@nestjs/typeorm'; @Module({ imports: [ TypeOrmModule.forRoot( { type: 'mysql', host: 'localhost', port: 3306, username: 'root', password: '123456', database: 'dengmi', entities: [__dirname + '/**/*.entity{.ts,.js}'], synchronize: true, },) ], controllers: [AppController, AdminController], providers: [AppService, ToolService, AdminService], }) export class AppModule {} æ³¨å†Œå®ä½“models å®ä½“æ˜¯ä¸€ä¸ªæ˜ å°„åˆ°æ•°æ®åº“è¡¨ï¼ˆæˆ–ä½¿ç”¨ MongoDB æ—¶çš„é›†åˆï¼‰çš„ç±»ã€‚ ä½ å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªæ–°ç±»æ¥åˆ›å»ºä¸€ä¸ªå®ä½“ï¼Œå¹¶ç”¨@Entity()æ¥æ ‡è®°ã€‚ åœ¨ src ç›®å½•ä¸‹ æ–°å»ºentity ç›®å½•ï¼Œæ–°å»º å¦‚ user.entity.tsï¼Œä½¿ç”¨@Entity() åˆ›å»ºä¸€ä¸ªå®ä½“ï¼Œ@PrimaryGeneratedColumn() åˆ›å»ºä¸»åˆ— ï¼Œ@Column() åˆ›å»ºåˆ—ã€‚ import { Entity, PrimaryGeneratedColumn, Column } from &quot;typeorm&quot;; @Entity() export class User { @PrimaryGeneratedColumn() id: number; @Column() firstName: string; @Column() lastName: string; @Column() age: number; } è¿™å°†åˆ›å»ºä»¥ä¸‹æ•°æ®åº“è¡¨ï¼š +-------------+--------------+----------------------------+ | user | +-------------+--------------+----------------------------+ | id | int(11) | PRIMARY KEY AUTO_INCREMENT | | firstName | varchar(255) | | | lastName | varchar(255) | | | isActive | boolean | | +-------------+--------------+----------------------------+ åŸºæœ¬å®ä½“ç”±åˆ—å’Œå…³ç³»ç»„æˆã€‚ æ¯ä¸ªå®ä½“å¿…é¡»æœ‰ä¸€ä¸ªä¸»åˆ—ï¼ˆå¦‚æœä½¿ç”¨ MongoDBï¼Œåˆ™ä¸º ObjectId åˆ—ï¼‰ã€‚ æ¯ä¸ªåˆ—å¯ä»¥è·å–ä»»ä½•ç±»å‹çš„ä»»ä½•å€¼ã€‚ä½ ä¹Ÿå¯ä»¥æŒ‡å®šåˆ—ç±»å‹ã€‚ å¦‚æœæœªæŒ‡å®šåˆ—ç±»å‹ï¼Œåˆ™å°†ä»å±æ€§ç±»å‹è‡ªåŠ¨æ¨æ–­ã€‚ å®ä½“åˆ— @ Column åˆ›å»ºä¸€ä¸ªåˆ—ï¼Œæ¯ä¸ªå®ä½“ç±»å±æ€§éƒ½å°†æ˜ å°„åˆ°æ•°æ®åº“è¡¨åˆ—ã€‚ @Entity() export class User { @Column() firstName: string; @Column() lastName: string; } @PrimaryGeneratedColumn() åˆ›å»ºçš„ä¸»åˆ—ï¼Œè¯¥å€¼ä½¿ç”¨è‡ªåŠ¨å¢é‡è‡ªåŠ¨ç”Ÿæˆï¼Œå®ƒå°†ä½¿ç”¨auto-increment /serial /sequenceåˆ›å»ºintåˆ—ï¼ˆå–å†³äºæ•°æ®åº“ï¼‰ã€‚ @Entity() export class User { @PrimaryGeneratedColumn() id: number; } @PrimaryGeneratedColumn(&quot;uuid&quot;) åˆ›å»ºçš„ä¸»åˆ—ï¼Œè¯¥å€¼å°†ä½¿ç”¨uuidè‡ªåŠ¨ç”Ÿæˆã€‚ Uuid æ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„å­—ç¬¦ä¸² idï¼Œä¸å¿…æ‰‹åŠ¨åˆ†é…å…¶å€¼ã€‚ @Entity() export class User { @PrimaryGeneratedColumn(&quot;uuid&quot;) id: string; } @PrimaryColumn() å¤åˆä¸»åˆ— @Entity() export class User { @PrimaryColumn() firstName: string; @PrimaryColumn() lastName: string; } ç‰¹æ®Šåˆ— @CreateDateColumn() åˆ›å»ºçš„åˆ—ï¼Œè‡ªåŠ¨ä¸ºå®ä½“æ’å…¥æ—¥æœŸã€‚æ— éœ€è®¾ç½®æ­¤åˆ—ï¼Œè¯¥å€¼å°†è‡ªåŠ¨è®¾ç½®ã€‚ @Entity() export class User { @CreateDateColumn() createTime:string } @UpdateDateColumn() åˆ›å»ºçš„åˆ—ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨å®ä½“ç®¡ç†å™¨æˆ–å­˜å‚¨åº“çš„saveæ—¶ï¼Œè‡ªåŠ¨æ›´æ–°å®ä½“æ—¥æœŸã€‚æ— éœ€è®¾ç½®æ­¤åˆ—ï¼Œè¯¥å€¼å°†è‡ªåŠ¨è®¾ç½®ã€‚ @Entity() export class User { @UpdateDateColumn() updateTime:string } @VersionColumn() åˆ›å»ºçš„åˆ—ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨å®ä½“ç®¡ç†å™¨æˆ–å­˜å‚¨åº“çš„saveæ—¶è‡ªåŠ¨å¢é•¿å®ä½“ç‰ˆæœ¬ï¼ˆå¢é‡ç¼–å·ï¼‰ã€‚æ— éœ€è®¾ç½®æ­¤åˆ—ï¼Œè¯¥å€¼å°†è‡ªåŠ¨è®¾ç½®ã€‚ @Entity() export class User { @VersionColumn() updateTime:string } ç©ºé—´åˆ— è¯¦æƒ…è§https://typeorm.io/#/entities/%E7%A9%BA%E9%97%B4%E5%88%97 åˆ—ç±»å‹ TypeORM æ”¯æŒæ‰€æœ‰æœ€å¸¸ç”¨çš„æ•°æ®åº“æ”¯æŒçš„åˆ—ç±»å‹ã€‚ åˆ—ç±»å‹æ˜¯ç‰¹å®šäºæ•°æ®åº“ç±»å‹çš„ - è¿™ä¸ºæ•°æ®åº“æ¶æ„æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚ ä½ å¯ä»¥å°†åˆ—ç±»å‹æŒ‡å®šä¸º@ Columnçš„ç¬¬ä¸€ä¸ªå‚æ•° æˆ–è€…åœ¨@Columnçš„åˆ—é€‰é¡¹ä¸­æŒ‡å®šï¼Œä¾‹å¦‚ï¼š @Column(&quot;int&quot;) æˆ– @Column({ type: &quot;int&quot; }) ä¹Ÿå¯ä»¥æ’å…¥å…¶ä»–ç±»å‹ @Column(&quot;varchar&quot;, { length: 200 }) æˆ– @Column({ type: &quot;int&quot;, length: 200 }) mysql/mariadbçš„åˆ—ç±»å‹ int, tinyint, smallint, mediumint, bigint, float, double, dec, decimal, numeric, date, datetime, timestamp, time, year, char, varchar, nvarchar, text, tinytext, mediumtext, blob, longtext, tinyblob, mediumblob, longblob, enum, json, binary, geometry, point, linestring, polygon, multipoint, multilinestring, multipolygon, geometrycollection enum åˆ—ç±»å‹ postgreså’Œmysqléƒ½æ”¯æŒenumåˆ—ç±»å‹ï¼Œæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ•°å­—å’Œå¼‚æ„æšä¸¾ ä½¿ç”¨typescriptæšä¸¾ï¼š export enum UserRole { ADMIN = &quot;admin&quot;, EDITOR = &quot;editor&quot;, GHOST = &quot;ghost&quot; } @Entity() export class User { @PrimaryGeneratedColumn() id: number; @Column({ type: &quot;enum&quot;, enum: UserRole, default: UserRole.GHOST }) role: UserRole } ä½¿ç”¨å¸¦æšä¸¾å€¼çš„æ•°ç»„ï¼š export type UserRoleType = &quot;admin&quot; | &quot;editor&quot; | &quot;ghost&quot;, @Entity() export class User { @PrimaryGeneratedColumn() id: number; @Column({ type: &quot;enum&quot;, enum: [&quot;admin&quot;, &quot;editor&quot;, &quot;ghost&quot;], default: &quot;ghost&quot; }) role: UserRoleType } simple-arrayçš„åˆ—ç±»å‹ æœ‰ä¸€ç§ç§°ä¸ºsimple-arrayçš„ç‰¹æ®Šåˆ—ç±»å‹ï¼Œå®ƒå¯ä»¥å°†åŸå§‹æ•°ç»„å€¼å­˜å‚¨åœ¨å•ä¸ªå­—ç¬¦ä¸²åˆ—ä¸­ã€‚ æ‰€æœ‰å€¼éƒ½ä»¥é€—å·åˆ†éš”ã€‚ ä¾‹å¦‚ï¼š @Entity() export class User { @PrimaryGeneratedColumn() id: number; @Column(&quot;simple-array&quot;) names: string[]; } const user = new User(); user.names = [&quot;Alexander&quot;, &quot;Alex&quot;, &quot;Sasha&quot;, &quot;Shurik&quot;]; å­˜å‚¨åœ¨å•ä¸ªæ•°æ®åº“åˆ—ä¸­çš„Alexanderï¼ŒAlexï¼ŒSashaï¼ŒShurikå€¼ã€‚ å½“ä½ ä»æ•°æ®åº“åŠ è½½æ•°æ®æ—¶ï¼Œname å°†ä½œä¸º names æ•°ç»„è¿”å›ï¼Œå°±åƒä¹‹å‰å­˜å‚¨å®ƒä»¬ä¸€æ ·ã€‚ æ³¨æ„ï¼šä¸èƒ½åœ¨å€¼é‡Œé¢æœ‰ä»»ä½•é€—å·ã€‚ simple-json åˆ—ç±»å‹ è¿˜æœ‰ä¸€ä¸ªåä¸ºsimple-jsonçš„ç‰¹æ®Šåˆ—ç±»å‹ï¼Œå®ƒå¯ä»¥å­˜å‚¨ä»»ä½•å¯ä»¥é€šè¿‡ JSON.stringify å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„å€¼ã€‚ å½“ä½ çš„æ•°æ®åº“ä¸­æ²¡æœ‰ json ç±»å‹è€Œä½ åˆæƒ³å­˜å‚¨å’ŒåŠ è½½å¯¹è±¡ï¼Œè¯¥ç±»å‹å°±å¾ˆæœ‰ç”¨äº†ã€‚ ä¾‹å¦‚: @Entity() export class User { @PrimaryGeneratedColumn() id: number; @Column(&quot;simple-json&quot;) profile: { name: string; nickname: string }; } const user = new User(); user.profile = { name: &quot;John&quot;, nickname: &quot;Malkovich&quot; }; å­˜å‚¨åœ¨å•ä¸ªæ•°æ®åº“åˆ—ä¸­çš„{â€œnameâ€ï¼šâ€œJohnâ€ï¼Œâ€œnicknameâ€ï¼šâ€œMalkovichâ€}å€¼ å½“ä½ ä»æ•°æ®åº“åŠ è½½æ•°æ®æ—¶ï¼Œå°†é€šè¿‡ JSON.parse è¿”å› object/array/primitiveã€‚ å…·æœ‰ç”Ÿæˆå€¼çš„åˆ— ä½ å¯ä»¥ä½¿ç”¨@Generatedè£…é¥°å™¨åˆ›å»ºå…·æœ‰ç”Ÿæˆå€¼çš„åˆ—ã€‚ ä¾‹å¦‚ï¼š @Entity() export class User { @PrimaryColumn() id: number; @Column() @Generated(&quot;uuid&quot;) uuid: string; } uuidå€¼å°†è‡ªåŠ¨ç”Ÿæˆå¹¶å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ã€‚ é™¤äº†&quot;uuid&quot;ä¹‹å¤–ï¼Œè¿˜æœ‰&quot;increment&quot;ç”Ÿæˆç±»å‹ï¼Œä½†æ˜¯å¯¹äºè¿™ç§ç±»å‹çš„ç”Ÿæˆï¼ŒæŸäº›æ•°æ®åº“å¹³å°å­˜åœ¨ä¸€äº›é™åˆ¶ï¼ˆä¾‹å¦‚ï¼ŒæŸäº›æ•°æ®åº“åªèƒ½æœ‰ä¸€ä¸ªå¢é‡åˆ—ï¼Œæˆ–è€…å…¶ä¸­ä¸€äº›éœ€è¦å¢é‡æ‰èƒ½æˆä¸ºä¸»é”®ï¼‰ã€‚ åˆ—é€‰é¡¹ åˆ—é€‰é¡¹å®šä¹‰å®ä½“åˆ—çš„å…¶ä»–é€‰é¡¹ã€‚ ä½ å¯ä»¥åœ¨@ Columnä¸ŠæŒ‡å®šåˆ—é€‰é¡¹ï¼š @Column({ type: &quot;varchar&quot;, length: 150, unique: true, // ... }) name: string; ColumnOptionsä¸­å¯ç”¨é€‰é¡¹åˆ—è¡¨ï¼š type: ColumnType - åˆ—ç±»å‹ã€‚å…¶ä¸­ä¹‹ä¸€åœ¨ä¸Šé¢. name: string - æ•°æ®åº“è¡¨ä¸­çš„åˆ—åã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ—åç§°æ˜¯ä»å±æ€§çš„åç§°ç”Ÿæˆçš„ã€‚ ä½ ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šè‡ªå·±çš„åç§°æ¥æ›´æ”¹å®ƒã€‚ length: number - åˆ—ç±»å‹çš„é•¿åº¦ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¦åˆ›å»ºvarcharï¼ˆ150ï¼‰ç±»å‹ï¼Œè¯·æŒ‡å®šåˆ—ç±»å‹å’Œé•¿åº¦é€‰é¡¹ã€‚ width: number - åˆ—ç±»å‹çš„æ˜¾ç¤ºèŒƒå›´ã€‚ ä»…ç”¨äºMySQL integer types onUpdate: string - ON UPDATEè§¦å‘å™¨ã€‚ ä»…ç”¨äº MySQL. nullable: boolean - åœ¨æ•°æ®åº“ä¸­ä½¿åˆ—NULLæˆ–NOT NULLã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ—æ˜¯nullableï¼šfalseã€‚ update: boolean - æŒ‡ç¤º&quot;save&quot;æ“ä½œæ˜¯å¦æ›´æ–°åˆ—å€¼ã€‚å¦‚æœä¸ºfalseï¼Œåˆ™åªèƒ½åœ¨ç¬¬ä¸€æ¬¡æ’å…¥å¯¹è±¡æ—¶ç¼–å†™è¯¥å€¼ã€‚ é»˜è®¤å€¼ä¸º&quot;true&quot;ã€‚ select: boolean - å®šä¹‰åœ¨è¿›è¡ŒæŸ¥è¯¢æ—¶æ˜¯å¦é»˜è®¤éšè—æ­¤åˆ—ã€‚ è®¾ç½®ä¸ºfalseæ—¶ï¼Œåˆ—æ•°æ®ä¸ä¼šæ˜¾ç¤ºæ ‡å‡†æŸ¥è¯¢ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ—æ˜¯selectï¼štrue default: string - æ·»åŠ æ•°æ®åº“çº§åˆ—çš„DEFAULTå€¼ã€‚ primary: boolean - å°†åˆ—æ ‡è®°ä¸ºä¸»è¦åˆ—ã€‚ ä½¿ç”¨æ–¹å¼å’Œ@ PrimaryColumnç›¸åŒã€‚ unique: boolean - å°†åˆ—æ ‡è®°ä¸ºå”¯ä¸€åˆ—ï¼ˆåˆ›å»ºå”¯ä¸€çº¦æŸï¼‰ã€‚ comment: string - æ•°æ®åº“åˆ—å¤‡æ³¨ï¼Œå¹¶éæ‰€æœ‰æ•°æ®åº“ç±»å‹éƒ½æ”¯æŒã€‚ precision: number - åè¿›åˆ¶ï¼ˆç²¾ç¡®æ•°å­—ï¼‰åˆ—çš„ç²¾åº¦ï¼ˆä»…é€‚ç”¨äºåè¿›åˆ¶åˆ—ï¼‰ï¼Œè¿™æ˜¯ä¸ºå€¼å­˜å‚¨çš„æœ€å¤§ä½æ•°ã€‚ä»…ç”¨äºæŸäº›åˆ—ç±»å‹ã€‚ scale: number - åè¿›åˆ¶ï¼ˆç²¾ç¡®æ•°å­—ï¼‰åˆ—çš„æ¯”ä¾‹ï¼ˆä»…é€‚ç”¨äºåè¿›åˆ¶åˆ—ï¼‰ï¼Œè¡¨ç¤ºå°æ•°ç‚¹å³ä¾§çš„ä½æ•°ï¼Œä¸”ä¸å¾—å¤§äºç²¾åº¦ã€‚ ä»…ç”¨äºæŸäº›åˆ—ç±»å‹ã€‚ zerofill: boolean - å°†ZEROFILLå±æ€§è®¾ç½®ä¸ºæ•°å­—åˆ—ã€‚ ä»…åœ¨ MySQL ä¸­ä½¿ç”¨ã€‚ å¦‚æœæ˜¯trueï¼ŒMySQL ä¼šè‡ªåŠ¨å°†UNSIGNEDå±æ€§æ·»åŠ åˆ°æ­¤åˆ—ã€‚ unsigned: boolean - å°†UNSIGNEDå±æ€§è®¾ç½®ä¸ºæ•°å­—åˆ—ã€‚ ä»…åœ¨ MySQL ä¸­ä½¿ç”¨ã€‚ charset: string - å®šä¹‰åˆ—å­—ç¬¦é›†ã€‚ å¹¶éæ‰€æœ‰æ•°æ®åº“ç±»å‹éƒ½æ”¯æŒã€‚ collation: string - å®šä¹‰åˆ—æ’åºè§„åˆ™ã€‚ enum: string[]|AnyEnum - åœ¨enumåˆ—ç±»å‹ä¸­ä½¿ç”¨ï¼Œä»¥æŒ‡å®šå…è®¸çš„æšä¸¾å€¼åˆ—è¡¨ã€‚ ä½ ä¹Ÿå¯ä»¥æŒ‡å®šæ•°ç»„æˆ–æŒ‡å®šæšä¸¾ç±»ã€‚ asExpression: string - ç”Ÿæˆçš„åˆ—è¡¨è¾¾å¼ã€‚ ä»…åœ¨MySQLä¸­ä½¿ç”¨ã€‚ generatedType: &quot;VIRTUAL&quot;|&quot;STORED&quot; - ç”Ÿæˆçš„åˆ—ç±»å‹ã€‚ ä»…åœ¨MySQLä¸­ä½¿ç”¨ã€‚ hstoreType: &quot;object&quot;|&quot;string&quot; -è¿”å›HSTOREåˆ—ç±»å‹ã€‚ ä»¥å­—ç¬¦ä¸²æˆ–å¯¹è±¡çš„å½¢å¼è¿”å›å€¼ã€‚ ä»…åœ¨Postgresä¸­ä½¿ç”¨ã€‚ array: boolean - ç”¨äºå¯ä»¥æ˜¯æ•°ç»„çš„ postgres åˆ—ç±»å‹ï¼ˆä¾‹å¦‚ int []ï¼‰ transformer: { from(value: DatabaseType): EntityType, to(value: EntityType): DatabaseType } - ç”¨äºå°†ä»»æ„ç±»å‹EntityTypeçš„å±æ€§ç¼–ç»„ä¸ºæ•°æ®åº“æ”¯æŒçš„ç±»å‹DatabaseTypeã€‚ æ³¨æ„ï¼šå¤§å¤šæ•°åˆ—é€‰é¡¹éƒ½æ˜¯ç‰¹å®šäº RDBMS çš„ï¼Œå¹¶ä¸”åœ¨MongoDBä¸­ä¸å¯ç”¨ã€‚ å®ä½“ç»§æ‰¿ ä½ å¯ä»¥ä½¿ç”¨å®ä½“ç»§æ‰¿å‡å°‘ä»£ç ä¸­çš„é‡å¤ã€‚ ä¾‹å¦‚ï¼Œä½ æœ‰Photo, Question, Post ä¸‰ä¸ªå®ä½“: @Entity() export class Photo { @PrimaryGeneratedColumn() id: number; @Column() title: string; @Column() description: string; @Column() size: string; } @Entity() export class Question { @PrimaryGeneratedColumn() id: number; @Column() title: string; @Column() description: string; @Column() answersCount: number; } @Entity() export class Post { @PrimaryGeneratedColumn() id: number; @Column() title: string; @Column() description: string; @Column() viewCount: number; } æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæ‰€æœ‰è¿™äº›å®ä½“éƒ½æœ‰å…±åŒçš„åˆ—ï¼šidï¼Œtitleï¼Œdescriptionã€‚ ä¸ºäº†å‡å°‘é‡å¤å¹¶äº§ç”Ÿæ›´å¥½çš„æŠ½è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå®ƒä»¬åˆ›å»ºä¸€ä¸ªåä¸ºContentçš„åŸºç±»ï¼š export abstract class Content { @PrimaryGeneratedColumn() id: number; @Column() title: string; @Column() description: string; } @Entity() export class Photo extends Content { @Column() size: string; } @Entity() export class Question extends Content { @Column() answersCount: number; } @Entity() export class Post extends Content { @Column() viewCount: number; } æ¥è‡ªçˆ¶å®ä½“çš„æ‰€æœ‰åˆ—ï¼ˆrelationsï¼Œembeds ç­‰ï¼‰ï¼ˆçˆ¶çº§ä¹Ÿå¯ä»¥æ‰©å±•å…¶ä»–å®ä½“ï¼‰å°†åœ¨æœ€ç»ˆå®ä½“ä¸­ç»§æ‰¿å’Œåˆ›å»ºã€‚ æ ‘å®ä½“ TypeORM æ”¯æŒå­˜å‚¨æ ‘ç»“æ„çš„ Adjacency åˆ—è¡¨å’Œ Closure è¡¨æ¨¡å¼ã€‚ é‚»æ¥åˆ—è¡¨ é‚»æ¥åˆ—è¡¨æ˜¯ä¸€ä¸ªå…·æœ‰è‡ªå¼•ç”¨çš„ç®€å•æ¨¡å‹ã€‚ è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯ç®€å•ï¼Œç¼ºç‚¹æ˜¯ä½ ä¸èƒ½å› ä¸ºè¿æ¥é™åˆ¶è€Œç«‹åˆ»åŠ è½½ä¸€ä¸ªæ ‘å®ä½“ã€‚ ä¾‹å¦‚: import { Entity, Column, PrimaryGeneratedColumn, ManyToOne, OneToMany } from &quot;typeorm&quot;; @Entity() export class Category { @PrimaryGeneratedColumn() id: number; @Column() name: string; @Column() description: string; @OneToMany(type =&gt; Category, category =&gt; category.children) parent: Category; @ManyToOne(type =&gt; Category, category =&gt; category.parent) children: Category; } Closure è¡¨ closure è¡¨ä»¥ç‰¹æ®Šæ–¹å¼åœ¨å•ç‹¬çš„è¡¨ä¸­å­˜å‚¨çˆ¶å’Œå­ä¹‹é—´çš„å…³ç³»ã€‚ å®ƒåœ¨è¯»å†™æ–¹é¢éƒ½å¾ˆæœ‰æ•ˆã€‚ è¦äº†è§£æœ‰å…³ closure è¡¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ this awesome presentation by Bill Karwin. ä¾‹å¦‚: import { Entity, Tree, Column, PrimaryGeneratedColumn, TreeChildren, TreeParent, TreeLevelColumn } from &quot;typeorm&quot;; @Entity() @Tree(&quot;closure-table&quot;) export class Category { @PrimaryGeneratedColumn() id: number; @Column() name: string; @Column() description: string; @TreeChildren() children: Category; @TreeParent() parent: Category; @TreeLevelColumn() level: number; } ","link":"https://lingtin.github.io/post/typeorm0/"},{"title":"å‰ç«¯å·¥ç¨‹é¡¹ç›®å¯åŠ¨ä»‹ç»","content":"ğŸ˜‡æ­¤æ–‡ç«  ä¸“é’ˆå¯¹äº æ²¡æœ‰è¯¦ç»†äº†è§£è¿‡ å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®çš„ åŒå¿—ä»¬ã€‚ ğŸ˜‡ä¸€èˆ¬ç°ä»£å‰ç«¯é¡¹ç›® éƒ½æ˜¯åŸºäº webpack ç­‰æ‰“åŒ…å·¥å…·æ‰“åŒ…çš„ã€‚ ä½ å¯èƒ½æ‹¿åˆ°çš„é¡¹ç›®æ˜¯ å¦‚ä¸‹å›¾ï¼š é‡Œé¢åŒ…å«äº† ä¾èµ–æè¿°æ–‡ä»¶ package.json é¡¹ç›®æè¿°æ–‡ä»¶ README.md å…ˆå»ç”¨ç¼–è¾‘å™¨ æ‰“å¼€ ä»”ç»†é˜…è¯» README æ–‡ä»¶,ä¸€èˆ¬ä¼šåœ¨é‡Œé¢åŒ…å« 1ã€é¡¹ç›®è¯´æ˜ 2ã€å¼€å‘è¯´æ˜æ–‡æ¡£ 3ã€æ³¨æ„äº‹é¡¹ 4ã€æ•ˆæœå›¾ 5ã€ç‰ˆæƒä¿¡æ¯ å¯åŠ¨é¡¹ç›®ï¼ˆè¯´æ˜ï¼‰ ä¸€èˆ¬åœ¨æŸ¥çœ‹READMEä¼šæœ‰å¼€å‘è¯´æ˜æ–‡æ¡£ï¼Œå¦‚å›¾ å¦‚æœåœ¨ è¯´æ˜æ–‡æ¡£ä¸­æ²¡æœ‰å†™è¿™äº›ä¸œè¥¿ï¼Œå¯ä»¥æ‰“å¼€package.jsonä¸­æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ å›¾ä¸­è¢«åœˆèµ·æ¥çš„ scripts éƒ¨åˆ†ï¼Œå°±æ˜¯å¯åŠ¨å‘½ä»¤ ä½¿ç”¨æ—¶åŠ å…¥ npm run xxx æ¯ä¸ªå‘½ä»¤ æ„æ€ éƒ½è·Ÿä¸Šå›¾çš„æ„æ€å·®ä¸å¤šï¼Œserve dev éƒ½æ˜¯æœ¬åœ°å¯åŠ¨ï¼Œbuild build:prod éƒ½æ˜¯æ‰“åŒ…éƒ¨ç½² ä¸€èˆ¬æ‰“åŒ…å®Œæˆåä¼šç”Ÿæˆä¸€ä¸ªdist æ–‡ä»¶ å®é™…æ“ä½œï¼ˆçœ‹å›¾æ“ä½œï¼‰ 1 ã€ å¦‚æœä½ çš„ç½‘é€Ÿå¾ˆæ…¢èµ°ä¸‹å›¾å‘½ä»¤ (ç½‘é€Ÿå¾ˆå¿«ï¼Œæˆ–è€… æœ‰å®‰è£…è¿‡è¿™ä¸ª å°±ä¸ç”¨çœ‹è¿™ä¸€æ­¥äº†) npm i -g nrm å®‰è£…å®Œæˆå åˆ‡æ¢è¿œç¨‹æºåœ°å€ï¼ˆå¦‚æœè¿™æ­¥æ“ä½œé”™è¯¯ï¼Œä¸Šé¢çš„æ­¥éª¤åœ¨è·‘ä¸€éï¼‰ nrm use taobao 2ã€å®‰è£…ä¾èµ–(è€å¿ƒç­‰å¾…) npm install 3ã€å¯åŠ¨é¡¹ç›® npm run serve å‘½ä»¤èµ°å®Œä¼šè·‘ä»£ç ï¼Œè·‘å®Œä¹‹åä¸€èˆ¬ä¼šåœ¨ æ§åˆ¶å°æœ‰ æœ¬åœ°é¢„è§ˆåœ°å€ http://localhost å’Œå±€åŸŸç½‘åœ°å€ http://192.168.x.xxx 4ã€æ‰“åŒ…é¡¹ç›® npm run build ä¸€èˆ¬ä¼šä½ çš„é¡¹ç›®ç›®å½•é‡Œæœ‰ä¸€ä¸ªdist çš„ç›®å½•ï¼Œå°±æ˜¯æ‰“åŒ…åç”Ÿæˆçš„ï¼Œé‡Œé¢å°±æ˜¯ä½ ç†Ÿæ‚‰çš„htmlæ–‡ä»¶ï¼Œä¸è¿‡æ˜¯å‹ç¼©çš„ã€‚ ","link":"https://lingtin.github.io/post/IpEKe9S/"},{"title":"nestJs ä»‹ç»åŠå®‰è£… cli","content":"1ã€ä»‹ç» 2ã€å®‰è£…cli ä»‹ç»(å®˜ç½‘) Nest æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆï¼Œå¯æ‰©å±•çš„ Node.js æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚å®ƒä½¿ç”¨æ¸è¿›å¼ JavaScriptï¼Œå†…ç½®å¹¶å®Œå…¨æ”¯æŒ TypeScriptï¼ˆä½†ä»ç„¶å…è®¸å¼€å‘äººå‘˜ä½¿ç”¨çº¯ JavaScript ç¼–å†™ä»£ç ï¼‰å¹¶ç»“åˆäº† OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ï¼ŒFPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰å’Œ FRPï¼ˆå‡½æ•°å¼å“åº”ç¼–ç¨‹ï¼‰çš„å…ƒç´ ã€‚ åœ¨åº•å±‚ï¼ŒNestä½¿ç”¨å¼ºå¤§çš„ HTTP Server æ¡†æ¶ï¼Œå¦‚ Expressï¼ˆé»˜è®¤ï¼‰å’Œ Fastifyã€‚Nest åœ¨è¿™äº›æ¡†æ¶ä¹‹ä¸Šæä¾›äº†ä¸€å®šç¨‹åº¦çš„æŠ½è±¡ï¼ŒåŒæ—¶ä¹Ÿå°†å…¶ API ç›´æ¥æš´éœ²ç»™å¼€å‘äººå‘˜ã€‚è¿™æ ·å¯ä»¥è½»æ¾ä½¿ç”¨æ¯ä¸ªå¹³å°çš„æ— æ•°ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚ å®‰è£… åœ¨å®˜ç½‘å¯ä»¥äº†è§£åˆ° å®‰è£…æœ‰ä¸‰ç§æ–¹å¼ï¼ˆå…‹éš†é¡¹ç›®ã€@nestjs/cliã€å‘½ä»¤è¡Œåˆ›å»ºï¼‰ã€‚ || è¿™é‡Œæ¨èä½¿ç”¨cliæ–¹å¼ 1ã€é¦–å…ˆå®‰è£… @nest/cli $ npm i -g @nestjs/cli 2ã€åˆ›å»ºé¡¹ç›® $ nest new projectNew 3ã€cliåˆ›å»ºåçš„ç›®å½•åŠæ–‡ä»¶ä»‹ç» node_modules src // ä¸»ç¨‹åºç›®å½• --app.controller.ts // æ§åˆ¶å™¨ --app.service.ts // æœåŠ¡ --app.module.ts //æ¨¡å— --main.ts //ç¨‹åºå…¥å£ test //æµ‹è¯•ç›®å½• .gitignore .prettierrc nest-cli.json package.json README.md tsconfig.build.json tsconfig.json tslint.json yarn.lock 4ã€è¿è¡Œç¨‹åº $ npm run start è¿è¡Œæ­¤å‘½ä»¤åœ¨ src ç›®å½•ä¸­çš„ main.ts æ–‡ä»¶ä¸­å®šä¹‰çš„ç«¯å£ä¸Šå¯åŠ¨ HTTP æœåŠ¡å™¨ã€‚åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶, æ‰“å¼€æµè§ˆå™¨å¹¶è®¿é—® http://localhost:3000/ã€‚ ä½ åº”è¯¥çœ‹åˆ° Hello world! ä¿¡æ¯ ","link":"https://lingtin.github.io/post/nest01/"},{"title":"CSSå®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼ˆâ€¦ï¼‰","content":"å®ç°æ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·å‡ ç§æ–¹æ³• 1ã€å®ç°å•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·... 2ã€å®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·... å¦‚æœå®ç°å•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·åŒå­¦ä»¬åº”è¯¥éƒ½çŸ¥é“ç”¨text-overflow:ellipsiså±æ€§æ¥ï¼Œå½“ç„¶è¿˜éœ€è¦åŠ å®½åº¦widthå±æ¥å…¼å®¹éƒ¨åˆ†æµè§ˆã€‚ å®ç°æ–¹æ³•ï¼š overflow: hidden; text-overflow:ellipsis; white-space: nowrap; æ•ˆæœå¦‚ï¼š å®ç°å•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·... ä½†æ˜¯è¿™ä¸ªå±æ€§åªæ”¯æŒå•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼Œå¦‚æœæˆ‘ä»¬è¦å®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·å‘¢ã€‚ æ¥ä¸‹æ¥é‡ç‚¹è¯´ä¸€è¯´å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼Œå¦‚ä¸‹ã€‚ WebKitæµè§ˆå™¨æˆ–ç§»åŠ¨ç«¯çš„é¡µé¢ åœ¨WebKitæµè§ˆå™¨æˆ–ç§»åŠ¨ç«¯ï¼ˆç»å¤§éƒ¨åˆ†æ˜¯WebKitå†…æ ¸çš„æµè§ˆå™¨ï¼‰çš„é¡µé¢å®ç°æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨WebKitçš„CSSæ‰©å±•å±æ€§(WebKitæ˜¯ç§æœ‰å±æ€§)-webkit-line-clamp ï¼›æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ª ä¸è§„èŒƒçš„å±æ€§ï¼ˆunsupported WebKit propertyï¼‰ï¼Œå®ƒæ²¡æœ‰å‡ºç°åœ¨ CSS è§„èŒƒè‰æ¡ˆä¸­ã€‚ å®ç°æ–¹æ³•ï¼š display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden; æ•ˆæœå¦‚å›¾ï¼š å®ç°å¤šè¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å· å®ç°å¤šè¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å· å®ç°å¤šè¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœ... é€‚ç”¨èŒƒå›´ï¼š å› ä½¿ç”¨äº†WebKitçš„CSSæ‰©å±•å±æ€§ï¼Œè¯¥æ–¹æ³•é€‚ç”¨äºWebKitæµè§ˆå™¨åŠç§»åŠ¨ç«¯ï¼› æ³¨ï¼š -webkit-line-clampç”¨æ¥é™åˆ¶åœ¨ä¸€ä¸ªå—å…ƒç´ æ˜¾ç¤ºçš„æ–‡æœ¬çš„è¡Œæ•°ã€‚ ä¸ºäº†å®ç°è¯¥æ•ˆæœï¼Œå®ƒéœ€è¦ç»„åˆå…¶ä»–çš„ WebKitå±æ€§ã€‚å¸¸è§ç»“åˆå±æ€§ï¼š display: -webkit-box; å¿…é¡»ç»“åˆçš„å±æ€§ ï¼Œå°†å¯¹è±¡ä½œä¸ºå¼¹æ€§ä¼¸ç¼©ç›’å­æ¨¡å‹æ˜¾ç¤º ã€‚ -webkit-box-orient å¿…é¡»ç»“åˆçš„å±æ€§ ï¼Œè®¾ç½®æˆ–æ£€ç´¢ä¼¸ç¼©ç›’å¯¹è±¡çš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ ã€‚ å®ç°æ–¹æ³•ï¼š p{position: relative; line-height: 20px; max-height: 40px;overflow: hidden;} p::after{content: &quot;...&quot;; position: absolute; bottom: 0; right: 0; padding-left: 40px; background: -webkit-linear-gradient(left, transparent, #fff 55%); background: -o-linear-gradient(right, transparent, #fff 55%); background: -moz-linear-gradient(right, transparent, #fff 55%); background: linear-gradient(to right, transparent, #fff 55%); } é€‚ç”¨èŒƒå›´ï¼š è¯¥æ–¹æ³•é€‚ç”¨èŒƒå›´å¹¿ï¼Œä½†æ–‡å­—æœªè¶…å‡ºè¡Œçš„æƒ…å†µä¸‹ä¹Ÿä¼šå‡ºç°çœç•¥å·,å¯ç»“åˆjsä¼˜åŒ–è¯¥æ–¹æ³•ã€‚ æ³¨ï¼š å°†heightè®¾ç½®ä¸ºline-heightçš„æ•´æ•°å€ï¼Œé˜²æ­¢è¶…å‡ºçš„æ–‡å­—éœ²å‡ºã€‚ ç»™p::afteræ·»åŠ æ¸å˜èƒŒæ™¯å¯é¿å…æ–‡å­—åªæ˜¾ç¤ºä¸€åŠã€‚ ç”±äºie6-7ä¸æ˜¾ç¤ºcontentå†…å®¹ï¼Œæ‰€ä»¥è¦æ·»åŠ æ ‡ç­¾å…¼å®¹ie6-7ï¼ˆå¦‚ï¼šâ€¦ï¼‰ï¼›å…¼å®¹ie8éœ€è¦å°† ::afteræ›¿æ¢æˆ:afterã€‚ è·¨æµè§ˆå™¨å…¼å®¹çš„æ–¹æ¡ˆ æ¯”è¾ƒé è°±ç®€å•çš„åšæ³•å°±æ˜¯è®¾ç½®ç›¸å¯¹å®šä½çš„å®¹å™¨é«˜åº¦ï¼Œç”¨åŒ…å«çœç•¥å·(â€¦)çš„å…ƒç´ æ¨¡æ‹Ÿå®ç°ï¼› ä¾‹å¦‚ï¼š p { position:relative; line-height:1.4em; /* 3 times the line-height to show 3 lines */ height:4.2em; overflow:hidden; } p::after { content:&quot;...&quot;; font-weight:bold; position:absolute; bottom:0; right:0; padding:0 20px 1px 45px; background:url(/newimg88/2014/09/ellipsis_bg.png) repeat-y; } æ•ˆæœå¦‚ï¼š WebKit Browsers will clamp the number of lines in this paragraph to 2. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat... è¿™é‡Œæ³¨æ„å‡ ç‚¹ï¼š heighté«˜åº¦çœŸå¥½æ˜¯line-heightçš„3å€ï¼› ç»“æŸçš„çœç•¥å¥½ç”¨äº†åŠé€æ˜çš„pngåšäº†å‡æ·¡çš„æ•ˆæœï¼Œæˆ–è€…è®¾ç½®èƒŒæ™¯é¢œè‰²ï¼› IE6-7ä¸æ˜¾ç¤ºcontentå†…å®¹ï¼Œæ‰€ä»¥è¦å…¼å®¹IE6-7å¯ä»¥æ˜¯åœ¨å†…å®¹ä¸­åŠ å…¥ä¸€ä¸ªæ ‡ç­¾ï¼Œæ¯”å¦‚ç”¨&lt;span class=&quot;line-clamp&quot;&gt;...&lt;/span&gt;å»æ¨¡æ‹Ÿï¼› è¦æ”¯æŒIE8ï¼Œéœ€è¦å°†::afteræ›¿æ¢æˆ:afterï¼› JavaScript æ–¹æ¡ˆ ç”¨jsä¹Ÿå¯ä»¥æ ¹æ®ä¸Šé¢çš„æ€è·¯å»æ¨¡æ‹Ÿï¼Œå®ç°ä¹Ÿå¾ˆç®€å•ï¼Œæ¨èå‡ ä¸ªåšç±»ä¼¼å·¥ä½œçš„æˆç†Ÿå°å·¥å…·ï¼š 1.Clamp.js ä¸‹è½½åŠæ–‡æ¡£åœ°å€ï¼šhttps://github.com/josephschmitt/Clamp.js ä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ï¼š var module = document.getElementById(&quot;clamp-this-module&quot;); $clamp(module, {clamp: 3}); 2.jQueryæ’ä»¶-jQuery.dotdotdot è¿™ä¸ªä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼š $(document).ready(function() { $(&quot;#wrapper&quot;).dotdotdot({ // configuration goes here }); }); ","link":"https://lingtin.github.io/post/WMjMr42Ik/"},{"title":"H5é¡µé¢å‰ç«¯å¼€å‘ï¼Œå¤§å¤šæ•°äººéƒ½ä¼šé‡åˆ°çš„å‡ ä¸ªå…¼å®¹æ€§å‘","content":"H5é¡µé¢å‰ç«¯å¼€å‘ï¼Œå¤§å¤šæ•°äººéƒ½ä¼šé‡åˆ°çš„å‡ ä¸ªå…¼å®¹æ€§å‘ 1ã€iosç«¯å…¼å®¹inputå…‰æ ‡é«˜åº¦ 2ã€iosç«¯å¾®ä¿¡h5é¡µé¢ä¸Šä¸‹æ»‘åŠ¨æ—¶å¡é¡¿ã€é¡µé¢ç¼ºå¤± ä½œè€…ï¼šcodercao æ¥æºï¼šhttps://juejin.im/post/5d47d2eff265da03f77e4e3a æ‰€ä»¥ä¸‹æ–‡æ¶‰åŠå›¾ç‰‡éƒ½æ¨¡ç³Šå¤„ç†äº†ã€‚ 1ã€iosç«¯å…¼å®¹inputå…‰æ ‡é«˜åº¦ é—®é¢˜è¯¦æƒ…æè¿°ï¼šinputè¾“å…¥æ¡†å…‰æ ‡ï¼Œåœ¨å®‰å“æ‰‹æœºä¸Šæ˜¾ç¤ºæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨è‹¹æœæ‰‹æœºä¸Šå½“ç‚¹å‡»è¾“å…¥çš„æ—¶å€™ï¼Œå…‰æ ‡çš„é«˜åº¦å’Œçˆ¶ç›’å­çš„é«˜åº¦ä¸€æ ·ã€‚ä¾‹å¦‚ä¸‹å›¾ï¼Œå·¦å›¾æ˜¯æ­£å¸¸æ‰€æœŸå¾…çš„è¾“å…¥æ¡†å…‰æ ‡ï¼Œå³è¾¹æ˜¯iosçš„inputå…‰æ ‡ã€‚ å‡ºç°åŸå› åˆ†æï¼šé€šå¸¸æˆ‘ä»¬ä¹ æƒ¯ç”¨heightå±æ€§è®¾ç½®è¡Œé—´çš„é«˜åº¦å’Œline-heightå±æ€§è®¾ç½®è¡Œé—´çš„è·ç¦»ï¼ˆè¡Œé«˜ï¼‰ï¼Œå½“ç‚¹å‡»è¾“å…¥çš„æ—¶å€™ï¼Œå…‰æ ‡çš„é«˜åº¦å°±è‡ªåŠ¨å’Œçˆ¶ç›’å­çš„é«˜åº¦ä¸€æ ·äº†ã€‚ï¼ˆè°·æ­Œæµè§ˆå™¨çš„è®¾è®¡åŸåˆ™ï¼Œè¿˜æœ‰ä¸€ç§å¯èƒ½å°±æ˜¯å½“æ²¡æœ‰å†…å®¹çš„æ—¶å€™å…‰æ ‡çš„é«˜åº¦ç­‰äºinputçš„line-heightçš„å€¼ï¼Œå½“æœ‰å†…å®¹æ—¶ï¼Œå…‰æ ‡ä»inputçš„é¡¶ç«¯åˆ°æ–‡å­—çš„åº•éƒ¨ è§£å†³åŠæ³•ï¼šé«˜åº¦heightå’Œè¡Œé«˜line-heightå†…å®¹ç”¨paddingæ’‘å¼€ ä¾‹å¦‚ï¼š .content{ float: left; box-sizing: border-box; height: 88px; width: calc(100% - 240px); .content-input{ display: block; box-sizing: border-box; width: 100%; color: #333333; font-size: 28px; //line-height: 88px; padding-top: 20px; padding-bottom: 20px; } } 2ã€iosç«¯å¾®ä¿¡h5é¡µé¢ä¸Šä¸‹æ»‘åŠ¨æ—¶å¡é¡¿ã€é¡µé¢ç¼ºå¤± é—®é¢˜è¯¦æƒ…æè¿°ï¼šåœ¨iosç«¯ï¼Œä¸Šä¸‹æ»‘åŠ¨é¡µé¢æ—¶ï¼Œå¦‚æœé¡µé¢é«˜åº¦è¶…å‡ºäº†ä¸€å±ï¼Œå°±ä¼šå‡ºç°æ˜æ˜¾çš„å¡é¡¿ï¼Œé¡µé¢æœ‰éƒ¨åˆ†å†…å®¹æ˜¾ç¤ºä¸å…¨çš„æƒ…å†µï¼Œä¾‹å¦‚ä¸‹å›¾ï¼Œå³å›¾æ˜¯æ­£å¸¸é¡µé¢ï¼Œè¾¹æ˜¯iosä¸Šä¸‹æ»‘åŠ¨åï¼Œå¡é¡¿å¯¼è‡´å¦‚å·¦å›¾ä¸‹é¢éƒ¨åˆ†ä¸¢å¤±ã€‚ å‡ºç°åŸå› åˆ†æï¼š ç¬¼ç»Ÿè¯´å¾®ä¿¡æµè§ˆå™¨çš„å†…æ ¸ï¼ŒAndroidä¸Šé¢æ˜¯ä½¿ç”¨è‡ªå¸¦çš„WebKitå†…æ ¸ï¼ŒiOSé‡Œé¢ç”±äºè‹¹æœçš„åŸå› ï¼Œä½¿ç”¨äº†è‡ªå¸¦çš„Safariå†…æ ¸ï¼ŒSafariå¯¹äºoverflow-scrollingç”¨äº†åŸç”Ÿæ§ä»¶æ¥å®ç°ã€‚å¯¹äºæœ‰-webkit-overflow-scrollingçš„ç½‘é¡µï¼Œä¼šåˆ›å»ºä¸€ä¸ªUIScrollViewï¼Œæä¾›å­layerç»™æ¸²æŸ“æ¨¡å—ä½¿ç”¨ã€‚ã€æœ‰å¾…è€ƒè¯ã€‘ è§£å†³åŠæ³•ï¼šåªéœ€è¦åœ¨å…¬å…±æ ·å¼åŠ å…¥ä¸‹é¢è¿™è¡Œä»£ç  *{ -webkit-overflow-scrolling: touch; } Butï¼Œè¿™ä¸ªå±æ€§æ˜¯æœ‰bugçš„ï¼Œæ¯”å¦‚å¦‚æœä½ çš„é¡µé¢ä¸­æœ‰è®¾ç½®äº†ç»å¯¹å®šä½çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„æ˜¾ç¤ºä¼šé”™ä¹±ï¼Œå½“ç„¶è¿˜æœ‰ä¼šæœ‰å…¶ä»–çš„ä¸€äº›bugã€‚ æ‹“å±•çŸ¥è¯†ï¼š -webkit-overflow-scrolling:touchæ˜¯ä»€ä¹ˆï¼Ÿ MDNä¸Šæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š -webkit-overflow-scrolling å±æ€§æ§åˆ¶å…ƒç´ åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¯å¦ä½¿ç”¨æ»šåŠ¨å›å¼¹æ•ˆæœ. auto: ä½¿ç”¨æ™®é€šæ»šåŠ¨, å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ã€‚ touch: ä½¿ç”¨å…·æœ‰å›å¼¹æ•ˆæœçš„æ»šåŠ¨, å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œå†…å®¹ä¼šç»§ç»­ä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨æ•ˆæœã€‚ç»§ç»­æ»šåŠ¨çš„é€Ÿåº¦å’ŒæŒç»­çš„æ—¶é—´å’Œæ»šåŠ¨æ‰‹åŠ¿çš„å¼ºçƒˆç¨‹åº¦æˆæ­£æ¯”ã€‚åŒæ—¶ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å †æ ˆä¸Šä¸‹æ–‡ã€‚ 3ã€iosé”®ç›˜å”¤èµ·ï¼Œé”®ç›˜æ”¶èµ·ä»¥åé¡µé¢ä¸å½’ä½ é—®é¢˜è¯¦æƒ…æè¿°ï¼š è¾“å…¥å†…å®¹ï¼Œè½¯é”®ç›˜å¼¹å‡ºï¼Œé¡µé¢å†…å®¹æ•´ä½“ä¸Šç§»ï¼Œä½†æ˜¯é”®ç›˜æ”¶èµ·ï¼Œé¡µé¢å†…å®¹ä¸ä¸‹æ»‘ å‡ºç°åŸå› åˆ†æï¼š å›ºå®šå®šä½çš„å…ƒç´  åœ¨å…ƒç´ å†… input æ¡†èšç„¦çš„æ—¶å€™ å¼¹å‡ºçš„è½¯é”®ç›˜å ä½ å¤±å»ç„¦ç‚¹çš„æ—¶å€™è½¯é”®ç›˜æ¶ˆå¤± ä½†æ˜¯è¿˜æ˜¯å ä½çš„ å¯¼è‡´inputæ¡†ä¸èƒ½å†æ¬¡è¾“å…¥ åœ¨å¤±å»ç„¦ç‚¹çš„æ—¶å€™ç»™ä¸€ä¸ªäº‹ä»¶ è§£å†³åŠæ³•ï¼š &lt;div class=&quot;list-warp&quot;&gt; &lt;div class=&quot;title&quot;&gt;&lt;span&gt;æŠ•Â·è¢«ä¿é™©äººå§“å&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt; &lt;input class=&quot;content-input&quot; placeholder=&quot;è¯·è¾“å…¥å§“å&quot; v-model=&quot;peopleList.name&quot; @focus=&quot;changefocus()&quot; @blur.prevent=&quot;changeBlur()&quot;/&gt; &lt;/div&gt; &lt;/div&gt; changeBlur(){ let u = navigator.userAgent, app = navigator.appVersion; let isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); if(isIOS){ setTimeout(() =&gt; { const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0 window.scrollTo(0, Math.max(scrollHeight - 1, 0)) }, 200) } } æ‹“å±•çŸ¥è¯†ï¼š position: fixedçš„å…ƒç´ åœ¨iosé‡Œï¼Œæ”¶èµ·é”®ç›˜çš„æ—¶å€™ä¼šè¢«é¡¶ä¸Šå»ï¼Œç‰¹åˆ«æ˜¯ç¬¬ä¸‰æ–¹é”®ç›˜ 4ã€å®‰å“å¼¹å‡ºçš„é”®ç›˜é®ç›–æ–‡æœ¬æ¡† é—®é¢˜è¯¦æƒ…æè¿°ï¼š å®‰å“å¾®ä¿¡H5å¼¹å‡ºè½¯é”®ç›˜åæŒ¡ä½inputè¾“å…¥æ¡†ï¼Œå¦‚ä¸‹å·¦å›¾æ˜¯æœŸå¾…å”¤èµ·é”®ç›˜çš„æ—¶å€™æ ·å­ï¼Œå³è¾¹æ˜¯å®é™…å”¤èµ·é”®ç›˜çš„æ ·å­ å‡ºç°åŸå› åˆ†æï¼šå¾…è¡¥å…… è§£å†³åŠæ³•ï¼šç»™inputå’Œtextareaæ ‡ç­¾æ·»åŠ focusäº‹ä»¶ï¼Œå¦‚ä¸‹ï¼Œå…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯å®‰å“æ‰‹æœºä¸‹çš„æ“ä½œï¼Œå½“ç„¶ï¼Œå¯ä»¥ä¸ç”¨åˆ¤æ–­æœºå‹ï¼ŒDocument å¯¹è±¡å±æ€§å’Œæ–¹æ³•ï¼ŒsetTimeoutå»¶æ—¶0.5ç§’ï¼Œå› ä¸ºè°ƒç”¨å®‰å“é”®ç›˜æœ‰ä¸€ç‚¹è¿Ÿé’ï¼Œå¯¼è‡´å¦‚æœä¸å»¶æ—¶å¤„ç†çš„è¯ï¼Œæ»šåŠ¨å°±å¤±æ•ˆäº† changefocus(){ let u = navigator.userAgent, app = navigator.appVersion; let isAndroid = u.indexOf('Android') &gt; -1 || u.indexOf('Linux') &gt; -1; if(isAndroid){ setTimeout(function() { document.activeElement.scrollIntoViewIfNeeded(); document.activeElement.scrollIntoView(); }, 500); } } æ‹“å±•çŸ¥è¯†ï¼š Element.scrollIntoView()æ–¹æ³•è®©å½“å‰çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸå†…ã€‚è€ŒElement.scrollIntoViewIfNeeded()æ–¹æ³•ä¹Ÿæ˜¯ç”¨æ¥å°†ä¸åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸã€‚ä½†å¦‚æœè¯¥å…ƒç´ å·²ç»åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿæ»šåŠ¨ 5ã€Vueä¸­è·¯ç”±ä½¿ç”¨hashæ¨¡å¼ï¼Œå¼€å‘å¾®ä¿¡H5é¡µé¢åˆ†äº«æ—¶åœ¨å®‰å“ä¸Šè®¾ç½®åˆ†äº«æˆåŠŸï¼Œä½†æ˜¯iosçš„åˆ†äº«å¼‚å¸¸ é—®é¢˜è¯¦æƒ…æè¿°ï¼š ioså½“å‰é¡µé¢åˆ†äº«ç»™å¥½å‹ï¼Œç‚¹å‡»è¿›æ¥æ˜¯æ­£å¸¸ï¼Œå¦‚æœäºŒæ¬¡åˆ†äº«ï¼Œåˆ™è·³è½¬åˆ°é¦–é¡µï¼›ä½¿ç”¨vue routerè·³è½¬åˆ°ç¬¬äºŒä¸ªé¡µé¢ååœ¨åˆ†äº«æ—¶ï¼Œåˆ†äº«è®¾ç½®å¤±è´¥ï¼›ä»¥ä¸Šå®‰å“åˆ†äº«éƒ½æ˜¯æ­£å¸¸ å‡ºç°åŸå› åˆ†æï¼šjssdkæ˜¯åç«¯è¿›è¡Œç­¾ç½²ï¼Œå‰ç«¯æ ¡éªŒï¼Œä½†æ˜¯æœ‰æ—¶è·¨åŸŸï¼Œiosæ˜¯åˆ†äº«ä»¥åä¼šè‡ªåŠ¨å¸¦ä¸Š from=singlemessage&amp;isappinstalled=0 ä»¥åŠå…¶ä»–å‚æ•°ï¼Œåˆ†äº«æœ‹å‹åœˆå‚æ•°è¿˜ä¸ä¸€æ ·ï¼Œè²Œä¼¼ç³»ç»Ÿä¸ä¸€æ ·å‚æ•°ä¹Ÿä¸ä¸€æ ·ï¼Œä½†æ˜¯æ¯æ¬¡è·å–urlå¹¶ä¸èƒ½è·å–åé¢è¿™äº›å‚æ•° è§£å†³åŠæ³•ï¼š ï¼ˆ1ï¼‰å¯ä»¥ä½¿ç”¨æ”¹é¡µé¢this.$router.pushè·³è½¬ï¼Œä¸ºwindow.location.hrefå»è·³è½¬ï¼Œè€Œä¸ä½¿ç”¨è·¯ç”±è·³è½¬ï¼Œè¿™æ ·å¯ä»¥ä½¿åœ°å€æ çš„åœ°å€ä¸å½“å‰é¡µçš„åœ°å€ä¸€æ ·ï¼Œå¯ä»¥åˆ†äº«æˆåŠŸï¼ˆé€‚åˆåˆ†äº«çš„é¡µé¢ä¸å¤šçš„æƒ…å†µä¸‹ï¼Œä½œä¸ºä¸€ä¸ªå•å•é¡µè¿ç”¨ï¼Œè¿™æ ·åˆ·æ–°é¡µé¢è·³è½¬ï¼Œè¿˜æ˜¯..ï¼‰ ï¼ˆ2ï¼‰æŠŠå…¥å£åœ°å€ä¿å­˜åœ¨æœ¬åœ°ï¼Œç­‰éœ€è¦è·å–ç­¾åçš„æ—¶å€™ å–å‡ºæ¥ï¼Œæ³¨æ„ï¼šsessionStorage.setItem(â€˜hrefâ€™,href); åªåœ¨åˆšè¿›å…¥å•åº”ç”¨çš„æ—¶å€™ä¿å­˜ï¼ã€è¯¥æ–¹æ³•æœªéªŒè¯ã€‘ ","link":"https://lingtin.github.io/post/gdCbgzQi/"},{"title":"bignumber.jsä½¿ç”¨è®°å½•","content":"bignumber.jsæ˜¯ä¸€ä¸ªç”¨äºè¿›è¡Œæ•°å­¦è¿ç®—çš„åº“ï¼Œæ”¯æŒä»»æ„ç²¾åº¦ã€‚ 1ã€constructor 2ã€é™æ€æ–¹æ³• æœ¬æ–‡å¯ä»¥çœ‹åšæ˜¯å¯¹bignumber.jså®˜æ–¹æ–‡æ¡£çš„ç¿»è¯‘ã€‚ constructor /* * n {number|string|BigNumber} A numeric value. * [b] {number} The base of n. Integer, 2 to ALPHABET.length inclusive. */ function BigNumber(n, b) { } é™æ€æ–¹æ³• clone() ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„BigNumberæ„é€ å‡½æ•° var BN = BigNumber.clone() BN(1).div(3).toNumber() //0.3333333333333333 config() ä¸ºè¿™ä¸ªç‹¬ç«‹çš„BigNumberæ„é€ å‡½æ•°è®¾ç½®å‚æ•° ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªå‚æ•°ï¼š DECIMAL_PLACES(é»˜è®¤å€¼ï¼š20) ç”¨äºè®¾ç½®å°æ•°ä½æ•°ã€‚åœ¨é™¤æ³•ã€å¼€æ–¹ã€æŒ‡æ•°è®¡ç®—æ—¶ä¼šç”¨åˆ°ã€‚ var BN = BigNumber.clone() BN.config({DECIMAL_PLACES:4}) BN(1).div(3).toNumber() //0.3333ï¼Œæ³¨æ„è·Ÿä¸Šé¢è®¡ç®—ç»“æœçš„åŒºåˆ« ROUNDING_MODE(é»˜è®¤å€¼4) èˆå…¥æ¨¡å¼ï¼Œå–å€¼çš„æ„ä¹‰å¯å‚ç…§ //å–å€¼èŒƒå›´ï¼š BigNumber.ROUND_UP = 0; //è¿œç¦»0æ–¹å‘èˆå…¥ BigNumber.ROUND_DOWN = 1; //å‘0æ–¹å‘èˆå…¥ BigNumber.ROUND_CEIL = 2; //å‘æ­£æ— é™å¤§èˆå…¥ BigNumber.ROUND_FLOOR = 3; //å‘è´Ÿæ— é™å¤§èˆå…¥ BigNumber.ROUND_HALF_UP = 4; //å››èˆäº”å…¥ï¼šå‘æœ€æ¥è¿‘çš„æ•°å­—æ–¹å‘èˆå…¥ï¼Œå¦‚æœä¸ä¸¤ä¸ªç›¸é‚»æ•°å­—çš„è·ç¦»ç›¸ç­‰ï¼Œåˆ™å‘ä¸Šèˆå…¥ã€‚ BigNumber.ROUND_HALF_DOWN = 5; //å‘æœ€æ¥è¿‘çš„æ•°å­—æ–¹å‘èˆå…¥ï¼Œå¦‚æœä¸ä¸¤ä¸ªç›¸é‚»æ•°å­—çš„è·ç¦»ç›¸ç­‰ï¼Œåˆ™å‘ä¸‹èˆå…¥ã€‚ BigNumber.ROUND_HALF_EVEN = 6; //å‘æœ€æ¥è¿‘æ•°å­—æ–¹å‘èˆå…¥ï¼Œå¦‚æœä¸ä¸¤ä¸ªç›¸é‚»æ•°å­—çš„è·ç¦»ç›¸ç­‰ï¼Œåˆ™å‘ç›¸é‚»çš„å¶æ•°èˆå…¥ BigNumber.ROUND_HALF_CEIL = 7; BigNumber.ROUND_HALF_FLOOR = 8; EXPONENTIAL_AT(é»˜è®¤å€¼[-7,20]) æŒ‡æ•°è®¡æ•°æ³• RANGE(é»˜è®¤å€¼[-1e+9,1e+9]) CRYPTO(é»˜è®¤å€¼ false) ç”¨äºè®¾ç½®BigNumber.random()çš„éšæœºç”Ÿæˆç®—æ³•ã€‚å¦‚æœæ— æ³•è®¾ç½®ä¸ºtrueï¼Œåˆ™ä½¿ç”¨Math.random()ç”Ÿæˆéšæœºå€¼ã€‚ MODULO_MODE(é»˜è®¤å€¼ï¼šROUND_DOWN) å–æ¨¡è¿ç®—çš„æ¨¡å¼ POW_PRECISION(é»˜è®¤å€¼ï¼š0) powè¿ç®—ç»“æœçš„ç²¾åº¦ FORMATE(æ ¼å¼åŒ–å¯¹åº”çš„è®¾ç½®) é»˜è®¤å€¼ï¼š BigNumber.config().FORMAT ============================== { decimalSeparator: &quot;.&quot; fractionGroupSeparator: &quot; &quot; fractionGroupSize: 0 groupSeparator: &quot;,&quot; groupSize: 3 secondaryGroupSize: 0 } maximum([]),minimum([]) è·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼/æœ€å°å€¼ random([precision]) è¿”å›ä¸€ä¸ªä¼ªéšæœºå€¼ï¼Œå‚æ•°å¯ä»¥æŒ‡å®šå°æ•°ç‚¹ä½æ•° å®ä¾‹æ–¹æ³• åŠ æ³•ï¼š.plus(n [, base]) â‡’ BigNumber 0.1 + 0.2 // 0.30000000000000004 x = new BigNumber(0.1) y = x.plus(0.2) // '0.3' BigNumber(0.7).plus(x).plus(y) // '1' x.plus('0.1', 8) // '0.225' å‡æ³•ï¼š.minus(n [, base]) â‡’ BigNumber 0.3 - 0.1 // 0.19999999999999998 x = new BigNumber(0.3) x.minus(0.1) // '0.2' x.minus(0.6, 20) // '0' ä¹˜æ³•ï¼š.times(n [, base]) â‡’ BigNumber; m.ultipliedBy(n [, base]) â‡’ BigNumber; 0.6 * 3 // 1.7999999999999998 x = new BigNumber(0.6) y = x.multipliedBy(3) // '1.8' BigNumber('7e+500').times(y) // '1.26e+501' x.multipliedBy('-a', 16) // '-6 é™¤æ³• æ™®é€šé™¤æ³•è¿ç®—ï¼š .div(n [, base]) â‡’ BigNumberï¼› .dividedBy(n [, base]) â‡’ BigNumber x = new BigNumber(355) y = new BigNumber(113) x.dividedBy(y) // '3.14159292035398230088' x.div(5) // '71' x.div(47, 16) // '5' æ³¨æ„ï¼š é™¤æ³•è®¡ç®—ç»“æœä¼šæ ¹æ®DECIMAL_PLACESå’ŒROUNDING_MODEä¸¤ä¸ªå±æ€§è®¾ç½®è¿›è¡Œèˆå…¥ã€‚ é™¤æ³•ï¼Œè¿”å›æ•´æ•°ï¼š .idiv(n [, base]) â‡’ BigNumberï¼›.dividedToIntegerByv(n [, base]) â‡’ BigNumber x = new BigNumber(355) y = new BigNumber(113) x.dividedBy(y) // '3.14159292035398230088' x.div(5) // '71' x.div(47, 16) // '5' å–æ¨¡/å–ä½™ï¼š .mod(n [, base]) â‡’ BigNumberï¼›modulo.(n [, base]) â‡’ BigNumber 1 % 0.9 // 0.09999999999999998 x = new BigNumber(1) x.modulo(0.9) // '0.1' y = new BigNumber(33) y.mod('a', 33) // '3' æ³¨æ„ï¼š å–æ¨¡/å–ä½™è¿ç®—å—MODULO_MODEè®¾ç½®å½±å“ æŒ‡æ•°è¿ç®—ï¼š .pow(n [, m]) â‡’ BigNumber;.exponentiatedBy(n [, m]) â‡’ BigNumber Math.pow(0.7, 2) // 0.48999999999999994 x = new BigNumber(0.7) x.exponentiatedBy(2) // '0.49' BigNumber(3).pow(-2) // '0.11111111111111111111' å¼€å¹³æ–¹ï¼š.sqrt() â‡’ BigNumberï¼›.squareRoot.() â‡’ BigNumber x = new BigNumber(16) x.squareRoot() // '4' y = new BigNumber(3) y.sqrt() // '1.73205080756887729353' æ¯”è¾ƒå¤§å°ï¼š .comparedTo(n [, base]) â‡’ number æ¯”è¾ƒç»“æœï¼Œå‚è€ƒå¦‚ä¸‹è¡¨ï¼š 1 æ“ä½œæ•°&gt;n -1 æ“ä½œæ•°&lt;n 0 æ“ä½œæ•°==n null æ“ä½œæ•°æˆ–è€…nä¸æ˜¯æ•°å­— å¤åˆ¶ä»£ç ä¸¾ä¾‹ï¼š x = new BigNumber(Infinity) y = new BigNumber(5) x.comparedTo(y) // 1 x.comparedTo(x.minus(1)) // 0 y.comparedTo(NaN) // null y.comparedTo('110', 2) // -1 ç²¾åº¦è°ƒæ•´ .dp([dp [, rm]]) â‡’ BigNumber|numberï¼›decimalPlaces.[dp [, rm]]) â‡’ BigNumber|number æ ¹æ®dp(decimals places)å’Œrm(round mode)å¯¹æ“ä½œæ•°è¿›è¡Œèˆå…¥ x = new BigNumber(1234.56) x.decimalPlaces(1) // '1234.6' x.dp() // 2 å¦‚æœä¸ä¼ dpï¼Œåˆ™å‡½æ•°è¿”å›çš„æ˜¯æ“ä½œæ•°çš„å°æ•°ç‚¹çš„ä½æ•° x.decimalPlaces(2) // '1234.56' x.dp(10) // '1234.56' x.decimalPlaces(0, 1) // '1234' x.dp(0, 6) // '1235' x.decimalPlaces(1, 1) // '1234.5' x.dp(1, BigNumber.ROUND_HALF_EVEN) // '1234.6' x // '1234.56' å–æ•´ï¼š.integerValue([rm]) â‡’ BigNumber æ ¹æ®rm(round mode)è¿”å›æ“ä½œæ•°çš„æ•´æ•°éƒ¨åˆ† x = new BigNumber(123.456) x.integerValue() // '123' x.integerValue(BigNumber.ROUND_CEIL) // '124' y = new BigNumber(-12.7) y.integerValue() // '-13' y.integerValue(BigNumber.ROUND_DOWN) // '-12',å‘0èˆå…¥ æœ‰æ•ˆæ•°å­— .sd([d [, rm]]) â‡’ BigNumber|numberï¼›precision.([d [, rm]]) â‡’ BigNumber|number ä»€ä¹ˆæ˜¯æœ‰æ•ˆæ•°å­—ï¼Ÿ---&gt;ä»è¯¥æ•°çš„ç¬¬ä¸€ä¸ªéé›¶æ•°å­—èµ·ï¼Œç›´åˆ°æœ«å°¾æ•°å­—æ­¢çš„æ•°å­—ç§°ä¸ºæœ‰æ•ˆæ•°å­—ï¼Œå¦‚0.618çš„æœ‰æ•ˆæ•°å­—æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯6,1,8ã€‚ x = new BigNumber(9876.54321) x.precision(6) // '9876.54' x.sd() // 9 å¦‚æœçœç•¥å‚æ•°dï¼Œåˆ™è¿”å›æœ‰æ•ˆæ•°å­—ä¸ªæ•° x.precision(6, BigNumber.ROUND_UP) // '9876.55' x.sd(2) // '9900' //todo x.precision(2, 1) // '9800' //todo y = new BigNumber(987000) y.precision() // 3 y.sd(true) // 6,å¦‚å¤šå‚æ•°sdä¸ºtrueï¼Œåˆ™æ•´æ•°éƒ¨åˆ†åè¾¹çš„0ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆæ•°å­— .toFixed([dp [, rm]]) â‡’ string è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°æ•°ä½æ ¹æ®dpæˆªå–æˆ–è€…å¡«å……ã€‚ æ³¨æ„ï¼š Unlike Number.prototype.toFixed, which returns exponential notation if a number is greater or equal to 1021, this method will always return normal notation. è·ŸNumber.prototype.toFixed(dp)çš„å¼‚åŒ å¦‚æœçœç•¥å‚æ•°dpï¼ŒBigNumber(1.123).toFixed() åŸæ ·è¿”å›'1.123';è€Œ1.123.toFixed()ä¼šå»æ‰æ‰€æœ‰å°æ•°ä½ï¼Œåªè¿”å›æ•´æ•°ä½'1' å¦‚æœæ“ä½œæ•°å¤§äº1021ï¼ŒBigNumber(1021).toFixed()ä¼šè·Ÿæ™®é€šæ•°å­—ä¸€æ ·è¿”å›ï¼›10^21.toFixed() ä¼šé€šè¿‡æŒ‡æ•°å½¢å¼è¿”å› Math.pow(10,20).toFixed() //&quot;100000000000000000000&quot; Math.pow(10,21).toFixed() //&quot;1e+21&quot; BigNumber(10).pow(20).toFixed() //&quot;100000000000000000000&quot; BigNumber(10).pow(21).toFixed() //&quot;1000000000000000000000&quot; ç¤ºä¾‹ï¼š x = 3.456 y = new BigNumber(x) x.toFixed() // '3' y.toFixed() // '3.456' y.toFixed(0) // '3' x.toFixed(2) // '3.46' y.toFixed(2) // '3.46' y.toFixed(2, 1) // '3.45' (ROUND_DOWN) x.toFixed(5) // '3.45600' y.toFixed(5) // '3.45600' æ³¨æ„ï¼š toFixed()æ–¹æ³•ä¸dp()æ–¹æ³•çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼ŒtoFixedè¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœå°æ•°ä½ä¸å¤Ÿçš„è¯ä¼šç”¨0è¡¥é½ï¼›dp()æ–¹æ³•è¿”å›çš„æ˜¯BigNumber|numberï¼Œå°æ•°ä½ä¸å¤Ÿçš„è¯ä¼šå¿½ç•¥ æ•°å­—æ ¼å¼åŒ– .toFormat([dp [, rm]]) â‡’ string è¿”å›å­—ç¬¦ä¸²ï¼Œä¼šæ ¹æ®dpå’Œrmè¿›è¡Œèˆå…¥,å¹¶æ ¹æ®FORMATå±æ€§è¿›è¡Œæ ¼å¼åŒ–ã€‚ format = { decimalSeparator: '.', groupSeparator: ',', groupSize: 3, secondaryGroupSize: 0, fractionGroupSeparator: ' ', fractionGroupSize: 0 } BigNumber.config({ FORMAT: format }) x = new BigNumber('123456789.123456789') x.toFormat() // '123,456,789.123456789' x.toFormat(1) // '123,456,789.1' è½¬æ¢ä¸ºjs åŸºç¡€æ•°å€¼ç±»å‹ .toNumber() â‡’ number æ•ˆæœä¸ä½¿ç”¨+è¿ç®—ç¬¦ä¸€è‡´ x = new BigNumber(456.789) x.toNumber() // 456.789 +x // 456.789 é“¾æ¥ï¼šhttps://juejin.im/post/5be00d15e51d451bc70bfa26 æ¥æºï¼šæ˜é‡‘ ","link":"https://lingtin.github.io/post/dV9qteBys/"},{"title":"CMDåŒæ—¶è¿è¡Œå¤šä¸ªæœåŠ¡","content":"ä¸»è¦æ˜¯æ–¹ä¾¿æˆ‘ä»¬å†™å‰ç«¯å·¥ç¨‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªå‘½ä»¤ç”¨ã€‚ 1ã€å®‰è£…concurrently 2ã€package.json æ–‡æ¡£åœ°å€ï¼šhttps://www.npmjs.com/package/concurrentl ä¸€ã€å®‰è£… //ä½¿ç”¨nodeç¼–å†™æ—¶ npm install -g concurrently //æˆ–è€…cnpmåœ¨é¡¹ç›®é‡Œ cnpm install concurrently --save äºŒã€package.json scripts:{ &quot;watch-start&quot;:&quot;...&quot;, &quot;watch-server&quot;:&quot;...&quot;, &quot;watch-dreams&quot;:&quot;...&quot; } ä¸‰ã€å‘½ä»¤è¡Œå¯åŠ¨ //å‘½ä»¤å¸¦ä¸Šå¼•å· concurrently &quot;npm run dev&quot; &quot;npm run build&quot; &quot;npm run server&quot; //æˆ–è€…è¿è¡ŒæŸå­—æ®µä¸ºå‰ç¼€çš„å‘½ä»¤ concurrently &quot;npm:watch-*&quot; æ¥æºé“¾æ¥ï¼šhttps://zhuanlan.zhihu.com/p/65564606 æ¥æºï¼šçŸ¥ä¹ ","link":"https://lingtin.github.io/post/concurrently01/"},{"title":"ä½¿ç”¨nodejsç¼–å†™cli(å‘½ä»¤è¡Œ)","content":"ä½¿ç”¨nodejsç¼–å†™cli(å‘½ä»¤è¡Œ) 1ã€è·‘nodeè„šæœ¬ 2ã€nodeçš„æ‰§è¡Œç¨‹åº å‰ç«¯æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¼šé‡è§å„ç§å„æ ·çš„cliï¼Œæ¯”å¦‚ä¸€è¡Œå‘½ä»¤å¸®ä½ æ‰“åŒ…çš„webpackï¼Œä¸€è¡Œå‘½ä»¤å¸®ä½ ç”Ÿæˆvueé¡¹ç›®æ¨¡æ¿çš„vue-cliï¼Œè¿˜æœ‰åˆ›å»ºreacté¡¹ç›®çš„create-react-appç­‰ç­‰ç­‰ç­‰ã€‚è¿™äº›å·¥å…·æå¤§åœ°æ–¹ä¾¿äº†æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œï¼Œè®©è®¡ç®—æœºè‡ªå·±å»å¹²ç¹ççš„å·¥ä½œï¼Œè€Œæˆ‘ä»¬ï¼Œå°±å¯ä»¥èŠ‚çœå‡ºå¤§é‡çš„æ—¶é—´ç”¨äºå­¦ä¹ ã€äº¤æµã€å¼€å‘ã€é€›steamã€‚ ä½†æ˜¯æœ‰æ—¶å€™ä¸€äº›ååˆ†ç‰¹åˆ«çš„éœ€æ±‚ï¼Œæˆ‘ä»¬æ˜¯æ‰¾ä¸åˆ°é€‚åˆçš„cliå·¥å…·å»åšçš„ã€‚æ¯”å¦‚è¯´ï¼Œä½ çš„é¡¹ç›®ååˆ†åºå¤§ï¼Œä½ ç»™é¡¹ç›®æ·»åŠ ä¸€ä¸ªæ–°çš„è·¯ç”±ï¼Œè¦ç»è¿‡åˆ›å»ºç›®å½• -&gt; åˆ›å»º.vueæ–‡ä»¶ -&gt; æ›´æ–°vue-routerçš„è·¯ç”±åˆ—è¡¨è¿™ä¸€è¶Ÿæµç¨‹ï¼Œå°±ç®—å¿«æ·é”®åˆ›å»ºç›®å½•æ–‡ä»¶ç”¨å¾—å†ç†Ÿæ‚‰ï¼Œä¹Ÿæ¯”ä¸è¿‡ä½ ä¸€è¡Œå‘½ä»¤æ¥å¾—å¿«ï¼Œç‰¹åˆ«æ˜¯è·¯ç”±ç›®å½•åµŒå¥—æ·±ï¼Œ.vueæ–‡ä»¶åˆå§‹åŒ–æ¨¡æ¿å¤æ‚çš„æ—¶å€™ã€‚ æ‰€ä»¥å‘¢ï¼Œä½•ä¸ä¸ºè‡ªå·±é¡¹ç›®å†™ä¸€ä¸ªcliï¼Ÿå°±ä¸“é—¨åšè¿™äº›ç¹ççš„æ´»ï¼Ÿ 0x1 hello world nodejsçš„cliï¼Œæœ¬è´¨å°±æ˜¯è·‘nodeè„šæœ¬å˜›ï¼ŒåŸºæœ¬ä¸Šæ¯ä½å‰ç«¯eréƒ½ä¼šï¼š // index.js console.log('hello world') ç„¶åå‘½ä»¤è¡Œè°ƒç”¨ &gt; node index.js è¾“å‡ºï¼š &gt; hello world å¯ä»¥åšå¾—æ›´é€¼çœŸä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨package.jsoné‡Œé¢çš„scriptså­—æ®µä¸Šæ·»åŠ ä¸€ä¸‹è„šæœ¬åï¼š { &quot;scripts&quot;:{ &quot;hello&quot;:&quot;node index.js&quot; } } ç„¶åå‘½ä»¤è¡Œè°ƒç”¨ï¼š &gt; npm run hello ä½†æ˜¯ï¼Œçœ‹åˆ°è¿™é‡Œä½ è‚¯å®šä¼šè¯´ï¼Œäººå®¶webpackè¿˜æœ‰vue-cliéƒ½æ˜¯â€œæœ‰åå­—â€çš„ï¼ä»€ä¹ˆvue-cli init appã€webpack -pçš„ï¼Œå¤šæ¼‚äº®ï¼Œçœ‹çœ‹è¿™ä¸ªå‘½ä»¤è¡Œï¼Œnode index.jsï¼Œè¿˜npm run helloï¼Œè°ä¸ä¼šå•Šï¼Œä¸‘ä¸æ‹‰å‡ çš„ï¼Œæ€•åˆä¸æ˜¯æ¥æ°´æ–‡ç« çš„å“¦ï¼Ÿå·®è¯„ï¼ï¼ åˆ«æ€¥å•Šå„ä½å¤§äººï¼Œæ¥ä¸‹æ¥å°±è¯´è¯´ï¼Œå¦‚ä½•ç»™è¿™ä¸ªnodeè„šæœ¬èµ·ä¸ªåå­—ã€‚ 0x2 èµ·åå­— å§‘ä¸”ï¼Œå…ˆæŠŠè¿™ä¸ªcliçš„åå­—å‘½åä¸ºhello-cliï¼Œå°±æ˜¯æˆ‘ä»¬èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œé‡Œé¢ï¼Œè¾“å…¥hello-cliï¼Œç„¶åå®ƒå°±æ‰“å°ä¸€å¥hello worldï¼Œæ²¡æœ‰nodeä¹Ÿæ²¡æœ‰npmï¼Œå°±æ˜¯ï¼š è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦åšå‡ æ­¥æ“ä½œï¼š index.jsæ–‡ä»¶é¡¶éƒ¨å£°æ˜æ‰§è¡Œç¯å¢ƒï¼š // index.js #!/usr/bin/env node console.log('hello world') æ·»åŠ #!/usr/bin/env nodeæˆ–è€…#!/usr/bin/nodeï¼Œè¿™æ˜¯å‘Šè¯‰ç³»ç»Ÿï¼Œä¸‹é¢è¿™ä¸ªè„šæœ¬ï¼Œä½¿ç”¨nodejsæ¥æ‰§è¡Œã€‚å½“ç„¶ï¼Œè¿™ä¸ªç³»ç»Ÿä¸åŒ…æ‹¬windowsï¼Œå› ä¸ºwindowsä¸‹æœ‰ä¸ªJScriptçš„å†å²é—ç•™ç‰©åœ¨ï¼Œä¼šè®©ä½ çš„è„šæœ¬è·‘ä¸èµ·æ¥ã€‚ #!/usr/bin/env nodeçš„æ„æ€æ˜¯è®©ç³»ç»Ÿè‡ªå·±å»æ‰¾nodeçš„æ‰§è¡Œç¨‹åºã€‚ #!/usr/bin/nodeçš„æ„æ€æ˜¯ï¼Œæ˜ç¡®å‘Šè¯‰ç³»ç»Ÿï¼Œnodeçš„æ‰§è¡Œç¨‹åºåœ¨è·¯å¾„ä¸º/usr/bin/nodeã€‚ æ·»åŠ package.jsonçš„binå­—æ®µã€‚ å¯ä»¥åœ¨index.jså½“å‰çš„ç›®å½•ä¸‹æ‰§è¡Œnpm initåˆ›å»ºä¸€ä¸ªpackage.jsonï¼Œç„¶ååœ¨package.jsoné‡Œé¢ï¼Œæ·»åŠ ä¸€ä¸ªbinå­—æ®µï¼š { &quot;name&quot;: &quot;hello-test&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;bin&quot;:{ &quot;hello-cli&quot;:&quot;index.js&quot; } } binå­—æ®µé‡Œé¢å†™ä¸Šè¿™ä¸ªå‘½ä»¤è¡Œçš„åå­—ï¼Œä¹Ÿå°±æ˜¯hello-cliï¼Œå®ƒå‘Šè¯‰npmï¼Œé‡Œé¢çš„jsè„šæœ¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼æ‰§è¡Œï¼Œä»¥hello-cliçš„å‘½ä»¤è°ƒç”¨ã€‚å½“ç„¶å‘½ä»¤è¡Œçš„åå­—ä½ æƒ³å†™ä»€ä¹ˆéƒ½æ˜¯ä½ çš„è‡ªç”±ã€‚ åœ¨å½“å‰package.jsonç›®å½•ä¸‹ï¼Œæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œæ‰§è¡Œnpm linkï¼Œå°†å½“å‰çš„ä»£ç åœ¨npmå…¨å±€ç›®å½•ä¸‹ç•™ä¸ªå¿«æ·æ–¹å¼ã€‚ npmæ£€æµ‹åˆ°package.jsoné‡Œé¢å­˜åœ¨ä¸€ä¸ªbinå­—æ®µï¼Œå®ƒå°±åŒæ—¶åœ¨å…¨å±€npmåŒ…ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼š å½“æˆ‘ä»¬åœ¨ç³»ç»Ÿå‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œhello-cliçš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±æ˜¯æ‰§è¡Œè¿™é‡Œçš„è„šæœ¬ã€‚ å› ä¸ºå®‰è£…nodeçš„æ—¶å€™ï¼Œnpmå°†è¿™ä¸ªç›®å½•é…ç½®ä¸ºç³»ç»Ÿå˜é‡ç¯å¢ƒäº†ï¼Œå½“ä½ æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šå…ˆæ‰¾ç³»ç»Ÿå‘½ä»¤å’Œç³»ç»Ÿå˜é‡ï¼Œç„¶ååˆ°å˜é‡ç¯å¢ƒé‡Œé¢å»æŸ¥æ‰¾è¿™ä¸ªå‘½ä»¤åï¼Œç„¶åæ‰¾åˆ°è¿™ä¸ªç›®å½•åï¼Œå‘ç°åŒ¹é…ä¸Šäº†è¯¥å‘½ä»¤åçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¥ç€å°±ç›´æ¥æ‰§è¡Œå®ƒã€‚vue-cliä¹Ÿå¥½ï¼Œwebpack-cliä¹Ÿå¥½ï¼Œéƒ½æ˜¯è¿™æ ·æ‰§è¡Œçš„ã€‚ è¿™æ ·ï¼Œä½ çš„ç¬¬ä¸€ä¸ªcliè„šæœ¬å°±æˆåŠŸå®‰è£…äº†ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œé¢ï¼Œç›´æ¥æ•²ä½ çš„cliåå­—ï¼Œçœ‹çœ‹ç»“æœè¾“å‡ºå§ã€‚ å¦å¤–ï¼Œå¦‚æœä½ ä»…å¸Œæœ›ä½ çš„cliè„šæœ¬ä»…åœ¨é¡¹ç›®é‡Œæ‰§è¡Œï¼Œåˆ™éœ€è¦åœ¨ä½ é¡¹ç›®é‡Œé¢æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œé‡å¤ä¸Šè¿°çš„æ“ä½œï¼Œåªæ˜¯åœ¨ç¬¬ä¸‰æ­¥çš„æ—¶å€™ï¼Œä¸è¦llinkåˆ°å…¨å±€é‡Œé¢å»ï¼Œè€Œæ˜¯ä½¿ç”¨npm i -D file:&lt;ä½ çš„è„šæœ¬cliç›®å½•è·¯å¾„&gt;ï¼ŒæŠŠå®ƒå½“æˆé¡¹ç›®çš„ä¾èµ–å®‰è£…åˆ°node_modulesé‡Œé¢å»ï¼Œå¦‚æœå®‰è£…æˆåŠŸï¼Œé‚£ä¹ˆåœ¨é¡¹ç›®çš„package.jsonä½ ä¼šçœ‹åˆ°å¤šäº†ä¸€æ¡ä¾èµ–ï¼Œè¿™æ¡ä¾èµ–çš„å€¼ä¸æ˜¯ç‰ˆæœ¬å·ï¼Œè€Œæ˜¯ä½ è„šæœ¬çš„è·¯å¾„ã€‚ç„¶ååœ¨node_modulesé‡Œé¢ä¼šæœ‰ä¸€ä¸ª.binç›®å½•ï¼Œé‡Œé¢å°±å­˜æ”¾ç€ä½ çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ å±€éƒ¨å®‰è£…å»ºè®®ç”¨npm i -D file:xxxï¼Œè¿™æ ·å®ƒä¼šåœ¨package.jsonç•™æ¡è®°å½•ï¼Œæ–¹ä¾¿å…¶ä»–å°ä¼™ä¼´çœ‹åˆ°ã€‚è‡ªç„¶ï¼Œä½ çš„è„šæœ¬æœ€å¥½ä¹Ÿæ˜¯æ”¾è¿›é¡¹ç›®ç›®å½•é‡Œé¢ã€‚ å½“ç„¶ï¼Œè¿™æ ·å®‰è£…çš„cliè„šæœ¬ï¼Œå¿…é¡»åœ¨é¡¹ç›®çš„package.jsonçš„scriptså­—æ®µä¸Šå£°æ˜è„šæœ¬å‘½ä»¤ï¼Œç„¶åé€šè¿‡npm runçš„æ–¹å¼æ‰§è¡Œ å“¦ï¼Ÿè¿™æ ·å­ä½¿ç”¨çš„è¯ä¸å°±å›åˆ°æœ€æœ€æœ€å¼€å§‹çš„æ—¶å€™é‚£ç§åŸå§‹çš„npm run helloä¸€æ ·ä¹ˆã€‚ æ˜¯çš„ï¼Œä½†æ˜¯æœ‰è´¨çš„åŒºåˆ«ã€‚ä½¿ç”¨node index.jsè¿™ç§æ–¹å¼è°ƒç”¨çš„è¯å›ºç„¶ç®€å•çµæ´»ï¼Œä½†æ˜¯ä¸¥é‡ä¾èµ–è„šæœ¬è·¯å¾„ï¼Œä¸€æ—¦ç›®å½•ç»“æ„å‘ç”Ÿå˜åŠ¨ï¼Œå†™åœ¨scriptsçš„å‘½ä»¤å°±è¦æ›´æ”¹ä¸€æ¬¡ï¼›ä½†æ˜¯ä½¿ç”¨npmå®‰è£…ä¹‹åï¼Œæœ¬åœ°çš„cliè„šæœ¬å°±è¢«æ‹‰åˆ°node_modulesé‡Œé¢ï¼Œç›®å½•ç»“æ„å˜åŠ¨å¯¹å…¶å½±å“ä¸å¤§ã€‚å…¶æ¬¡æ˜¯ä¸åˆ©äºåˆ†äº«ä¸å‘å¸ƒï¼Œå¦‚æœä½ æƒ³æŠŠä½ çš„cliè„šæœ¬å‘å¸ƒå‡ºå»ï¼Œé‚£ä¹ˆæœ‰ä¸€ä¸ªå¥½å¬å“äº®çš„åå­—ï¼Œæ¯”èµ·åœ¨è¯´æ˜æ–‡æ¡£é‡Œé¢å‘Šè¯‰ä½¿ç”¨è€…å¦‚ä½•æ‰¾åˆ°ä½ çš„è„šæœ¬è·¯å¾„å†ç”¨nodeæ‰§è¡Œå®ƒï¼Œç®€ç›´å¥½ä¸Šé‚£ä¹ˆä¸€ä¸‡å€ä¸æ˜¯ä¹ˆï¼Ÿ è¿™é‡Œä¹Ÿç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªcliå¼€å‘æµç¨‹æ€è·¯ï¼š åˆæœŸå¼€å‘å¯ä»¥é€šè¿‡node index.jsæ¥çœ‹æ•ˆæœã€‚ æµ‹è¯•çš„æ—¶å€™å¯ä»¥é€šè¿‡npm linkçš„æ–¹å¼è¿›è¡Œå®‰è£…æµ‹è¯•ã€‚ å‘å¸ƒ 0x3 å‚æ•°è¯»å–:process.argv åå­—æœ‰äº†ï¼Œè¾“å‡ºä¹Ÿæœ‰äº†ï¼Œçœ‹çœ‹æˆ‘ä»¬è·Ÿé‚£äº›å¤§åé¼é¼çš„cliå·¥å…·ï¼Œåœ¨å½¢å¼ä¸Šè¿˜å·®ç‚¹å•¥ï¼Ÿå¯¹äº†ï¼Œäººå®¶å¯ä»¥æ”¯æŒä¸åŒå‚æ•°é€‰é¡¹çš„ï¼Œè¿˜å¯ä»¥æ ¹æ®è¾“å…¥çš„ä¸åŒï¼Œäº§ç”Ÿä¸åŒçš„ç»“æœã€‚ è¿™æ ·å§ï¼Œæˆ‘ä»¬ç»™è¿™ä¸ªcliåŠ ä¸€ä¸ªåŠŸèƒ½ï¼Œæ—¢ç„¶å«hello-cliï¼Œé‚£ä¸èƒ½åªä¼šhello worldå§ï¼Œå¿…é¡»è¦è§è°å°±è¯´helloæ‰è¡Œï¼š &gt; hello-cli older &gt; è¾“å‡º &gt; hello older è™½ç„¶è¿™ä¸ªåŠŸèƒ½å¾ˆç®€å•ï¼Œä½†æ˜¯è‡³å°‘ä¹Ÿæ˜¯å®ç°äº†â€œæ ¹æ®è¾“å…¥çš„ä¸åŒï¼Œäº§ç”Ÿä¸åŒç»“æœâ€çš„æ•ˆæœã€‚ å‘½ä»¤è¡Œä¸Šçš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡processè¿™ä¸ªå˜é‡è·å–ï¼Œprocessæ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ªåŒ…ï¼Œä¸éœ€è¦é€šè¿‡requireå¼•å…¥ã€‚é€šè¿‡processè¿™ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥æ‹¿åˆ°å½“å‰è„šæœ¬æ‰§è¡Œç¯å¢ƒç­‰ä¸€ç³»åˆ—ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬å‘½ä»¤è¡Œçš„è¾“å…¥æƒ…å†µï¼Œè¿™ä¸ªä¿¡æ¯ï¼Œä¿å­˜åœ¨process.argvè¿™ä¸ªå±æ€§é‡Œã€‚æˆ‘ä»¬å¯ä»¥æ‰“å°ä¸€ä¸‹ï¼š //index.js console.log(process.argv); argvæ˜¯ä¸ªæ•°ç»„ï¼Œå‰ä¸¤ä½æ˜¯å›ºå®šçš„ï¼Œåˆ†åˆ«æ˜¯nodeç¨‹åºçš„è·¯å¾„å’Œè„šæœ¬å­˜æ”¾çš„ä½ç½®ï¼Œä»ç¬¬ä¸‰ä½å¼€å§‹æ‰æ˜¯é¢å¤–è¾“å…¥çš„å†…å®¹ã€‚é‚£ä¹ˆå®ç°ä¸Šé¢çš„åŠŸèƒ½å°±å¾ˆç®€å•äº†ï¼Œåªè¦è¯»å–argvæ•°ç»„çš„ç¬¬ä¸‰ä½ï¼Œç„¶åè¾“å‡ºå‡ºæ¥å°±å¯ä»¥äº†ã€‚ //index.js console.log(`hello ${process.argv[2]||'world'}`) npmç¤¾åŒºä¸­ä¹Ÿæœ‰ä¸€äº›ä¼˜ç§€çš„å‘½ä»¤è¡Œå‚æ•°è§£æåŒ…ï¼Œæ¯”å¦‚yargs,tjçš„commander.jsç­‰ç­‰ å¦‚æœä½ æƒ³ä½¿ç”¨æ¯”è¾ƒå¤æ‚çš„å‚æ•°æˆ–è€…å‘½ä»¤ï¼Œå»ºè®®è¿˜æ˜¯ç”¨ç¬¬ä¸‰æ–¹åŒ…æ¯”è¾ƒå¥½ï¼Œæ‰‹å†™è§£æå¤ªè€—ç²¾åŠ›äº†ã€‚ 0x4 å­è¿›ç¨‹ ç°åœ¨ï¼Œä½ å¯ä»¥è‡ªç”±è‡ªåœ¨çš„å†™ä½ è‡ªå·±çš„cliè„šæœ¬äº†ã€‚ å¦‚æœä½ å¸Œæœ›å†™ä¸€ä¸ªé¡¹ç›®æ‰“å®ŒåŒ…è‡ªåŠ¨æ¨ä¸Šgitçš„cliï¼Œæˆ–è€…è‡ªåŠ¨ä»gitä»“åº“é‡Œé¢æ‹‰å–é¡¹ç›®å¯åŠ¨æ¨¡æ¿ï¼Œé‚£ä¹ˆï¼Œä½ éœ€è¦é€šè¿‡nodeçš„child_processæ¨¡å—å¼€å¯å­è¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹å†…è°ƒç”¨gitå‘½ä»¤ï¼š //test.js const child_process = require('child_process'); let subProcess=child_process.exec(&quot;git version&quot;,function(err,stdout){ if(err)console.log(err); console.log(stdout); subProcess.kill() }); ä¸ä»…æ˜¯gitå‘½ä»¤ï¼ŒåŒ…æ‹¬ç³»ç»Ÿå‘½ä»¤ã€å…¶ä»–cliå‘½ä»¤éƒ½å¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œã€‚ç‰¹åˆ«æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œä½¿ç”¨ç³»ç»Ÿå‘½ä»¤å¯¹æ–‡ä»¶ç›®å½•è¿›è¡Œæ“ä½œï¼Œæ•ˆç‡æ¯”fsé«˜åˆ°ä¸çŸ¥é“å“ªé‡Œå»äº†ã€‚ ç¤¾åŒºä¸Šä¹Ÿæœ‰ä¸€äº›ä¸é”™çš„åŒ…ï¼Œæ¯”å¦‚é˜®ä¸€å³°è€å¸ˆæ¨èçš„shelljs 0x5 ç¾åŒ–è¾“å‡º å¦‚æœä½ ä¸é‚£ä¹ˆå¸Œæœ›ä½ çš„cliç”¨èµ·æ¥é‚£ä¹ˆâ€œç¡¬æ ¸â€ï¼Œå¸Œæœ›æ›´äººæ€§åŒ–ä¸€ç‚¹ï¼Œæ¯”å¦‚æä¾›ä¸€äº›å‹å¥½çš„è¾“å…¥ã€æç¤ºå•Šï¼Œç»™ä½ çš„è¾“å‡ºåŠ ç‚¹é¢œè‰²åŒºåˆ†é‡ç‚¹å•Šï¼Œå†™ä¸ªç®€å•çš„è¿›åº¦æ¡å•Šç­‰ç­‰ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦ç¾åŒ–ä¸€ä¸‹ä½ çš„è¾“å‡ºäº†ã€‚ é™¤äº†é¢œè‰²è¿™éƒ¨åˆ†ï¼Œä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…å®ç°èµ·æ¥éå¸¸ç¹çå¤æ‚ï¼Œå…¶ä»–çš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥è¯•è¯•è‡ªå·±å†™ã€‚ é¢œè‰²éƒ¨åˆ†ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹åŒ…colorsï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚ å…¶ä»–éƒ½æ˜¯ç”±nodejsè‡ªå¸¦çš„readlineæ¨¡å—å®ç°çš„ã€‚ //index.js const readline = require('readline'); const unloadChar='-'; const loadedChar='='; const rl=readline.createInterface({ input: process.stdin, output: process.stdout }); rl.question('ä½ æƒ³å¯¹è°è¯´å£°helloï¼Ÿ ',answer=&gt;{ let i = 0; let time = setInterval(()=&gt;{ if(i&gt;10){ clearInterval(time); readline.cursorTo(process.stdout, 0, 0); readline.clearScreenDown(process.stdout); console.log(`hello ${answer}`); process.exit(0) return } readline.cursorTo(process.stdout,0,1); readline.clearScreenDown(process.stdout); renderProgress('saying hello',i); i++ },200); }); function renderProgress(text,step){ const PERCENT = Math.round(step*10); const COUNT = 2; const unloadStr = new Array(COUNT*(10-step)).fill(unloadChar).join(''); const loadedStr = new Array(COUNT*(step)).fill(loadedChar).join(''); process.stdout.write(`${text}:ã€${loadedStr}${unloadStr}|${PERCENT}%ã€‘`) } 1. å…ˆï¼Œé€šè¿‡readline.createInterfaceæ–¹æ³•åˆ›å»ºä¸€ä¸ªinterfaceç±»ï¼Œè¿™ä¸ªç±»ä¸‹é¢æœ‰ä¸€ä¸ªæ–¹æ³•.questionï¼Œç”¨è¿™ä¸ªæ–¹æ³•åœ¨å‘½ä»¤è¡Œä¸ŠæŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ä¸€ä¸ªå‡½æ•°è¿›è¡Œç›‘å¬ã€‚ä¸€æ—¦ç”¨æˆ·è¾“å…¥å®Œæ¯•æ•²ä¸‹å›è½¦ï¼Œå°±ä¼šè§¦å‘å›è°ƒå‡½æ•°ã€‚ 2. ç„¶åæˆ‘ä»¬åœ¨å›è°ƒå‡½æ•°é‡Œé¢å†™äº†ä¸ªè®¡æ—¶å™¨ï¼Œå‡è£…æˆ‘ä»¬åœ¨å¤„ç†æŸäº›äº‹åŠ¡ã€‚ 3. ä½¿ç”¨readline.cursorToè¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ”¹å˜å‘½ä»¤è¡Œä¸Šçš„å…‰æ ‡çš„ä½ç½®ã€‚readline.cursorTo(process.stdout, 0, 0);æ˜¯ç§»åŠ¨åˆ°ç¬¬1åˆ—ç¬¬1è¡Œä¸Šï¼Œreadline.cursorTo(process.stdout, 0, 1);æ˜¯ç§»åŠ¨åˆ°ç¬¬1åˆ—ç¬¬2è¡Œä¸Šã€‚ 4. ä½¿ç”¨readline.clearScreenDownè¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯è®©å‘½ä»¤è¡Œä»å½“å‰è¡Œå¼€å§‹ï¼Œåˆ°æœ€åä¸€è¡Œç»“æŸï¼Œå°†è¿™ä¸¤è¡Œä¹‹é—´æ‰€æœ‰å†…å®¹æ¸…é™¤ã€‚ 5. renderProgressæ˜¯è‡ªå·±å°è£…çš„ä¸€ä¸ªæ–¹æ³•ï¼Œé€šè¿‡process.stdout.writeæ–¹æ³•è¾“å‡ºä¸€è¡Œçœ‹èµ·æ¥åƒæ˜¯è¿›åº¦æ¡çš„å­—ç¬¦ä¸²åˆ°å‘½ä»¤è¡Œä¸Šã€‚æ‰€ä»¥åœ¨è®¡æ—¶å™¨é‡Œé¢ï¼Œå½“è®¡æ•°å°äº10çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®©å…‰æ ‡ç§»åˆ°ç¬¬ä¸€è¡Œä¸Šï¼Œç„¶åæ¸…é™¤æ‰€æœ‰è¾“å‡ºï¼Œè¾“å‡ºè¿›åº¦æ¡å­—ç¬¦ä¸²ï¼›å½“è®¡æ•°å¤§äº10çš„æ—¶å€™ï¼Œæˆ‘ä»¬å…³æ‰è®¡æ—¶å™¨ï¼Œæ¸…é™¤è¾“å‡ºï¼Œæ‰“å°ç»“æœã€‚ 6. æœ€åä¸è¦å¿˜è®°å…³æ‰è¿›ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨interfaceè¿™ä¸ªç±»çš„.closeæ–¹æ³•å…³æ‰readlineè¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨process.exité€€å‡ºã€‚ ç»˜åˆ¶çš„æ€è·¯è·Ÿcanvasç»˜åˆ¶åŠ¨ç”»ä¸€æ ·ï¼Œåªä¸è¿‡canvasæ˜¯æ¸…é™¤ç”»å¸ƒï¼Œè€Œå‘½ä»¤è¡Œè¿™é‡Œæ˜¯é€šè¿‡readline.clearScreenDownæ¸…é™¤è¾“å‡ºã€‚ è¿™æ ·ï¼Œä¸€ä¸ªç®€æ˜“çš„ï¼Œäººæ€§åŒ–çš„ï¼Œå¸¦ç‚¹ç‚¹è¿›åº¦æ¡åŠ¨ç”»çš„å‘½ä»¤è¡Œcliå·¥å…·å°±å†™å¥½äº†ï¼Œä½ ä¹Ÿå¯ä»¥å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼Œå»å†™ä¸€äº›æ›´æœ‰è¶£çš„æ•ˆæœå‡ºæ¥ã€‚ æ¯•ç«Ÿæˆ‘ä»¬å‰ç«¯ï¼Œæœ‰æµè§ˆå™¨æˆ‘ä»¬å¯ä»¥å†™åŠ¨ç”»ï¼Œæ²¡äº†æµè§ˆå™¨æˆ‘ä»¬ä¸€æ ·å¯ä»¥å†™åŠ¨ç”»ã€‚ 0x6 å‚è€ƒ http://www.ruanyifeng.com/blog/2015/05/command-line-with-node.html http://nodejs.cn/api/readline.html https://github.com/Marak/colors.js https://github.com/shelljs/shelljs é“¾æ¥ï¼šhttps://www.jianshu.com/p/095c968d406f ä½œè€…ï¼šCharTen æ¥æºï¼šç®€ä¹¦ ","link":"https://lingtin.github.io/post/dMvRzXo3O/"},{"title":"PowerShellå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸­ç¦æ­¢æ‰§è¡Œè„šæœ¬è§£å†³æ–¹æ³•","content":"åœ¨Powershellç›´æ¥è„šæœ¬æ—¶ä¼šå‡ºç°ï¼š æ— æ³•åŠ è½½æ–‡ä»¶ ******.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸­ç¦æ­¢æ‰§è¡Œè„šæœ¬ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… &quot;get-help about_signing&quot;ã€‚ æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 17 + E:\\Test\\test.ps1 &lt;&lt;&lt;&lt; + CategoryInfo : NotSpecified: (:) [], PSSecurityException + FullyQualifiedErrorId : RuntimeException æŸ¥çœ‹â€œget-help about_signingâ€: ç®€çŸ­è¯´æ˜ è¯´æ˜å¦‚ä½•å¯¹è„šæœ¬è¿›è¡Œç­¾åä»¥ä½¿å…¶ç¬¦åˆ Windows PowerShell æ‰§è¡Œç­–ç•¥ã€‚ è¯¦ç»†è¯´æ˜ Restricted æ‰§è¡Œç­–ç•¥ä¸å…è®¸ä»»ä½•è„šæœ¬è¿è¡Œã€‚ AllSigned å’Œ RemoteSigned æ‰§è¡Œç­–ç•¥å¯é˜²æ­¢ Windows PowerShell è¿è¡Œæ²¡æœ‰æ•°å­—ç­¾åçš„è„šæœ¬ã€‚ æœ¬ä¸»é¢˜è¯´æ˜å¦‚ä½•è¿è¡Œæ‰€é€‰æœªç­¾åè„šæœ¬ï¼ˆå³ä½¿åœ¨æ‰§è¡Œç­–ç•¥ä¸º RemoteSigned çš„æƒ…å†µä¸‹ï¼‰ï¼Œè¿˜è¯´æ˜å¦‚ä½•å¯¹ è„šæœ¬è¿›è¡Œç­¾åä»¥ä¾¿æ‚¨è‡ªå·±ä½¿ç”¨ã€‚ æœ‰å…³ Windows PowerShell æ‰§è¡Œç­–ç•¥çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… about_Execution_Policyã€‚ å…è®¸è¿è¡Œç­¾åè„šæœ¬ é¦–æ¬¡åœ¨è®¡ç®—æœºä¸Šå¯åŠ¨ Windows PowerShell æ—¶ï¼Œç°ç”¨æ‰§è¡Œç­–ç•¥å¾ˆå¯èƒ½æ˜¯ Restrictedï¼ˆé»˜è®¤è®¾ç½®ï¼‰ã€‚ Restricted ç­–ç•¥ä¸å…è®¸ä»»ä½•è„šæœ¬è¿è¡Œã€‚ è‹¥è¦äº†è§£è®¡ç®—æœºä¸Šçš„ç°ç”¨æ‰§è¡Œç­–ç•¥ï¼Œè¯·é”®å…¥ï¼š get-executionpolicy **è‹¥è¦åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œæ‚¨ç¼–å†™çš„æœªç­¾åè„šæœ¬å’Œæ¥è‡ªå…¶ä»–ç”¨æˆ·çš„ç­¾åè„šæœ¬ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†è®¡ç®—æœºä¸Šçš„ æ‰§è¡Œç­–ç•¥æ›´æ”¹ä¸º RemoteSignedï¼š** set-executionpolicy remotesigned æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Set-ExecutionPolicyã€‚ æ‰§è¡Œâ€œset-ExecutionPolicy RemoteSigned â€ï¼š æ‰§è¡Œç­–ç•¥æ›´æ”¹ æ‰§è¡Œç­–ç•¥å¯ä»¥é˜²æ­¢æ‚¨æ‰§è¡Œä¸ä¿¡ä»»çš„è„šæœ¬ã€‚æ›´æ”¹æ‰§è¡Œç­–ç•¥å¯èƒ½ä¼šä½¿æ‚¨é¢ä¸´about_Execution_Policies å¸®åŠ©ä¸»é¢˜ä¸­æ‰€è¿°çš„å®‰å…¨é£é™©ã€‚æ˜¯å¦è¦æ›´æ”¹æ‰§è¡Œç­–ç•¥? [Y] æ˜¯(Y) [N] å¦(N) [S] æŒ‚èµ·(S) [?] å¸®åŠ© (é»˜è®¤å€¼ä¸ºâ€œYâ€): y ","link":"https://lingtin.github.io/post/SAWHkI2RW/"},{"title":"ç§»åŠ¨ç«¯cssï¼Œremå¸ƒå±€æ–¹æ¡ˆ","content":"è§„èŒƒåªåˆ—ä¸¾äº†remå¸ƒå±€è¿™ä¸€ç§é€‚é…æ–¹å¼ï¼Œä½†ä¸æ˜¯è¯´é™åˆ¶åªèƒ½ç”¨è¿™ç§å¸ƒå±€æ–¹å¼ã€‚ æ— è®ºç”¨ä½•ç§æ–¹å¼ï¼Œéœ€è¦ä¿è¯åœ¨ä¸åŒæ¯”ä¾‹ã€ä¸åŒå°ºå¯¸çš„æ‰‹æœºä¸Šï¼Œæµ‹è¯•å¾®ä¿¡ã€æ‰‹Qã€safariã€UCç­‰ä¸»æµæµè§ˆå™¨æ— æ˜æ˜¾é”™ä½ã€å˜å½¢ã€‚ viewport &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot;&gt; åˆå§‹å­—å· cssä¸­è®¾å®šhtmlæ ¹å…ƒç´ çš„åˆå§‹å­—ä½“å¤§å°ä¸º100px html{font-size:100px;} å•ä½è½¬æ¢ ä¸ç®¡ä½ æ‹¿åˆ°çš„è®¾è®¡ç¨¿å®½åº¦æ˜¯640pxè¿˜æ˜¯750pxï¼Œå¤šå¤§éƒ½ä¸€æ ·ã€‚å’Œæˆ‘ä»¬å¹³æ—¶åšPCé¡µé¢çš„åšæ³•åŸºæœ¬ä¸€æ ·ï¼Œåªéœ€è¦æŠŠå•ä½pxæ¢ç®—æˆremï¼Œæ‰€æœ‰è®¾è®¡ç¨¿çš„çš„å…ƒç´ å¤§å°å…¨é™¤ä»¥100å•ä½æ¢æˆremï¼Œä¾‹å¦‚è®¾è®¡ç¨¿ä¸Šä¸ªæŸä¸ªæ–‡å­—çš„å¤§å°ä¸º30pxï¼Œç›´æ¥å†™font-size:0.3remã€‚ ç¤ºä¾‹ä»£ç  ç”¨ onorientationchange å‡½æ•°æ¥æ£€æµ‹å±å¹•æ—‹è½¬ï¼Œåœ¨ä¸€äº›APPæˆ–æ¸¸æˆå†…åµŒé¡µé¢ä¼šæœ‰è¯¥å‡½æ•°ä¸ä¼šæ‰§è¡Œã€orientationè·å–ä¸åˆ°çš„æƒ…å†µã€‚æ‰€ä»¥å¦‚æœæ˜¯æ¸¸æˆappå†…åµŒé¡µå»ºè®®ä½¿ç”¨ resize äº‹ä»¶ï¼Œæ£€æŸ¥å®½é«˜å˜åŒ–æ¥æ£€æµ‹å±å¹•æ˜¯å¦æ—‹è½¬ã€‚ &lt;script&gt; //å±å¹•é€‚åº” (function (win, doc) { if (!win.addEventListener) return; var html = document.documentElement; function setFont() { var html = document.documentElement; var k = 640; html.style.fontSize = html.clientWidth / k * 100 + &quot;px&quot;; } setFont(); setTimeout(function () { setFont(); }, 300); doc.addEventListener('DOMContentLoaded', setFont, false); win.addEventListener('resize', setFont, false); win.addEventListener('load', setFont, false); })(window, document); &lt;/script&gt; æ³¨æ„äº‹é¡¹ ä½¿ç”¨remæ–¹å¼å¸ƒå±€æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š é¡µé¢ç”¨ä¸åŒå°ºå¯¸çš„æ‰‹æœºè¿›è¡Œæµ‹è¯• å› ä¸ºå°äº1pxæµè§ˆå™¨æ”¯æŒä¸å¤Ÿå¥½ä¸ºä¼šå¯¼è‡´è®¡ç®—ä¼šæœ‰è¯¯å·®ï¼ŒèƒŒæ™¯å›¾ä½¿ç”¨é›ªç¢§å›¾æ—¶ï¼Œå›¾æ ‡ä¹‹é—´å¤šç•™5pxçš„ç©ºéš™ï¼ŒåŒæ—¶å›¾ç‰‡çš„backgrornd-sizeå±æ€§æœ€å¥½å†™ä¸Šå›¾ç‰‡çš„å®½é«˜ï¼Œä¸å†™è¯¯å·®æ›´å¤§ã€‚ é›ªç¢§å›¾ï¼Œå¦‚å›¾ç‰‡å®½é«˜ä¸º346px*160pxéœ€è¦è®¾ç½®background-sizeå±æ€§è®¾ç½®ä¸ºbackground-size: 3.46rem 1.6rem; å¤§å°ä¸º1pxçš„å…ƒç´ ä¸è¦ä½¿ç”¨remï¼Œç›´æ¥ç”¨px å¤šæ å¤šåˆ—å¸ƒå±€ä¼˜å…ˆä½¿ç”¨ç™¾åˆ†æ¯”%æˆ–æ˜¯display:flex ","link":"https://lingtin.github.io/post/IHuGtVGXh/"},{"title":"Javascriptä½¿ç”¨blobæ¥æ”¶ã€ä¸‹è½½æ–‡ä»¶","content":"æˆ‘ä»¬çŸ¥é“ï¼Œä¸‹è½½æ–‡ä»¶æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„éœ€æ±‚ï¼Œä½†ç”±äºæµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥çš„é™åˆ¶ï¼Œæˆ‘ä»¬é€šå¸¸åªèƒ½é€šè¿‡ä¸€ä¸ªé¢å¤–çš„é¡µé¢ï¼Œè®¿é—®æŸä¸ªæ–‡ä»¶çš„ url æ¥å®ç°ä¸‹è½½åŠŸèƒ½ï¼Œä½†æ˜¯è¿™ç§ç”¨æˆ·ä½“éªŒéå¸¸ä¸å¥½ã€‚ å¹¸å¥½ï¼ŒHTML 5 é‡Œé¢ä¸º &lt;a&gt; æ ‡ç­¾æ·»åŠ äº†ä¸€ä¸ª download çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“çš„åˆ©ç”¨å®ƒæ¥å®ç°ä¸‹è½½åŠŸèƒ½ï¼Œå†ä¹Ÿä¸éœ€è¦ç”¨ä»¥å‰çš„ç¬¨åŠæ³•äº†ã€‚ åŸç† æˆ‘ä»¬å…ˆçœ‹çœ‹ download çš„ä½¿ç”¨æ–¹æ³•ï¼š &lt;a href=&quot;http://somehost/somefile.zip&quot; download=&quot;filename.zip&quot;&gt;Download file&lt;/a&gt; çœ‹çœ‹ä¸Šé¢çš„ä»£ç ï¼Œåªè¦ä¸º &lt;a&gt; æ ‡ç­¾æ·»åŠ  download å±æ€§ï¼Œæˆ‘ä»¬ç‚¹å‡»è¿™ä¸ªé“¾æ¥çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ä¸‹è½½æ–‡ä»¶äº†~ é¡ºä¾¿è¯´ä¸‹ï¼Œdownload çš„å±æ€§å€¼æ˜¯å¯é€‰çš„ï¼Œå®ƒç”¨æ¥æŒ‡å®šä¸‹è½½æ–‡ä»¶çš„æ–‡ä»¶åã€‚åƒä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸‹è½½åˆ°æœ¬åœ°çš„æ–‡ä»¶åå°±ä¼šæ˜¯ filename.zip æ‹‰ï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œå®ƒå°±ä¼šæ˜¯ somefile.zip è¿™ä¸ªåå­—æ‹‰ï¼ çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œå‘çˆ¹å•Šï¼Œè¿™æ˜æ˜æ˜¯ç”¨ HTML 5 çš„æ–°ç‰¹æ€§æ¥å®ç°ä¸‹è½½æ–‡ä»¶å˜›ï¼Œè¯´å¥½çš„ç”¨ JavaScript ä¸‹è½½æ–‡ä»¶å‘¢ï¼Ÿ äº‹å®ä¸Šï¼Œç”¨ JavaScript æ¥ä¸‹è½½æ–‡ä»¶ä¹Ÿæ˜¯åˆ©ç”¨è¿™ä¸€ç‰¹æ€§æ¥å®ç°çš„ï¼Œæˆ‘ä»¬çš„ JavaScript ä»£ç ä¸å¤–ä¹å°±æ˜¯ï¼š ç”¨ JavaScript åˆ›å»ºä¸€ä¸ªéšè—çš„ &lt;a&gt; æ ‡ç­¾ è®¾ç½®å®ƒçš„ href å±æ€§ è®¾ç½®å®ƒçš„ download å±æ€§ ç”¨ JavaScript æ¥è§¦å‘è¿™ä¸ªå®ƒçš„ click äº‹ä»¶ ç¿»è¯‘æˆ JavaScript ä»£ç å°±æ˜¯ï¼š var a = document.createElement('a'); var url = window.URL.createObjectURL(blob); var filename = 'what-you-want.txt'; a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url); å¥½æ‹‰ï¼Œæ˜¯ä¸æ˜¯çœ‹åˆ°æœ‰ä¸ªé™Œç”Ÿçš„ä¸œä¸œå‘¢ï¼Ÿ window.URL window.URL é‡Œé¢æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š createObjectURL ç”¨ blob å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ª object URL(å®ƒæ˜¯ä¸€ä¸ª DOMString)ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ª object URL æ¥è¡¨ç¤ºæŸä¸ª blob å¯¹è±¡ï¼Œè¿™ä¸ª object URL å¯ä»¥ç”¨åœ¨ href å’Œ src ä¹‹ç±»çš„å±æ€§ä¸Šã€‚ revokeObjectURL é‡Šæ”¾ç”± createObjectURL åˆ›å»ºçš„ object URLï¼Œå½“è¯¥ object URL ä¸éœ€è¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦ä¸»åŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥è·å–æœ€ä½³æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ã€‚ çŸ¥é“äº†è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬å†å›å»çœ‹çœ‹ä¸Šé¢çš„ä¾‹å­å°±å¾ˆå®¹æ˜“ç†è§£äº†å§ï¼åªæ˜¯ç”¨ blob å¯¹è±¡æ¥åˆ›å»ºä¸€æ¡ URLï¼Œç„¶åè®© &lt;a&gt; æ ‡ç­¾å¼•ç”¨è¯¥ URLï¼Œç„¶åè§¦å‘ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œå°±å¯ä»¥ä¸‹è½½æ–‡ä»¶äº†ï¼ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œblob å¯¹è±¡å“ªé‡Œæ¥ï¼Ÿ Blob å¯¹è±¡ Blob å…¨ç§°æ˜¯ Binary large objectï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªç±»æ–‡ä»¶å¯¹è±¡ï¼Œå¯ä»¥ç”¨å®ƒæ¥è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ã€‚æ ¹æ® MDN ä¸Šé¢çš„è¯´æ³•ï¼ŒFile API ä¹Ÿæ˜¯åŸºäº blob æ¥å®ç°çš„ã€‚ ç”±äºæœ¬æ–‡çš„ä¸»é¢˜æ˜¯è®² JavaScript ä¸‹è½½æ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬æ„å»º blob çš„æ–¹å¼å°±æ˜¯é€šè¿‡æœåŠ¡å™¨è¿”å›çš„æ–‡ä»¶æ¥åˆ›å»º blob æ‹‰ï¼ è€Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç”¨ fetch API äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ•´åˆä¸Šé¢çš„ä¾‹å­ï¼š fetch('http://somehost/somefile.zip').then(res =&gt; res.blob().then(blob =&gt; { var a = document.createElement('a'); var url = window.URL.createObjectURL(blob); var filename = 'myfile.zip'; a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url); })) å¾ˆç®€å•å¯¹å§ï¼ ä½ å¯èƒ½ä¼šé—®ï¼Œä½•å¿…è¿™ä¹ˆéº»çƒ¦å‘¢ï¼Ÿç›´æ¥å†™æˆä¸‹é¢è¿™æ ·ä¸å°±å¥½äº†ï¼š &lt;a href=&quot;http://somehost/somefile.zip&quot; download=&quot;myfile.zip&quot;&gt;Download file&lt;/a&gt; å—¯ï¼Œå¯¹äºè¿™ç§å†™æ³•ï¼Œæˆ‘åªèƒ½è¯´ï¼Œä½ åšçš„å¤ªæ­£ç¡®äº†ï¼å¦‚æœä½ è¦ä¸‹è½½çš„æ˜¯å·²ç»å­˜åœ¨æœåŠ¡å™¨ä¸Šé¢çš„é™æ€æ–‡ä»¶çš„è¯ï¼Œé‚£ä¹ˆå†™æˆè¿™æ ·æ˜¯æœ€æ–¹ä¾¿çš„ã€‚æµè§ˆå™¨ä¼šå¸®ä½ å¤„ç†æ•´ä¸ªä¸‹è½½è¿‡ç¨‹ï¼Œä¸éœ€è¦ä½ å¹²æ¶‰ã€‚å¦‚æœä½ ç”¨ blob çš„æ–¹å¼æ¥ä¸‹è½½æ–‡ä»¶çš„è¯ï¼Œä¼šæœ‰ä¸‹é¢è¿™äº›é™åˆ¶çš„ï¼š é™åˆ¶ä¸€ï¼šä¸åŒæµè§ˆå™¨å¯¹ blob å¯¹è±¡æœ‰ä¸åŒçš„é™åˆ¶ å…·ä½“çœ‹çœ‹ä¸‹é¢è¿™ä¸ªè¡¨æ ¼ï¼ˆå‡ºè‡ª FileSaver.jsï¼‰ï¼š Browser Constructs as Filenames Max Blob Size Dependencies Firefox 20+ Blob Yes 800 MiB None Firefox &lt; 20 data: URI No n/a Blob.js Chrome Blob Yes 500 MiB None Chrome for Android Blob Yes 500 MiB None Edge Blob Yes ? None IE 10+ Blob Yes 600 MiB None Opera 15+ Blob Yes 500 MiB None Opera &lt; 15 data: URI No n/a Blob.js Safari 6.1+* Blob No ? None Safari &lt; 6 data: URI No n/a Blob.js é™åˆ¶äºŒï¼šæ„å»ºå®Œ blob å¯¹è±¡åæ‰ä¼šè½¬æ¢æˆæ–‡ä»¶ è¿™ä¸€ç‚¹é™åˆ¶å¯¹å°æ–‡ä»¶(å‡ åkb)å¯èƒ½æ²¡ä»€ä¹ˆå½±å“ï¼Œä½†å¯¹ç¨å¾®å¤§ä¸€ç‚¹çš„æ–‡ä»¶å½±å“å°±å¾ˆå¤§äº†ã€‚è¯•æƒ³ï¼Œç”¨æˆ·è¦ä¸‹è½½ä¸€ä¸ª 100mb çš„æ–‡ä»¶ï¼Œå¦‚æœä»–ç‚¹å‡»äº†ä¸‹è½½æŒ‰é’®ä¹‹åæ²¡çœ‹åˆ°ä¸‹è½½æç¤ºçš„è¯ï¼Œä»–è‚¯å®šä¼šç»§ç»­æŒ‰ï¼Œç­‰ä»–æŒ‰äº†å‡ æ¬¡ä¹‹åè¿˜æ²¡çœ‹åˆ°ä¸‹è½½æç¤ºæ—¶ï¼Œä»–å°±ä¼šæŠ±æ€¨æˆ‘ä»¬çš„ç½‘ç«™ï¼Œç„¶åç¦»å¼€äº†ã€‚ ç„¶è€Œäº‹å®ä¸Šä¸‹è½½çš„çš„ç¡®ç¡®å‘ç”Ÿäº†ï¼Œåªæ˜¯è¦ç­‰åˆ°ä¸‹è½½å®Œæ–‡ä»¶ä¹‹åæ‰èƒ½æ„å»º blob å¯¹è±¡ï¼Œå†è½¬åŒ–æˆæ–‡ä»¶ã€‚è€Œä¸”ï¼Œç”¨æˆ·å†è§¦å‘å¤šå‡ æ¬¡ä¸‹è½½å°±ä¼šé€ æˆä¸€äº›èµ„æºä¸Šçš„æµªè´¹ã€‚ å› æ­¤ï¼Œå¦‚æœæ˜¯è¦ä¸‹è½½å¤§æ–‡ä»¶çš„è¯ï¼Œè¿˜æ˜¯æ¨èç›´æ¥åˆ›å»ºä¸€ä¸ª &lt;a&gt;æ ‡ç­¾æ‹‰~ å†™ html ä¹Ÿå¥½ï¼Œå†™ JavaScript åŠ¨æ€åˆ›å»ºä¹Ÿå¥½ï¼Œç”¨è‡ªå·±å–œæ¬¢çš„æ–¹å¼å»åˆ›å»ºå°±å¥½äº†ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ JavaScript ä¸‹è½½æ–‡ä»¶. å¥½æ‹‰ï¼Œè¯´äº†åŠå¤©ï¼Œå…¶å®æˆ‘ä»¬ä¸€ç›´è¯´çš„éƒ½æ˜¯ï¼šã€Œä¸è¦ç”¨ JavaScript ä¸‹è½½æ–‡ä»¶æ‹‰ï¼Œé™åˆ¶å¤šå¤šï¼Œåˆä¸å¥½ç”¨ï¼Œç›´æ¥ç”¨ html å°±å¥½æ‹‰ï¼Œç®€å•æ–¹ä¾¿åˆå¿«æ·ã€è¿™ä¸ªè®ºè°ƒã€‚ äº‹å®ä¸Šä¹Ÿç¡®å®å¦‚æ­¤ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬ç¡®å®éœ€è¦é€šè¿‡ JavaScript æ¥åšä¸€äº›é¢„å¤„ç†ã€‚ æƒé™æ ¡éªŒ æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸‹è½½åšä¸€äº›é™åˆ¶ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æƒé™æ ¡éªŒäº†ï¼Œå¦‚æ£€æŸ¥è¯¥ç”¨æˆ·æ˜¯å¦æœ‰ä¸‹è½½çš„æƒé™ï¼Œæ˜¯å¦æœ‰é«˜é€Ÿä¸‹è½½çš„æƒé™ç­‰ç­‰ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ JavaScript åšä¸€äº›é¢„å¤„ç†ã€‚å¦‚ï¼š fetch('http://somehost/check-permission', options).then(res =&gt; { if (res.code === 0) { var a = document.createElement('a'); var url = res.data.url; var filename = 'myfile.zip'; a.href = url; a.download = filename; a.click(); } else { alert('You have no permission to download the file!'); } }); åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œæˆ‘ä»¬æ²¡æœ‰ç”¨ blob æ¥æ„å»º URLï¼Œè€Œæ˜¯é€šè¿‡åç«¯æœåŠ¡å™¨æ¥è®¡ç®—å‡ºç”¨æˆ·çš„ä¸‹è½½é“¾æ¥ï¼Œç„¶åå†åˆ©ç”¨ä¹‹å‰æåˆ°çš„åŠ¨æ€åˆ›å»º &lt;a&gt; æ ‡ç­¾çš„æ–¹å¼æ¥å®ç°ä¸‹è½½ï¼Œå¾ˆç®€å•å§ï¼ åŠ¨æ€æ–‡ä»¶ åŠ¨æ€ç”Ÿæˆæ–‡ä»¶ç„¶åè¿”å›ç»™å®¢æˆ·ç«¯ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œè­¬å¦‚æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦åšå¯¼å‡ºæ•°æ®çš„åŠŸèƒ½ï¼ŒæŠŠæ•°æ®åº“ä¸­çš„æŸäº›æ•°æ®å¯¼å‡ºåˆ° Excel ä¸­ï¼Œç„¶åå†è¿”å›å®¢æˆ·ç«¯ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å°±ä¸èƒ½ç®€å•çš„æŒ‡å®š href å±æ€§ï¼Œå› ä¸ºå¯¹åº”çš„ URL å¹¶ä¸å­˜åœ¨ã€‚ æˆ‘ä»¬åªèƒ½é€šè¿‡ JavaScript å¯¹æœåŠ¡å™¨å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œé€šçŸ¥å®ƒå»ç”ŸæˆæŸä¸ªæ–‡ä»¶ï¼Œç„¶åæŠŠå¯¹åº”çš„ URL è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ æœ‰æ²¡æœ‰æ„Ÿè§‰è¿™ä¸ªè¿‡ç¨‹å’Œä¸Šé¢ã€Œæƒé™æ ¡éªŒã€ä¸€èŠ‚å¾ˆåƒï¼Ÿè‚¯å®šæ‹‰ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯å¯¹ URL åšäº†ä¸€äº›é¢„å¤„ç†è€Œå·²å˜›~ æ³¨æ„äº‹é¡¹ ç”±äº download å±æ€§æ˜¯ HTML 5 çš„æ–°ç‰¹æ€§ï¼Œå› æ­¤å®ƒä¸æ”¯æŒæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ã€‚ æ€»ç»“ HTML 5 æ–°çš„ download ç‰¹æ€§çœŸçš„å¾ˆå¥½ç”¨ï¼Œç»“åˆ JavaScript çš„åŠ¨æ€èƒ½åŠ›æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„åšå‡ºå¤æ‚çš„ä¸‹è½½åŠŸèƒ½~ å‚è€ƒèµ„æ–™ https://github.com/eligrey/FileSaver.js/blob/master/FileSaver.js https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL https://developer.mozilla.org/en-US/docs/Web/API/Blob http://stackoverflow.com/questions/19327749/javascript-blob-filename-without-link http://stackoverflow.com/questions/24501358/how-to-set-a-header-for-a-http-get-request-and-trigger-file-download http://blog.bguiz.com/2014/07/03/file-download-with-http-request-header/ ","link":"https://lingtin.github.io/post/sdgGjZQiN/"},{"title":"ä½¿ç”¨Vueå’ŒGraphQLæ„å»ºä¸€ä¸ªCRUD APP","content":"æœ¬æ–‡æä¾›äº†ä½¿ç”¨ Vue å’Œ GraphQL æ„å»ºä¸€ä¸ª CRUD APP çš„è¯¦ç»†æ­¥éª¤ï¼Œå±•ç¤ºäº†å¦‚ä½•å®‰è£… Apolloï¼Œ å¦‚ä½•å°†å®ƒä¸ Vue.js é›†æˆï¼Œä»¥åŠå¦‚ä½•å‘é€æŸ¥è¯¢å’Œä¿®æ”¹æ¥è¯»å–ã€åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä½¿ç”¨ Vue å’Œ GraphQL æ„å»ºä¸€ä¸ª CRUD APPã€‚CRUD æ˜¯æŒ‡è¯¥ APP ä¸­æ‰€åŒ…å«çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚ä½ å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°è¿™ä¸ªæ¼”ç¤ºçš„æºä»£ç ï¼š https://github.com/JscramblerBlog/vue-graphql-demo å‡†å¤‡å·¥ä½œ æœ¬æ•™ç¨‹é¦–å…ˆéœ€è¦å‡ é¡¹å‡†å¤‡å·¥ä½œï¼š åœ¨ä½ çš„å¼€å‘çš„æœºå™¨ä¸Šå®‰è£… Node.js å’Œ NPMã€‚ä½ å¯ä»¥ä»å®˜æ–¹ç½‘ç«™ ä¸‹è½½å®ƒä»¬ï¼Œæˆ–è€…åœ¨ä½ çš„ç³»ç»Ÿä¸­ä½¿ç”¨ NVM è½»æ¾å®‰è£… Node.jsã€‚ å…·å¤‡ JavaScript çš„çŸ¥è¯†ï¼Œç†Ÿæ‚‰ Vueã€‚ æœ‰ GraphQL Server ç›¸å…³ç»éªŒã€‚ å¦‚æœä½ å·²ç»åšå¥½è¿™äº›å‡†å¤‡å·¥ä½œï¼Œé‚£å°±è®©æˆ‘ä»¬ä¸€èµ·å¼€å§‹å§ã€‚ åœ¨æœåŠ¡å™¨ä¸­å¯ç”¨ CORS ç”±äºæˆ‘ä»¬åœ¨ä¸¤ä¸ªä¸åŒçš„æœ¬åœ°ç«¯å£ä¹‹é—´å‘é€è¯·æ±‚ï¼Œè¿™ä¸¤ä¸ªç«¯å£è¢«è§†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„åŸŸï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡å™¨ä¸­å¯ç”¨è·¨æºèµ„æºå…±äº«åŠŸèƒ½ï¼ˆCross-Origin Resource Sharingï¼ŒCORSï¼‰ï¼š https://blog.jscrambler.com/understanding-cors-cross-origin-resource-sharing/ é¦–å…ˆï¼Œä» GitHub åº“ä¸­æŠŠä»£ç å…‹éš†å‡ºæ¥ï¼š git clone https://github.com/JscramblerBlog/node-express-graphql-api.git æ¥ç€ï¼Œè¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼Œå®‰è£…ä»¥ä¸‹ç›¸å…³ç»„ä»¶å’Œ cors æ¨¡å—ï¼š cd node-express-graphql-api npm install npm install cors --save ç„¶åæ‰“å¼€ index.js æ–‡ä»¶ï¼Œå¯¼å…¥ cors æ¨¡å—ï¼š const cors = require('cors'); æ¥ä¸‹æ¥ï¼Œå°† cors ä¸­é—´ä»¶æ·»åŠ åˆ° Express app ä¸­ï¼š const app = express(); app.use(cors()) æœ€åï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼š node index.js è¿™æ ·ä½ çš„ GraphQL æœåŠ¡å™¨å°±è¿è¡Œèµ·æ¥äº†ï¼Œå¯ä»¥åœ¨http://localhost:4000/åœ°å€ä¸‹è®¿é—®ã€‚ å®‰è£… Vue CLI 3 æˆ‘ä»¬éœ€è¦å®‰è£… Vue CLI æ¥å¿«é€Ÿç”Ÿæˆ Vue é¡¹ç›®å¹¶ä½¿ç”¨è¿™äº›é¡¹ç›®ã€‚æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š npm install -g @vue/cli åœ¨çœ‹å®Œè¿™å‡ ä¸ªå­—çš„æ—¶é—´é‡Œï¼Œä½ çš„æœºå™¨ä¸Šåº”è¯¥å·²ç»å®Œæˆ @vue/cli v3.8.2çš„å®‰è£…äº†ã€‚ åˆ›å»ºä¸€ä¸ª Vue é¡¹ç›® ä½¿ç”¨ Vue CLIï¼Œè®©æˆ‘ä»¬ç»§ç»­åˆ›å»ºä¸€ä¸ª Vue é¡¹ç›®ã€‚å›åˆ°ç»ˆç«¯æœºï¼Œæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼š vue create vue-graphql-demo å½“æç¤ºå¯¹é¢„ç½®é€‰é¡¹è¿›è¡Œé€‰æ‹©æ—¶ï¼Œä½ å¯ä»¥ç®€å•åœ°é€‰æ‹©é»˜è®¤è®¾ç½®ã€‚ ç­‰å¾…ç”Ÿæˆé¡¹ç›®ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š cd vue-graphql-demo npm run serve è¿™æ ·ï¼Œä½ çš„åº”ç”¨å°±è¿è¡Œèµ·æ¥äº†ï¼Œåœ¨ http://localhost:8080/åœ°å€ä¸‹å¯ä»¥è®¿é—®ã€‚ å®‰è£… Apollo å®¢æˆ·ç«¯ Apollo æ˜¯ä¸€ç»„å®ç”¨ç¨‹åºï¼Œå¯ä»¥å¸®åŠ©ä½ åœ¨ APP ä¸­ä½¿ç”¨ GraphQLã€‚å®ƒä»¥å…¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è€Œé—»åã€‚Apollo æ˜¯ç”± Meteor Development Groupå¼€å‘å’Œç»´æŠ¤çš„ï¼šhttps://www.meteor.io/ æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œè¿›å…¥ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… Apollo å®¢æˆ·ç«¯åˆ°ä½ çš„ Vue é¡¹ç›®ä¸­ï¼š npm install --save vue-apollo graphql apollo-boost Apollo Boost æ˜¯ä¸€ç§æ— éœ€ä»»ä½•æ‰‹åŠ¨é…ç½®å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Apollo å®¢æˆ·ç«¯çš„æ–¹å¼ã€‚å®ƒåŒ…æ‹¬ä¸€äº›å¸¸è§çš„é»˜è®¤å€¼ï¼Œæ¯”å¦‚æ¨èçš„ InMemoryCacheå’ŒHttpLinkï¼Œå®ƒä»¬æ˜¯ä»¥æ¨èçš„å‚æ•°ä¸ºä½ è¿›è¡Œé…ç½®çš„ã€‚è¿™ç§é›¶é…ç½®çš„æ–¹å¼é€‚åˆå¿«é€Ÿå¼€å‘ä½¿ç”¨ã€‚ åœ¨ src/main.js æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç æ¥åˆ›å»º Apollo å®¢æˆ·ç«¯çš„å®ä¾‹ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°è¿è¡Œäº http://localhost:4000/graphql çš„ GraphQL æœåŠ¡å™¨ï¼š import ApolloClient from &quot;apollo-boost&quot; import VueApollo from &quot;vue-apollo&quot; const apolloClient = new ApolloClient({ uri: &quot;http://localhost:4000/graphql&quot; }) Vue.use(VueApollo) const apolloProvider = new VueApollo({ defaultClient: apolloClient, }) æˆ‘ä»¬ä» apollo-boost åŒ…ä¸­å¯¼å…¥ Apollo å®¢æˆ·ç«¯ ï¼Œä» vue-apollo åŒ…ä¸­å¯¼å…¥ VueApolloã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»º Apollo å®¢æˆ·ç«¯çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¼ å…¥ GraphQL ç«¯ç‚¹çš„ URLã€‚ ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ VueApollo æ’ä»¶å°† Apollo é›†æˆåˆ°æˆ‘ä»¬çš„ Vue APP ä¸­ã€‚ æœ€åï¼Œæˆ‘ä»¬åˆ›å»ºäº† Apollo Providerï¼Œå®ƒåŒ…å«æ‰€æœ‰ Vue ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨çš„ Apollo Client å®ä¾‹ã€‚ æˆ‘ä»¬ç°åœ¨è¦åšçš„å°±æ˜¯ç”¨ apolloProvider é€‰é¡¹å°† Apollo Provider æ·»åŠ åˆ° Vue å®ä¾‹ä¸­ï¼š new Vue({ render: h =&gt; h(App), apolloProvider, }).$mount('#app') è¿™æ ·å°±è¡Œäº†ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å‡†å¤‡åœ¨ Vue APP ä¸­ä½¿ç”¨ Apollo å®¢æˆ·ç«¯ã€‚ æ›´å¤šä¿¡æ¯è¯·å‚è§æ–‡æ¡£ï¼š https://vue-apollo.netlify.com/guide/installation.html#manual-installation ä½¿ç”¨ GraphQL API å°† vue-apollo æ·»åŠ åˆ° APP åï¼Œæ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡ apollo é€‰é¡¹æ¥ä½¿ç”¨ Apolloã€‚ é¦–å…ˆï¼Œæ‰“å¼€ src/App.vue ç»„ä»¶ï¼Œå¹¶å°† data() å‡½æ•°æ·»åŠ åˆ°å…·æœ‰ä»¥ä¸‹å˜é‡çš„å¯¼å‡ºå¯¹è±¡ä¸­ï¼š &lt;script&gt; export default { name: 'app', data(){ return { id: null, firstName: '', lastName: '', email: ''} } æˆ‘ä»¬å®šä¹‰äº†å››ä¸ªç»„ä»¶å˜é‡ï¼Œåˆ†åˆ«æ˜¯ idã€firstNameã€lastName å’Œ emailã€‚è¿™äº›å˜é‡å°†è¢«ç»‘å®šåˆ°ç”¨äºåˆ›å»ºæ–°è”ç³»äººçš„ HTML Form ä¸­ã€‚ å‘é€ä¸€ä¸ª GraphQL æŸ¥è¯¢æ¥è¯»å–æ•°æ® æ¥ç€ï¼Œä» graphql-tag åŒ…ä¸­å¯¼å…¥ gqlï¼Œå¹¶å°† apollo å¯¹è±¡æ·»åŠ åˆ°å¸¦æœ‰æŸ¥è¯¢çš„ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªæŸ¥è¯¢ä» GraphQL API ä¸­è¯»å–è”ç³»äººï¼š &lt;script&gt; import gql from 'graphql-tag' export default { name: 'app', /* [...] */ apollo: { contacts: gql`query { contacts { id, firstName, lastName, email } }`, }, gql æ˜¯ä¸€ä¸ª JavaScript æ¨¡æ¿æ–‡å­—æ ‡ç­¾ï¼Œå®ƒå°† GraphQL æŸ¥è¯¢å­—ç¬¦ä¸²è§£æåˆ°æ ‡å‡†çš„ GraphQL AST ä¸­ã€‚å¯ä»¥åœ¨ Github ä¸Šçš„å®˜æ–¹åº“ä¸­æ‰¾åˆ°æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š https://github.com/apollographql/graphql-tag åœ¨è¿™ä¸ª apollo å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ª contacts å±æ€§ï¼Œå®ƒå°†ä¿å­˜ contacts æŸ¥è¯¢çš„ç»“æœã€‚ç¨åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒåœ¨æ¨¡æ¿ä¸­æ˜¾ç¤ºè”ç³»äººã€‚ å‘é€ç”¨äºCRUDæ•°æ®çš„ mutation æŸ¥è¯¢ æ¥ä¸‹æ¥ï¼Œæ·»åŠ  createContact()ã€updateContact() å’Œ deleteContact() ä¸‰ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š methods: { createContact(firstName, lastName, email){ console.log(`Create contact: ${email}`) this.$apollo.mutate({ mutation: gql`mutation createContact($firstName: String!, $lastName: String!, $email: String!){ createContact(firstName: $firstName, lastName: $lastName, email: $email) { id, firstName, lastName, email} }`, variables:{ firstName: firstName, lastName: lastName, email: email } } ) location.reload(); }, updateContact(id, firstName, lastName, email){ console.log(`Update contact: # ${id}`) this.$apollo.mutate({ mutation: gql`mutation updateContact($id: ID!, $firstName: String!, $lastName: String!, $email: String!){ updateContact(id: $id, firstName: $firstName, lastName: $lastName, email: $email) `, variables:{ id: id, firstName: firstName, lastName: lastName, email: email } } ) location.reload(); }, deleteContact(id){ console.log(`Delete contact: # ${id}`) this.$apollo.mutate({ mutation: gql`mutation deleteContact($id: ID!){ deleteContact(id: $id) }`, variables:{ id: id, } } ) location.reload(); }, } åœ¨è¿™ä¸‰ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ this.$apollo.mutate() æ–¹æ³•å‘ GraphQL Server å‘é€ mutation æŸ¥è¯¢ï¼Œå¹¶è°ƒç”¨ location.reload() æ–¹æ³•æ¥é‡æ–°åŠ è½½é¡µé¢ã€‚ æœ‰å…³å‘é€ mutation æŸ¥è¯¢çš„æ›´å¤šä¿¡æ¯ï¼Œè¯· å‚é˜…æ–‡æ¡£ã€‚ æ¥ä¸‹æ¥ï¼Œåœ¨ methods å¯¹è±¡ä¸­æ·»åŠ  selectContact() å’Œ clearForm() æ–¹æ³•ï¼š selectContact(contact){ this.id = contact.id; this.firstName = contact.firstName; this.lastName = contact.lastName; this.email = contact.email; }, clearForm(){ this.id = null; this.firstName = ''; this.lastName = ''; this.email = ''; } è¿™ä¸¤ä¸ªæ–¹æ³•è¢«ç”¨æ¥ä» Table ä¸­é€‰æ‹©ä¸€ä¸ªè”ç³»äººæ”¾å…¥ Formï¼Œä»¥åŠæ¸…ç©º Formã€‚ æ·»åŠ æ¨¡æ¿ ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ª Table å’Œ Form æ¥æ˜¾ç¤ºã€åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤è”ç³»äººã€‚è®©æˆ‘ä»¬ä» HTML Table å¼€å§‹ï¼š &lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;table border='1' width='100%' style='border-collapse: collapse;'&gt; &lt;tr&gt; &lt;th&gt;First Name&lt;/th&gt; &lt;th&gt;Last Name&lt;/th&gt; &lt;th&gt;Email&lt;/th&gt; &lt;th&gt;Actions&lt;/th&gt; &lt;/tr&gt; &lt;tr v-for='contact in contacts'&gt; &lt;td&gt;{{ contact.firstName }}&lt;/td&gt; &lt;td&gt;{{ contact.lastName }}&lt;/td&gt; &lt;td&gt;{{ contact.email }}&lt;/td&gt; &lt;td&gt; &lt;input type=&quot;button&quot; @click=&quot;selectContact(contact)&quot; value=&quot;Select&quot;&gt; &lt;input type=&quot;button&quot; @click=&quot;deleteContact(contact.id)&quot; value=&quot;Delete&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; æˆ‘ä»¬ä½¿ç”¨ v-for æŒ‡ä»¤æ¥è¿­ä»£ Apollo å¯¹è±¡çš„ contacts å±æ€§ï¼Œè¯¥ Apollo å¯¹è±¡åŒ…å«ä»æœåŠ¡å™¨è·å–çš„è”ç³»äººã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸¤ä¸ªæŒ‰é’®æ¥é€‰æ‹©å’Œåˆ é™¤ç›¸åº”çš„è”ç³»äººã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°† Form æ·»åŠ åˆ° Table é‡Œï¼š &lt;/br&gt; &lt;form&gt; &lt;label&gt;First Name&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;firstName&quot; v-model=&quot;firstName&quot;&gt; &lt;/br&gt; &lt;label&gt;Last Name&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;lastName&quot; v-model=&quot;lastName&quot;&gt; &lt;/br&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input type=&quot;email&quot; name=&quot;email&quot; v-model=&quot;email&quot;&gt; &lt;/br&gt; &lt;input v-if=&quot;!id&quot; type=&quot;button&quot; @click=&quot;createContact(firstName, lastName, email)&quot; value=&quot;Add&quot;&gt; &lt;input v-if=&quot;id&quot; type=&quot;button&quot; @click=&quot;updateContact(id, firstName, lastName, email)&quot; value=&quot;Update&quot;&gt; &lt;input type=&quot;button&quot; @click=&quot;clearForm()&quot; value=&quot;Clear&quot;&gt; &lt;/form&gt; &lt;/div&gt; &lt;/template&gt; æˆ‘ä»¬è¿™æ ·å°±åˆ›å»ºäº† Formï¼Œæ¯ä¸ª Form åŒ…å«ä¸‰ä¸ªè¾“å…¥ï¼Œå®ƒä»¬ç»‘å®šåˆ°ç»„ä»¶ä¸­å£°æ˜çš„ firstNameã€lastName å’Œ email å˜é‡ã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸‰ä¸ªæŒ‰é’®ï¼Œç”¨äºåˆ›å»ºæ–°è”ç³»äººã€æ›´æ–°é€‰å®šçš„è”ç³»äººå’Œæ¸…é™¤è¯¥ Formã€‚ è¿™æ˜¯æ·»åŠ äº†å¤§é‡æ•°æ®å UI çš„æˆªå›¾ï¼š ä½¿ç”¨ Select æŒ‰é’®é€‰æ‹©è”ç³»äººåï¼Œå°†è½½å…¥ Form å†…å®¹ï¼Œè¿™æ—¶ä¼šå‡ºç° Update æŒ‰é’®ï¼Œè€Œä¸æ˜¯ Add æŒ‰é’®ï¼š ç»“è®º åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ç”¨ Apollo å®¢æˆ·ç«¯æ¥è°ƒç”¨ GraphQL APIã€‚æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•å®‰è£… Apolloï¼Œå¦‚ä½•å°†å®ƒä¸ Vue.js é›†æˆï¼Œä»¥åŠå¦‚ä½•å‘é€æŸ¥è¯¢å’Œä¿®æ”¹æ¥è¯»å–ã€åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤æ•°æ®åº“ä¸­çš„è”ç³»äººã€‚ å¦‚æœä½ æ­£åœ¨æ„å»ºå…·æœ‰æ•æ„Ÿé€»è¾‘çš„ Vue APPï¼Œè¯·éµå¾ªæˆ‘ä»¬çš„æŒ‡å—ï¼Œä»¥ä¿è¯å®ƒä»¬ä¸å—ä»£ç ç›—çªƒå’Œé€†å‘å·¥ç¨‹çš„å½±å“ï¼š https://blog.jscrambler.com/how-to-protect-your-vue-js-application-with-jscrambler/ æ–‡ç« æ¥æºï¼š https://mp.weixin.qq.com è‹±æ–‡åŸæ–‡ï¼š https://blog.jscrambler.com/building-a-crud-app-with-vue-and-graphql/?utm_source=echojs.com&amp;utm_medium=referral ","link":"https://lingtin.github.io/post/nMCipG_qg/"},{"title":"æå‡90%åŠ è½½é€Ÿåº¦â€”â€”vuecliä¸‹çš„é¦–å±æ€§èƒ½ä¼˜åŒ–","content":"1ã€~åˆ†æå·¥å…· 2ã€è·¯ç”±æ‡’åŠ è½½ ä¹‹å‰ç”¨ vuecliåšäº†ä¸ªåšå®¢ï¼Œæ˜¯ä¸€ä¸ªå•é¡µé¢é¡¹ç›®ï¼Œå¤§æ¦‚æœ‰åä¸ªè·¯ç”± ç›´æ¥ npm run buildæ‰“åŒ…å‡ºæ¥ï¼Œæœ‰ä¸€ä¸ª 1Mçš„å·¨å¤§ jsæ–‡ä»¶ å…ˆæŒ‚è½½åˆ°æœåŠ¡å™¨ä¸Šè¯•è¯• å¥½å®¶ä¼™ è¿™åŠ è½½æ—¶é—´ ä»¿ä½›è¿‡äº†åŠä¸ªä¸–çºª é¦–å±é¡µé¢æ•´æ•´åŠ è½½äº† 9s å…‰åŠ è½½é‚£ä¸ªå¤§æ–‡ä»¶å°±èŠ±äº† 8s è¿™å¿…é¡»å¾—åšä¸ªä¼˜åŒ–äº†ï¼Œæ²¡æœ‰ç”¨æˆ·èƒ½å¿å— 9sçš„ç™½å±è€Œä¸å…³é—­é¡µé¢çš„ è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿˜é¡ºä¾¿æŠŠé¡¹ç›®ä» vuecli 2.xè¿ç§»åˆ°äº† vuecli 3ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿˜ä¼šä»‹ç»ä¸€äº›å®ƒä»¬åœ¨ä¼˜åŒ–ä¸Šçš„å¼‚åŒ ~åˆ†æ vuecli 2.xè‡ªå¸¦äº†åˆ†æå·¥å…· åªè¦è¿è¡Œ npm run build --report å¦‚æœæ˜¯ vuecli 3çš„è¯ï¼Œå…ˆå®‰è£…æ’ä»¶ npm install webpack-bundle-analyzer --save -dev ç„¶ååœ¨ vue.config.jsä¸­å¯¹ webpackè¿›è¡Œé…ç½® chainWebpack: (config) =&gt; { /* æ·»åŠ åˆ†æå·¥å…·*/ if(process.env.NODE_ENV ==='production'){ if(process.env.npm_config_report){ config.plugin('webpack-bundle-analyzer') .use(require('webpack-bundle-analyzer').BundleAnalyzerPlugin).end(); config. plugins.delete('prefetch') } } } å†è¿è¡Œ npm run build --report ä¼šåœ¨æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªé¡¹ç›®æ‰“åŒ…çš„æƒ…å†µå›¾ï¼Œä¾¿äºç›´è§‚åœ°æ¯”è¾ƒå„ä¸ª bundleæ–‡ä»¶çš„å¤§å° å¯ä»¥çœ‹åˆ° é¡¹ç›®ä¸­æ‰€æœ‰çš„ä¾èµ–ï¼Œæ‰€æœ‰çš„è·¯ç”±ï¼Œéƒ½è¢«æ‰“åŒ…è¿›äº†åŒä¸€ä¸ªæ–‡ä»¶ä¸­ å¦å¤–ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ convergeæ¥æŸ¥çœ‹ä»£ç çš„ä½¿ç”¨çŠ¶å†µ çº¢è‰²çš„æ˜¯ä¸‹è½½äº†ä½†æœªä½¿ç”¨çš„éƒ¨åˆ† è·¯ç”±æ‡’åŠ è½½ å½“æ‰“åŒ…æ„å»ºåº”ç”¨æ—¶ï¼ŒJavaScriptåŒ…ä¼šå˜å¾—éå¸¸å¤§ï¼Œå½±å“é¡µé¢åŠ è½½ã€‚ å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶ï¼Œè¿™æ ·å°±æ›´åŠ é«˜æ•ˆäº†ã€‚ åœ¨ä¸€å¼€å§‹å°±ä¸‹è½½å®Œæ‰€æœ‰è·¯ç”±å¯¹åº”çš„ç»„ä»¶æ–‡ä»¶ï¼Œè¿™æ˜æ˜¾æ˜¯ä¸åˆé€‚çš„ï¼Œè¿™å°±åƒä¸‹è½½ä¸€ä¸ª appäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ åœ¨ router.jsæ–‡ä»¶ä¸­ï¼ŒåŸæ¥çš„é™æ€å¼•ç”¨æ–¹å¼ import ShowBlogs from'@/components/ShowBlogs' routes :[path :'Blogs', name :'ShowBlogs', component : ShowBlogs] æ”¹ä¸º routes :[path :'Blogs', name :'ShowBlogs', component : ()=&gt; import ('./components/ShowBlogs.vue') ä»¥å‡½æ•°çš„å½¢å¼åŠ¨æ€å¼•å…¥ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠå„è‡ªçš„è·¯ç”±æ–‡ä»¶åˆ†åˆ«æ‰“åŒ…ï¼Œåªæœ‰åœ¨è§£æç»™å®šçš„è·¯ç”±æ—¶ï¼Œæ‰ä¼šä¸‹è½½è·¯ç”±ç»„ä»¶ é¦–å±éœ€è¦åŠ è½½çš„æ–‡ä»¶å˜æˆäº†æ©™è‰²çš„éƒ¨åˆ†ï¼Œè¢«å°å¼Ÿä»¬åˆ†æµå‡ºå»äº† 300k å¦‚æœæ˜¯åœ¨ vuecli 3ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¤šåšä¸€æ­¥å·¥ä½œ å› ä¸º vuecli 3é»˜è®¤å¼€å¯ prefetch(é¢„å…ˆåŠ è½½æ¨¡å—)ï¼Œæå‰è·å–ç”¨æˆ·æœªæ¥å¯èƒ½ä¼šè®¿é—®çš„å†…å®¹ åœ¨é¦–å±ä¼šæŠŠè¿™åå‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œéƒ½ä¸€å£æ°”ä¸‹è½½äº† æ‰€ä»¥æˆ‘ä»¬è¦å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨ vue.config.jsä¸­è®¾ç½® å‚è€ƒå®˜ç½‘çš„åšæ³•ï¼š // vue.config.js module.exports = { chainWebpack: config =&gt; { // ç§»é™¤ prefetch æ’ä»¶ config.plugins.delete('prefetch') // æˆ–è€… // ä¿®æ”¹å®ƒçš„é€‰é¡¹ï¼š config.plugin('prefetch').tap(options =&gt; { options[0].fileBlacklist = options[0].fileBlacklist || [] options[0].fileBlacklist.push(/myasyncRoute(.)+?\\.js$/) return options }) } } å½“ prefetch æ’ä»¶è¢«ç¦ç”¨æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ webpack çš„å†…è”æ³¨é‡Šæ‰‹åŠ¨é€‰å®šè¦æå‰è·å–çš„ä»£ç åŒºå—ï¼š import(/* webpackPrefetch: true */ './someAsyncComponent.vue') webpack çš„è¿è¡Œæ—¶ä¼šåœ¨çˆ¶çº§åŒºå—è¢«åŠ è½½ä¹‹åæ³¨å…¥ prefetch é“¾æ¥ã€‚ è¯¦æƒ…æŸ¥çœ‹ï¼šhttps://cli.vuejs.org/zh/guide/html-and-static-assets.html#prefetch è®¾ç½®å®Œæ¯•åï¼Œé¦–å±å°±åªä¼šåŠ è½½å½“å‰é¡µé¢è·¯ç”±çš„ç»„ä»¶äº† ~uiæŒ‰éœ€åŠ è½½ é¦–å±éœ€è¦åŠ è½½çš„ä¾èµ–åŒ…ï¼Œå…¶ä¸­ uiæ•´æ•´å äº† 568k åŸæœ¬çš„å¼•è¿›æ–¹å¼å¼•è¿›äº†æ•´ä¸ªåŒ…ï¼š import ElementUI from'element-ui' Vue . use (ElementUI) ä½†å®é™…ä¸Šæˆ‘ç”¨åˆ°çš„ç»„ä»¶åªæœ‰æŒ‰é’®ï¼Œåˆ†é¡µï¼Œè¡¨æ ¼ï¼Œè¾“å…¥ä¸è­¦å‘Š æ‰€ä»¥æˆ‘ä»¬è¦æŒ‰éœ€å¼•ç”¨ï¼š import { Button, Input, Pagination, Table, TableColumn, MessageBox } from'element-ui'; Vue . use (Button) Vue . use (Input) Vue . use (Pagination) Vue . prototype . $alert=MessageBox . alert æ³¨æ„ MessageBoxæ³¨å†Œæ–¹æ³•çš„åŒºåˆ«ï¼Œå¹¶ä¸”æˆ‘ä»¬è™½ç„¶ç”¨åˆ°äº† alertï¼Œä½†å¹¶ä¸éœ€è¦å¼•å…¥ Alertç»„ä»¶ åœ¨.babelrcæ–‡ä»¶ä¸­æ·»åŠ ï¼ˆvue-cli 3è¦å…ˆå®‰è£… babel-plugin-component)ï¼š plugins :[[&quot;component&quot;, { &quot;libraryName&quot; :&quot;element-ui&quot;, &quot;styleLibraryName&quot; :&quot;theme-chalk&quot; } ]] import { Table, TableColumn } from&quot;element-ui&quot;; components : { &quot;el-table&quot; : Table, &quot;el-table-column&quot; : TableColumn }, tableå°±è¢«æ‹†åˆ†åˆ°äº†è·¯ç”±æ–‡ä»¶ä¸­ ~ç»„ä»¶é‡å¤æ‰“åŒ… å¯ä»¥çœ‹åˆ°ä¸Šå›¾ï¼Œæœ‰ä¸¤ä¸ªè·¯ç”±æ–‡ä»¶éƒ½å¼•ç”¨äº† codemirror.jsé€ æˆé‡å¤ä¸‹è½½ æˆ‘ä»¬å¯ä»¥åœ¨webpackçš„ configæ–‡ä»¶ä¸­ï¼Œä¿®æ”¹CommonsChunkPluginçš„é…ç½® minChunks : 3 æŠŠ3æ”¹ä¸º2ï¼Œå°±ä¼šæŠŠä½¿ç”¨2æ¬¡åŠä»¥ä¸Šçš„åŒ…æŠ½ç¦»å‡ºæ¥ï¼Œæ”¾è¿›å…¬å…±ä¾èµ–æ–‡ä»¶ï¼Œä¸è¿‡ç”±äºé¦–é¡µä¹Ÿæœ‰å¤ç”¨çš„ç»„ä»¶ï¼Œæ‰€ä»¥é¦–é¡µä¹Ÿä¼šä¸‹è½½è¿™ä¸ªå…¬å…±ä¾èµ–æ–‡ä»¶ é¦–é¡µä¸‹è½½äº†é»„è‰²å’Œç°è‰²éƒ¨åˆ† æ‹†äº†åŠå¤©ï¼Œåˆå›åˆ°åŸç‚¹ å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æŠ˜è…¾ CommonsChunkPluginçš„é…ç½®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ ä½†åœ¨æ–°ç‰ˆ webpackä¸­ï¼ŒCommonsChunkPluginè¢«è‡ªç”±åº¦æ›´é«˜ï¼Œæ›´é«˜çº§çš„ SplitChunksPluginä»£æ›¿ è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è¦æŠŠé¡¹ç›®è¿ç§»åˆ° vuecli 3ï¼ˆä½¿ç”¨ webpack4ï¼‰ é»˜è®¤å°±åšäº†ä¼˜åŒ–ï¼Œé¦–é¡µåªä¼šä¸‹è½½ç°è‰²çš„éƒ¨åˆ†ï¼ˆ 235Kï¼‰ ~gzip æ‹†å®ŒåŒ…ä¹‹åï¼Œæˆ‘ä»¬å†ç”¨ gzipåšä¸€ä¸‹å‹ç¼© å®‰è£…compression-webpack-plugin npm i compression-webpack-plugin -dev åœ¨ vue.congig.jsä¸­å¼•å…¥å¹¶ä¿®æ”¹webpacké…ç½® const CompressionPlugin=require ('compression-webpack-plugin') configureWebpack: (config) =&gt; { if (process.env.NODE_ENV === 'production') { // ä¸ºç”Ÿäº§ç¯å¢ƒä¿®æ”¹é…ç½®... config.mode = 'production'; return { plugins: [new CompressionPlugin({ test: /\\.js$|\\.html$|\\.css/, //åŒ¹é…æ–‡ä»¶å threshold: 10240, //å¯¹è¶…è¿‡10kçš„æ•°æ®è¿›è¡Œå‹ç¼© deleteOriginalAssets: false //æ˜¯å¦åˆ é™¤åŸæ–‡ä»¶ })] } } } å¯ä»¥çœ‹åˆ° 200kä»¥ä¸Šçš„æ–‡ä»¶è¢«å‹ç¼©åˆ°äº† 100kä»¥å†… åœ¨æœåŠ¡å™¨æˆ‘ä»¬ä¹Ÿè¦åšç›¸åº”çš„é…ç½® å¦‚æœå‘é€è¯·æ±‚çš„æµè§ˆå™¨æ”¯æŒ gzipï¼Œå°±å‘é€ç»™å®ƒ gzipæ ¼å¼çš„æ–‡ä»¶ æˆ‘çš„æœåŠ¡å™¨æ˜¯ç”¨ expressæ¡†æ¶æ­å»ºçš„ åªè¦å®‰è£…ä¸€ä¸‹ compressionå°±èƒ½ä½¿ç”¨ const compression=require ('compression') app . use (compression ()) æ³¨æ„ï¼Œåé¢è¿™ä¸€å¥ï¼Œè¦æ”¾åœ¨æ‰€æœ‰å…¶ä»–ä¸­é—´ä»¶æ³¨å†Œä¹‹å‰ ~æœ€ç»ˆæ•ˆæœ é¦–å±åŠ è½½èµ„æº198kï¼ŒåŠ è½½æ—¶é—´1sï¼Œç›¸æ¯”åŸæ¥é€Ÿåº¦æå‡äº†90% ~åè®°ï¼šcssæ˜¯å¦è¦æ‹†åˆ† vuecli 3å’Œ vuecli2.xè¿˜æœ‰ä¸€ä¸ªåŒºåˆ«æ˜¯ vuecli 3ä¼šé»˜è®¤å¼€å¯ä¸€ä¸ª cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin æ¯ä¸€ä¸ªæ¨¡å—çš„ cssæ–‡ä»¶éƒ½ä¼šåˆ†ç¦»å‡ºæ¥ï¼Œæ•´æ•´13ä¸ª cssæ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬çš„é¦–é¡µå°±è¯·æ±‚äº†4ä¸ªï¼ŒèŠ±è´¹äº†ä¸å°‘çš„èµ„æºè¯·æ±‚æ—¶é—´ æˆ‘ä»¬å¯ä»¥åœ¨vue.config.jsä¸­å…³é—­å®ƒ css : { // æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin extract : false, // å¼€å¯ CSS source maps? sourceMap : false, // cssé¢„è®¾å™¨é…ç½®é¡¹ loaderOptions : { } , // å¯ç”¨ CSS modules for all css / pre-processor files. modules : false }, æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ä¸­ï¼Œç›´æ¥å°±æ²¡æœ‰äº† cssæ–‡ä»¶å¤¹ å–è€Œä»£ä¹‹çš„æ˜¯æ•´åˆèµ·æ¥çš„ä¸€ä¸ª jsæ–‡ä»¶ï¼Œè´Ÿè´£åœ¨ä¸€å¼€å§‹å°±æ³¨å…¥æ‰€æœ‰çš„æ ·å¼ é¦–å±åŠ è½½æ–‡ä»¶æ•°å‡å°‘ï¼Œä½†ä½“ç§¯å˜å¤§ï¼Œæœ€ç»ˆæµ‹ä¸‹æ¥é€Ÿåº¦æ²¡æœ‰å¤ªå¤§å·®å¼‚ æ‰€ä»¥ï¼Œæ˜¯å¦è¦cssæ‹†åˆ†å°±è§ä»è§æ™ºï¼Œå…·ä½“é¡¹ç›®å…·ä½“åˆ†æå§ ~æ€»ç»“ æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªéå¸¸ä»¤äººæ„‰æ‚¦çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ªæ·±å‘ï¼Œæœ‰ç€å¤ªå¤šä¸œè¥¿ï¼Œæœ¬ç¯‡æ–‡ç« å¼€äº†ä¸ªå¤´ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ© å‚è€ƒèµ„æ–™ï¼š Vueæ‰“åŒ…ä¼˜åŒ–ä¹‹code spliting https://juejin.im/post/5ac815... Vue æ€§èƒ½ä¼˜åŒ–ï¼šå¦‚ä½•å®ç°å»¶è¿ŸåŠ è½½å’Œä»£ç æ‹†åˆ†ï¼Ÿ https://www.infoq.cn/article/...*zN Webpack æ‰“åŒ…ä¼˜åŒ–ä¹‹ä½“ç§¯ç¯‡ https://www.jeffjade.com/2017... è®°ä¸€æ¬¡vue+element+echartsé¡¹ç›®çš„ä¼˜åŒ– https://juejin.im/post/5b0033... æ¥æºï¼šhttps://segmentfault.com/a/1190000019499007 ","link":"https://lingtin.github.io/post/91m5xw25V/"},{"title":"NPM Scripts æŒ‡å—","content":"Node å¼€å‘ç¦»ä¸å¼€ npmï¼Œè€Œè„šæœ¬åŠŸèƒ½æ˜¯ npm æœ€å¼ºå¤§ã€æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ npm è„šæœ¬ï¼ˆnpm scriptsï¼‰ã€‚ è½¬è½½è‡ªï¼šhttp://www.ruanyifeng.com/blog/2016/10/npm_scripts.html ä¸€ã€ä»€ä¹ˆæ˜¯ npm è„šæœ¬ï¼Ÿ npm å…è®¸åœ¨package.jsonæ–‡ä»¶é‡Œé¢ï¼Œä½¿ç”¨scriptså­—æ®µå®šä¹‰è„šæœ¬å‘½ä»¤ã€‚ { // ... &quot;scripts&quot;: { &quot;build&quot;: &quot;node build.js&quot; } } ä¸Šé¢ä»£ç æ˜¯package.jsonæ–‡ä»¶çš„ä¸€ä¸ªç‰‡æ®µï¼Œé‡Œé¢çš„scriptså­—æ®µæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒçš„æ¯ä¸€ä¸ªå±æ€§ï¼Œå¯¹åº”ä¸€æ®µè„šæœ¬ã€‚æ¯”å¦‚ï¼Œbuildå‘½ä»¤å¯¹åº”çš„è„šæœ¬æ˜¯node build.jsã€‚ å‘½ä»¤è¡Œä¸‹ä½¿ç”¨npm runå‘½ä»¤ï¼Œå°±å¯ä»¥æ‰§è¡Œè¿™æ®µè„šæœ¬ã€‚ $ npm run build ç­‰åŒäºæ‰§è¡Œ $ node build.js è¿™äº›å®šä¹‰åœ¨package.jsoné‡Œé¢çš„è„šæœ¬ï¼Œå°±ç§°ä¸º npm è„šæœ¬ã€‚å®ƒçš„ä¼˜ç‚¹å¾ˆå¤šã€‚ é¡¹ç›®çš„ç›¸å…³è„šæœ¬ï¼Œå¯ä»¥é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚ ä¸åŒé¡¹ç›®çš„è„šæœ¬å‘½ä»¤ï¼Œåªè¦åŠŸèƒ½ç›¸åŒï¼Œå°±å¯ä»¥æœ‰åŒæ ·çš„å¯¹å¤–æ¥å£ã€‚ç”¨æˆ·ä¸éœ€è¦çŸ¥é“æ€ä¹ˆæµ‹è¯•ä½ çš„é¡¹ç›®ï¼Œåªè¦è¿è¡Œnpm run testå³å¯ã€‚ å¯ä»¥åˆ©ç”¨ npm æä¾›çš„å¾ˆå¤šè¾…åŠ©åŠŸèƒ½ã€‚ æŸ¥çœ‹å½“å‰é¡¹ç›®çš„æ‰€æœ‰ npm è„šæœ¬å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„npm runå‘½ä»¤ã€‚ $ npm run äºŒã€åŸç† npm è„šæœ¬çš„åŸç†éå¸¸ç®€å•ã€‚æ¯å½“æ‰§è¡Œnpm runï¼Œå°±ä¼šè‡ªåŠ¨æ–°å»ºä¸€ä¸ª Shellï¼Œåœ¨è¿™ä¸ª Shell é‡Œé¢æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬å‘½ä»¤ã€‚å› æ­¤ï¼Œåªè¦æ˜¯ Shellï¼ˆä¸€èˆ¬æ˜¯ Bashï¼‰å¯ä»¥è¿è¡Œçš„å‘½ä»¤ï¼Œå°±å¯ä»¥å†™åœ¨ npm è„šæœ¬é‡Œé¢ã€‚ æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ï¼Œnpm runæ–°å»ºçš„è¿™ä¸ª Shellï¼Œä¼šå°†å½“å‰ç›®å½•çš„node_modules/.binå­ç›®å½•åŠ å…¥PATHå˜é‡ï¼Œæ‰§è¡Œç»“æŸåï¼Œå†å°†PATHå˜é‡æ¢å¤åŸæ ·ã€‚ è¿™æ„å‘³ç€ï¼Œå½“å‰ç›®å½•çš„node_modules/.binå­ç›®å½•é‡Œé¢çš„æ‰€æœ‰è„šæœ¬ï¼Œéƒ½å¯ä»¥ç›´æ¥ç”¨è„šæœ¬åè°ƒç”¨ï¼Œè€Œä¸å¿…åŠ ä¸Šè·¯å¾„ã€‚æ¯”å¦‚ï¼Œå½“å‰é¡¹ç›®çš„ä¾èµ–é‡Œé¢æœ‰ Mochaï¼Œåªè¦ç›´æ¥å†™mocha testå°±å¯ä»¥äº†ã€‚ &quot;test&quot;: &quot;mocha test&quot; è€Œä¸ç”¨å†™æˆä¸‹é¢è¿™æ ·ã€‚ &quot;test&quot;: &quot;./node_modules/.bin/mocha test&quot; ç”±äº npm è„šæœ¬çš„å”¯ä¸€è¦æ±‚å°±æ˜¯å¯ä»¥åœ¨ Shell æ‰§è¡Œï¼Œå› æ­¤å®ƒä¸ä¸€å®šæ˜¯ Node è„šæœ¬ï¼Œä»»ä½•å¯æ‰§è¡Œæ–‡ä»¶éƒ½å¯ä»¥å†™åœ¨é‡Œé¢ã€‚ npm è„šæœ¬çš„é€€å‡ºç ï¼Œä¹Ÿéµå®ˆ Shell è„šæœ¬è§„åˆ™ã€‚å¦‚æœé€€å‡ºç ä¸æ˜¯0ï¼Œnpm å°±è®¤ä¸ºè¿™ä¸ªè„šæœ¬æ‰§è¡Œå¤±è´¥ã€‚ ä¸‰ã€é€šé…ç¬¦ ç”±äº npm è„šæœ¬å°±æ˜¯ Shell è„šæœ¬ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨ Shell é€šé…ç¬¦ã€‚ &quot;lint&quot;: &quot;jshint *.js&quot; &quot;lint&quot;: &quot;jshint **/*.js&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œ* è¡¨ç¤ºä»»æ„æ–‡ä»¶åï¼Œ** è¡¨ç¤ºä»»æ„ä¸€å±‚å­ç›®å½•ã€‚ å¦‚æœè¦å°†é€šé…ç¬¦ä¼ å…¥åŸå§‹å‘½ä»¤ï¼Œé˜²æ­¢è¢« Shell è½¬ä¹‰ï¼Œè¦å°†æ˜Ÿå·è½¬ä¹‰ã€‚ &quot;test&quot;: &quot;tap test/\\*.js&quot; å››ã€ä¼ å‚ å‘ npm è„šæœ¬ä¼ å…¥å‚æ•°ï¼Œè¦ä½¿ç”¨--æ ‡æ˜ã€‚ &quot;lint&quot;: &quot;jshint **.js&quot; å‘ä¸Šé¢çš„npm run lintå‘½ä»¤ä¼ å…¥å‚æ•°ï¼Œå¿…é¡»å†™æˆä¸‹é¢è¿™æ ·ã€‚ $ npm run lint -- --reporter checkstyle &gt; checkstyle.xml ä¹Ÿå¯ä»¥åœ¨package.jsoné‡Œé¢å†å°è£…ä¸€ä¸ªå‘½ä»¤ã€‚ &quot;lint&quot;: &quot;jshint **.js&quot;, &quot;lint:checkstyle&quot;: &quot;npm run lint -- --reporter checkstyle &gt; checkstyle.xml&quot; äº”ã€æ‰§è¡Œé¡ºåº å¦‚æœ npm è„šæœ¬é‡Œé¢éœ€è¦æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆéœ€è¦æ˜ç¡®å®ƒä»¬çš„æ‰§è¡Œé¡ºåºã€‚ å¦‚æœæ˜¯å¹¶è¡Œæ‰§è¡Œï¼ˆå³åŒæ—¶çš„å¹³è¡Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;ç¬¦å·ã€‚ $ npm run script1.js &amp; npm run script2.js å¦‚æœæ˜¯ç»§å‘æ‰§è¡Œï¼ˆå³åªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æˆåŠŸï¼Œæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;&amp;ç¬¦å·ã€‚ $ npm run script1.js &amp;&amp; npm run script2.js è¿™ä¸¤ä¸ªç¬¦å·æ˜¯ Bash çš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ node çš„ä»»åŠ¡ç®¡ç†æ¨¡å—ï¼šscript-runnerã€npm-run-allã€redrunã€‚ å…­ã€é»˜è®¤å€¼ ä¸€èˆ¬æ¥è¯´ï¼Œnpm è„šæœ¬ç”±ç”¨æˆ·æä¾›ã€‚ä½†æ˜¯ï¼Œnpm å¯¹ä¸¤ä¸ªè„šæœ¬æä¾›äº†é»˜è®¤å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªè„šæœ¬ä¸ç”¨å®šä¹‰ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ &quot;start&quot;: &quot;node server.js&quot;ï¼Œ &quot;install&quot;: &quot;node-gyp rebuild&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œnpm run startçš„é»˜è®¤å€¼æ˜¯node server.jsï¼Œå‰ææ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰server.jsè¿™ä¸ªè„šæœ¬ï¼› npm run installçš„é»˜è®¤å€¼æ˜¯node-gyp rebuildï¼Œå‰ææ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰binding.gypæ–‡ä»¶ã€‚ ä¸ƒã€é’©å­ npm è„šæœ¬æœ‰preå’Œpostä¸¤ä¸ªé’©å­ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œbuildè„šæœ¬å‘½ä»¤çš„é’©å­å°±æ˜¯prebuildå’Œpostbuildã€‚ &quot;prebuild&quot;: &quot;echo I run before the build script&quot;, &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack&quot;, &quot;postbuild&quot;: &quot;echo I run after the build script&quot; ç”¨æˆ·æ‰§è¡Œnpm run buildçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ‰§è¡Œã€‚ npm run prebuild &amp;&amp; npm run build &amp;&amp; npm run postbuild å› æ­¤ï¼Œå¯ä»¥åœ¨è¿™ä¸¤ä¸ªé’©å­é‡Œé¢ï¼Œå®Œæˆä¸€äº›å‡†å¤‡å·¥ä½œå’Œæ¸…ç†å·¥ä½œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ &quot;clean&quot;: &quot;rimraf ./dist &amp;&amp; mkdir dist&quot;, &quot;prebuild&quot;: &quot;npm run clean&quot;, &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack&quot; npm é»˜è®¤æä¾›ä¸‹é¢è¿™äº›é’©å­ã€‚ prepublishï¼Œpostpublish preinstallï¼Œpostinstall preuninstallï¼Œpostuninstall preversionï¼Œpostversion pretestï¼Œposttest prestopï¼Œpoststop prestartï¼Œpoststart prerestartï¼Œpostrestart è‡ªå®šä¹‰çš„è„šæœ¬å‘½ä»¤ä¹Ÿå¯ä»¥åŠ ä¸Špreå’Œposté’©å­ã€‚æ¯”å¦‚ï¼Œmyscriptè¿™ä¸ªè„šæœ¬å‘½ä»¤ï¼Œä¹Ÿæœ‰premyscriptå’Œpostmyscripté’©å­ã€‚ä¸è¿‡ï¼ŒåŒé‡çš„preå’Œpostæ— æ•ˆï¼Œæ¯”å¦‚prepretestå’Œpostposttestæ˜¯æ— æ•ˆçš„ã€‚ npm æä¾›ä¸€ä¸ªnpm_lifecycle_eventå˜é‡ï¼Œè¿”å›å½“å‰æ­£åœ¨è¿è¡Œçš„è„šæœ¬åç§°ï¼Œæ¯”å¦‚pretestã€testã€posttestç­‰ç­‰ã€‚æ‰€ä»¥ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªå˜é‡ï¼Œåœ¨åŒä¸€ä¸ªè„šæœ¬æ–‡ä»¶é‡Œé¢ï¼Œä¸ºä¸åŒçš„npm scriptså‘½ä»¤ç¼–å†™ä»£ç ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ const TARGET = process.env.npm_lifecycle_event; if (TARGET === 'test') { console.log(`Running the test task!`); } if (TARGET === 'pretest') { console.log(`Running the pretest task!`); } if (TARGET === 'posttest') { console.log(`Running the posttest task!`); } æ³¨æ„ï¼Œprepublishè¿™ä¸ªé’©å­ä¸ä»…ä¼šåœ¨npm publishå‘½ä»¤ä¹‹å‰è¿è¡Œï¼Œè¿˜ä¼šåœ¨npm installï¼ˆä¸å¸¦ä»»ä½•å‚æ•°ï¼‰å‘½ä»¤ä¹‹å‰è¿è¡Œã€‚è¿™ç§è¡Œä¸ºå¾ˆå®¹æ˜“è®©ç”¨æˆ·æ„Ÿåˆ°å›°æƒ‘ï¼Œæ‰€ä»¥ npm 4 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„é’©å­prepareï¼Œè¡Œä¸ºç­‰åŒäºprepublishï¼Œè€Œä» npm 5 å¼€å§‹ï¼Œprepublishå°†åªåœ¨npm publishå‘½ä»¤ä¹‹å‰è¿è¡Œã€‚ å…«ã€ç®€å†™å½¢å¼ å››ä¸ªå¸¸ç”¨çš„ npm è„šæœ¬æœ‰ç®€å†™å½¢å¼ã€‚ npm startæ˜¯npm run start npm stopæ˜¯npm run stopçš„ç®€å†™ npm testæ˜¯npm run testçš„ç®€å†™ npm restartæ˜¯npm run stop &amp;&amp; npm run restart &amp;&amp; npm run startçš„ç®€å†™ npm startã€npm stopå’Œnpm restartéƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œè€Œnpm restartæ˜¯ä¸€ä¸ªå¤åˆå‘½ä»¤ï¼Œå®é™…ä¸Šä¼šæ‰§è¡Œä¸‰ä¸ªè„šæœ¬å‘½ä»¤ï¼šstopã€restartã€startã€‚å…·ä½“çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ã€‚ prerestart prestop stop poststop restart prestart start poststart postrestart ä¹ã€å˜é‡ npm è„šæœ¬æœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå°±æ˜¯å¯ä»¥ä½¿ç”¨ npm çš„å†…éƒ¨å˜é‡ã€‚ é¦–å…ˆï¼Œé€šè¿‡npm_package_å‰ç¼€ï¼Œnpm è„šæœ¬å¯ä»¥æ‹¿åˆ°package.jsoné‡Œé¢çš„å­—æ®µã€‚æ¯”å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªpackage.jsonã€‚ { &quot;name&quot;: &quot;foo&quot;, &quot;version&quot;: &quot;1.2.5&quot;, &quot;scripts&quot;: { &quot;view&quot;: &quot;node view.js&quot; } } é‚£ä¹ˆï¼Œå˜é‡npm_package_nameè¿”å›fooï¼Œå˜é‡npm_package_versionè¿”å›1.2.5ã€‚ // view.js console.log(process.env.npm_package_name); // foo console.log(process.env.npm_package_version); // 1.2.5 ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç¯å¢ƒå˜é‡process.envå¯¹è±¡ï¼Œæ‹¿åˆ°package.jsonçš„å­—æ®µå€¼ã€‚å¦‚æœæ˜¯ Bash è„šæœ¬ï¼Œå¯ä»¥ç”¨npmpackagenameå’Œnpm_package_nameå’Œnpmpâ€‹ackagenâ€‹ameå’Œnpm_package_versionå–åˆ°è¿™ä¸¤ä¸ªå€¼ã€‚ npm_package_å‰ç¼€ä¹Ÿæ”¯æŒåµŒå¥—çš„package.jsonå­—æ®µã€‚ &quot;repository&quot;: { &quot;type&quot;: &quot;git&quot;, &quot;url&quot;: &quot;xxx&quot; }, scripts: { &quot;view&quot;: &quot;echo $npm_package_repository_type&quot; } ä¸Šé¢ä»£ç ä¸­ï¼Œrepositoryå­—æ®µçš„typeå±æ€§ï¼Œå¯ä»¥é€šè¿‡npm_package_repository_typeå–åˆ°ã€‚ ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚ &quot;scripts&quot;: { &quot;install&quot;: &quot;foo.js&quot; } ä¸Šé¢ä»£ç ä¸­ï¼Œnpm_package_scripts_installå˜é‡çš„å€¼ç­‰äºfoo.jsã€‚ ç„¶åï¼Œnpm è„šæœ¬è¿˜å¯ä»¥é€šè¿‡npm_config_å‰ç¼€ï¼Œæ‹¿åˆ° npm çš„é…ç½®å˜é‡ï¼Œå³npm config get xxxå‘½ä»¤è¿”å›çš„å€¼ã€‚æ¯”å¦‚ï¼Œå½“å‰æ¨¡å—çš„å‘è¡Œæ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡npm_config_tagå–åˆ°ã€‚ &quot;view&quot;: &quot;echo $npm_config_tag&quot;, æ³¨æ„ï¼Œpackage.jsoné‡Œé¢çš„configå¯¹è±¡ï¼Œå¯ä»¥è¢«ç¯å¢ƒå˜é‡è¦†ç›–ã€‚ { &quot;name&quot; : &quot;foo&quot;, &quot;config&quot; : { &quot;port&quot; : &quot;8080&quot; }, &quot;scripts&quot; : { &quot;start&quot; : &quot;node server.js&quot; } } ä¸Šé¢ä»£ç ä¸­ï¼Œnpm_package_config_portå˜é‡è¿”å›çš„æ˜¯8080ã€‚è¿™ä¸ªå€¼å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•è¦†ç›–ã€‚ $ npm config set foo:port 80 æœ€åï¼Œenvå‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ã€‚ &quot;env&quot;: &quot;env&quot; åã€å¸¸ç”¨è„šæœ¬ç¤ºä¾‹ // åˆ é™¤ç›®å½• &quot;clean&quot;: &quot;rimraf dist/*&quot;, // æœ¬åœ°æ­å»ºä¸€ä¸ª HTTP æœåŠ¡ &quot;serve&quot;: &quot;http-server -p 9090 dist/&quot;, // æ‰“å¼€æµè§ˆå™¨ &quot;open:dev&quot;: &quot;opener http://localhost:9090&quot;, // å®æ—¶åˆ·æ–° &quot;livereload&quot;: &quot;live-reload --port 9091 dist/&quot;, // æ„å»º HTML æ–‡ä»¶ &quot;build:html&quot;: &quot;jade index.jade &gt; dist/index.html&quot;, // åªè¦ CSS æ–‡ä»¶æœ‰å˜åŠ¨ï¼Œå°±é‡æ–°æ‰§è¡Œæ„å»º &quot;watch:css&quot;: &quot;watch 'npm run build:css' assets/styles/&quot;, // åªè¦ HTML æ–‡ä»¶æœ‰å˜åŠ¨ï¼Œå°±é‡æ–°æ‰§è¡Œæ„å»º &quot;watch:html&quot;: &quot;watch 'npm run build:html' assets/html&quot;, // éƒ¨ç½²åˆ° Amazon S3 &quot;deploy:prod&quot;: &quot;s3-cli sync ./dist/ s3://example-com/prod-site/&quot;, // æ„å»º favicon &quot;build:favicon&quot;: &quot;node scripts/favicon.js&quot;, ","link":"https://lingtin.github.io/post/dwFY5Qi4D/"},{"title":"NodeJSè¿›ç¨‹ç®¡ç†å™¨pm2","content":"pm2æ˜¯ä¸€ä¸ªå¸¦æœ‰è´Ÿè½½å‡è¡¡åŠŸèƒ½çš„Nodeåº”ç”¨çš„è¿›ç¨‹ç®¡ç†å™¨ã€‚å½“ä½ è¦æŠŠä½ çš„ç‹¬ç«‹ä»£ç åˆ©ç”¨å…¨éƒ¨çš„æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰CPUï¼Œå¹¶ä¿è¯è¿›ç¨‹æ°¸è¿œéƒ½æ´»ç€ï¼Œ0ç§’çš„é‡è½½ï¼Œ PM2æ˜¯å®Œç¾çš„ã€‚ pm2æ˜¯å¼€æºçš„åŸºäºNodejsçš„è¿›ç¨‹ç®¡ç†å™¨ï¼ŒåŒ…æ‹¬å®ˆæŠ¤è¿›ç¨‹ï¼Œç›‘æ§ï¼Œæ—¥å¿—çš„ä¸€æ•´å¥—å®Œæ•´çš„åŠŸèƒ½ï¼ŒåŸºæœ¬æ˜¯Nodejsåº”ç”¨ç¨‹åºä¸äºŒçš„å®ˆæŠ¤è¿›ç¨‹é€‰æ‹©ï¼Œäº‹å®ä¸Šå®ƒå¹¶ä¸ä»…ä»…å¯ä»¥å¯åŠ¨Nodejsçš„ç¨‹åºï¼Œåªè¦æ˜¯ä¸€èˆ¬çš„è„šæœ¬çš„ç¨‹åºå®ƒåŒæ ·å¯ä»¥èƒœä»»ã€‚ ~ã€ ä¸»è¦ç‰¹æ€§ï¼š å†…å»ºè´Ÿè½½å‡è¡¡ï¼ˆä½¿ç”¨Node cluster é›†ç¾¤æ¨¡å—ï¼‰ åå°è¿è¡Œ 0ç§’åœæœºé‡è½½ï¼ˆè¿™é¡¹åŠŸèƒ½å…è®¸ä½ é‡æ–°è½½å…¥ä»£ç è€Œä¸ç”¨å¤±å»è¯·æ±‚è¿æ¥ã€‚ï¼‰ å…·æœ‰Ubuntuå’ŒCentOS çš„å¯åŠ¨è„šæœ¬ åœæ­¢ä¸ç¨³å®šçš„è¿›ç¨‹ï¼ˆé¿å…æ— é™å¾ªç¯ï¼‰ æ§åˆ¶å°æ£€æµ‹ æä¾› HTTP API è¿œç¨‹æ§åˆ¶å’Œå®æ—¶çš„æ¥å£API ( Nodejs æ¨¡å—,å…è®¸å’ŒPM2è¿›ç¨‹ç®¡ç†å™¨äº¤äº’ ) ~ã€ ä½¿ç”¨ç¯å¢ƒï¼š ä»…èƒ½ç”¨äºwebåº”ç”¨ è¿è¡ŒäºNode 0.11.xç‰ˆæœ¬ è¿è¡Œäº cluster æ¨¡å¼ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰ ~ã€ å®‰è£… npm install -g pm2 pm2å®‰è£…å¥½åï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸‹é¢ç›®å½•ï¼š /.pm2 /.pm2/logs /.pm2/pids /.pm2/pm2.log /.pm2/pm2.pid /.pm2/rpc.sock /.pm2/pub.sock /.pm2/conf.js ~ã€ç”¨æ³• npm install pm2 -g # å‘½ä»¤è¡Œå®‰è£… pm2 pm2 start app.js -i 4 #åå°è¿è¡Œpm2ï¼Œå¯åŠ¨4ä¸ªapp.js # ä¹Ÿå¯ä»¥æŠŠ'max' å‚æ•°ä¼ é€’ç»™ start # æ­£ç¡®çš„è¿›ç¨‹æ•°ç›®ä¾èµ–äºCpuçš„æ ¸å¿ƒæ•°ç›® pm2 start app.js --name my-api # å‘½åè¿›ç¨‹ pm2 list # æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çŠ¶æ€ pm2 monit # ç›‘è§†æ‰€æœ‰è¿›ç¨‹ pm2 logs # æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹æ—¥å¿— pm2 stop all # åœæ­¢æ‰€æœ‰è¿›ç¨‹ pm2 restart all # é‡å¯æ‰€æœ‰è¿›ç¨‹ pm2 reload all # 0ç§’åœæœºé‡è½½è¿›ç¨‹ (ç”¨äº NETWORKED è¿›ç¨‹) pm2 stop 0 # åœæ­¢æŒ‡å®šçš„è¿›ç¨‹ pm2 restart 0 # é‡å¯æŒ‡å®šçš„è¿›ç¨‹ pm2 startup # äº§ç”Ÿ init è„šæœ¬ ä¿æŒè¿›ç¨‹æ´»ç€ pm2 web # è¿è¡Œå¥å£®çš„ computer API endpoint (http://localhost:9615) pm2 delete 0 # æ€æ­»æŒ‡å®šçš„è¿›ç¨‹ pm2 delete all # æ€æ­»å…¨éƒ¨è¿›ç¨‹ è¿è¡Œè¿›ç¨‹çš„ä¸åŒæ–¹å¼ï¼š $ pm2 start app.js -i max # æ ¹æ®æœ‰æ•ˆCPUæ•°ç›®å¯åŠ¨æœ€å¤§è¿›ç¨‹æ•°ç›® $ pm2 start app.js -i 3 # å¯åŠ¨3ä¸ªè¿›ç¨‹ $ pm2 start app.js -x #ç”¨forkæ¨¡å¼å¯åŠ¨ app.js è€Œä¸æ˜¯ä½¿ç”¨ cluster $ pm2 start app.js -x -- -a 23 # ç”¨forkæ¨¡å¼å¯åŠ¨ app.js å¹¶ä¸”ä¼ é€’å‚æ•° (-a 23) $ pm2 start app.js --name serverone # å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹å¹¶æŠŠå®ƒå‘½åä¸º serverone $ pm2 stop serverone # åœæ­¢ serverone è¿›ç¨‹ $ pm2 start app.json # å¯åŠ¨è¿›ç¨‹, åœ¨ app.jsoné‡Œè®¾ç½®é€‰é¡¹ $ pm2 start app.js -i max -- -a 23 #åœ¨--ä¹‹åç»™ app.js ä¼ é€’å‚æ•° $ pm2 start app.js -i max -e err.log -o out.log # å¯åŠ¨ å¹¶ ç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶ ä½ ä¹Ÿå¯ä»¥æ‰§è¡Œç”¨å…¶ä»–è¯­è¨€ç¼–å†™çš„app ( fork æ¨¡å¼): $ pm2 start my-bash-script.sh -x --interpreter bash $ pm2 start my-python-script.py -x --interpreter python pm2 list åˆ—å‡ºç”±pm2ç®¡ç†çš„æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯ï¼Œè¿˜ä¼šæ˜¾ç¤ºä¸€ä¸ªè¿›ç¨‹ä¼šè¢«å¯åŠ¨å¤šå°‘æ¬¡ï¼Œå› ä¸ºæ²¡å¤„ç†çš„å¼‚å¸¸ã€‚ pm2 monit ç›‘è§†æ¯ä¸ªnodeè¿›ç¨‹çš„CPUå’Œå†…å­˜çš„ä½¿ç”¨æƒ…å†µã€‚ ~ã€å…¥é—¨æ•™ç¨‹ æŒ‘æˆ‘ä»¬æœ€çˆ±çš„expressåº”ç”¨æ¥ä¸¾ä¾‹ã€‚ä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡npm startå¯åŠ¨åº”ç”¨ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨node ./bin/wwwã€‚é‚£ä¹ˆï¼Œæ¢æˆpm2å°±æ˜¯ pm2 start ./bin/www â€“watch è¿™é‡Œç”¨äº†â€“watchå‚æ•°ï¼Œæ„å‘³ç€å½“ä½ çš„expressåº”ç”¨ä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œpm2ä¼šå¸®ä½ é‡å¯æœåŠ¡ã€‚ ~ã€å‚æ•°è¯´æ˜ï¼š --watchï¼šç›‘å¬åº”ç”¨ç›®å½•çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œè‡ªåŠ¨é‡å¯ã€‚å¦‚æœè¦ç²¾ç¡®ç›‘å¬ã€ä¸è§å¬çš„ç›®å½•ï¼Œæœ€å¥½é€šè¿‡é…ç½®æ–‡ä»¶ã€‚ -i --instancesï¼šå¯ç”¨å¤šå°‘ä¸ªå®ä¾‹ï¼Œå¯ç”¨äºè´Ÿè½½å‡è¡¡ã€‚å¦‚æœ-i 0æˆ–è€…-i maxï¼Œåˆ™æ ¹æ®å½“å‰æœºå™¨æ ¸æ•°ç¡®å®šå®ä¾‹æ•°ç›®ã€‚ --ignore-watchï¼šæ’é™¤ç›‘å¬çš„ç›®å½•/æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç‰¹å®šçš„æ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ã€‚æ¯”å¦‚--ignore-watch=&quot;test node_modules &quot;some scripts&quot;&quot; -n --nameï¼šåº”ç”¨çš„åç§°ã€‚æŸ¥çœ‹åº”ç”¨ä¿¡æ¯çš„æ—¶å€™å¯ä»¥ç”¨åˆ°ã€‚ -o --output &lt;path&gt;ï¼šæ ‡å‡†è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ã€‚ -e --error &lt;path&gt;ï¼šé”™è¯¯è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ã€‚ --interpreter &lt;interpreter&gt;ï¼šthe interpreter pm2 should use for executing app (bash, python...)ã€‚æ¯”å¦‚ä½ ç”¨çš„coffee scriptæ¥ç¼–å†™åº”ç”¨ã€‚ å®Œæ•´å‘½ä»¤è¡Œå‚æ•°åˆ—è¡¨ï¼š pm2 start app.js â€“watch -i 2 **é…ç½®æ–‡ä»¶ ** é…ç½®æ–‡ä»¶é‡Œçš„è®¾ç½®é¡¹ï¼Œè·Ÿå‘½ä»¤è¡Œå‚æ•°åŸºæœ¬æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ å¯ä»¥é€‰æ‹©jsæˆ–è€…jsonæ–‡ä»¶ï¼Œå°±çœ‹ä¸ªäººæ´—å¥½äº†ã€‚ jsonæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œpm2å½“ä½œæ™®é€šçš„jsæ–‡ä»¶æ¥å¤„ç†ï¼Œæ‰€ä»¥å¯ä»¥åœ¨é‡Œé¢æ·»åŠ æ³¨é‡Šæˆ–è€…ç¼–å†™ä»£ç ï¼Œè¿™å¯¹äºåŠ¨æ€è°ƒæ•´é…ç½®å¾ˆæœ‰å¥½å¤„ã€‚ å¦‚æœå¯åŠ¨çš„æ—¶å€™æŒ‡å®šäº†é…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆå‘½ä»¤è¡Œå‚æ•°ä¼šè¢«å¿½ç•¥ã€‚ï¼ˆä¸ªåˆ«å‚æ•°é™¤å¤–ï¼Œæ¯”å¦‚--envï¼‰ ä¸¾ä¸ªç®€å•ä¾‹å­ï¼š { &quot;name&quot; : &quot;fis-receiver&quot;, // åº”ç”¨åç§° &quot;script&quot; : &quot;./bin/www&quot;, // å®é™…å¯åŠ¨è„šæœ¬ &quot;cwd&quot; : &quot;./&quot;, // å½“å‰å·¥ä½œè·¯å¾„ &quot;watch&quot;: [ // ç›‘æ§å˜åŒ–çš„ç›®å½•ï¼Œä¸€æ—¦å˜åŒ–ï¼Œè‡ªåŠ¨é‡å¯ &quot;bin&quot;, &quot;routers&quot; ], &quot;ignore_watch&quot; : [ // ä»ç›‘æ§ç›®å½•ä¸­æ’é™¤ &quot;node_modules&quot;, &quot;logs&quot;, &quot;public&quot; ], &quot;watch_options&quot;: { &quot;followSymlinks&quot;: false }, &quot;error_file&quot; : &quot;./logs/app-err.log&quot;, // é”™è¯¯æ—¥å¿—è·¯å¾„ &quot;out_file&quot; : &quot;./logs/app-out.log&quot;, // æ™®é€šæ—¥å¿—è·¯å¾„ &quot;env&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot; // ç¯å¢ƒå˜é‡ï¼Œobjectç±»å‹ï¼Œå¦‚{&quot;NODE_ENV&quot;:&quot;production&quot;, &quot;ID&quot;: &quot;42&quot;}ï¼› }, &quot;instances&quot; : &quot;max&quot;, // å¼€å¯è¿›ç¨‹æ•°ï¼Œå¯ä¸ºæ•°å€¼ï¼Œä¹Ÿå¯ä¸ºmaxã€‚ä¸æœåŠ¡å™¨cpuæ ¸æ•°ç›¸å…³ã€‚åº”ç”¨å¯åŠ¨å®ä¾‹ä¸ªæ•°ï¼Œä»…åœ¨clusteræ¨¡å¼æœ‰æ•ˆï¼Œé»˜è®¤ä¸ºforkï¼› &quot;exec_mode&quot; : &quot;cluster&quot; // åº”ç”¨å¯åŠ¨æ¨¡å¼ï¼Œæ”¯æŒforkå’Œclusteræ¨¡å¼ï¼›cluster(å¤šæ ¸æ¨è) &quot;min_uptime&quot;: &quot;60s&quot;, // åº”ç”¨è¿è¡Œå°‘äºæ—¶é—´è¢«è®¤ä¸ºæ˜¯å¼‚å¸¸å¯åŠ¨ï¼› &quot;max_restarts&quot;: 30, // æœ€å¤§å¼‚å¸¸é‡å¯æ¬¡æ•°ï¼Œå³å°äºmin_uptimeè¿è¡Œæ—¶é—´é‡å¯æ¬¡æ•°ï¼› &quot;max_memory_restart&quot;: &quot;300M&quot;, // æœ€å¤§å†…å­˜é™åˆ¶æ•°ï¼Œè¶…å‡ºè‡ªåŠ¨é‡å¯ï¼› &quot;autorestart&quot;: true, // é»˜è®¤ä¸ºtrue, å‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µä¸‹è‡ªåŠ¨é‡å¯ï¼› } pm2å¯åŠ¨æ–‡ä»¶ï¼Œ pm2 init åˆ›å»ºä¸€ä¸ªecosystem.config.jsçš„ç¤ºä¾‹æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š module.exports = { &quot;apps&quot;:[ { &quot;name&quot;: &quot;test&quot;, &quot;cwd&quot;: &quot;/data/wwwroot/nodejs&quot;, &quot;script&quot;: &quot;./test.sh&quot;, &quot;exec_interpreter&quot;: &quot;bash&quot;, &quot;min_uptime&quot;: &quot;60s&quot;, &quot;max_restarts&quot;: 30, &quot;exec_mode&quot; : &quot;cluster_mode&quot;, &quot;error_file&quot; : &quot;./test-err.log&quot;, &quot;out_file&quot;: &quot;./test-out.log&quot;, &quot;pid_file&quot;: &quot;./test.pid&quot; &quot;watch&quot;: false } ]} ~ã€å‚æ•°è¯´æ˜ï¼š appsï¼šjsonç»“æ„ï¼Œappsæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸€ä¸ªæ•°ç»„æˆå‘˜å°±æ˜¯å¯¹åº”ä¸€ä¸ªpm2ä¸­è¿è¡Œçš„åº”ç”¨ nameï¼šåº”ç”¨ç¨‹åºçš„åç§° cwdï¼šåº”ç”¨ç¨‹åºæ‰€åœ¨çš„ç›®å½• scriptï¼šåº”ç”¨ç¨‹åºçš„è„šæœ¬è·¯å¾„ exec_interpreterï¼šåº”ç”¨ç¨‹åºçš„è„šæœ¬ç±»å‹ï¼Œè¿™é‡Œä½¿ç”¨çš„shellï¼Œé»˜è®¤æ˜¯nodejs min_uptimeï¼šæœ€å°è¿è¡Œæ—¶é—´ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯60så³å¦‚æœåº”ç”¨ç¨‹åºåœ¨60så†…é€€å‡ºï¼Œpm2ä¼šè®¤ä¸ºç¨‹åºå¼‚å¸¸é€€å‡ºï¼Œæ­¤æ—¶è§¦å‘é‡å¯max_restartsè®¾ç½®æ•°é‡ autorestart é»˜è®¤ä¸ºtrue, å‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µä¸‹è‡ªåŠ¨é‡å¯ï¼› max_restartsï¼šè®¾ç½®åº”ç”¨ç¨‹åºå¼‚å¸¸é€€å‡ºé‡å¯çš„æ¬¡æ•°ï¼Œé»˜è®¤15æ¬¡ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰ exec_modeï¼šåº”ç”¨ç¨‹åºå¯åŠ¨æ¨¡å¼ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯clusterï¼ˆé›†ç¾¤ï¼‰ï¼Œé»˜è®¤æ˜¯fork error_fileï¼šè‡ªå®šä¹‰åº”ç”¨ç¨‹åºçš„é”™è¯¯æ—¥å¿—æ–‡ä»¶ out_fileï¼šè‡ªå®šä¹‰åº”ç”¨ç¨‹åºæ—¥å¿—æ–‡ä»¶ pid_fileï¼šè‡ªå®šä¹‰åº”ç”¨ç¨‹åºçš„pidæ–‡ä»¶ watchï¼šæ˜¯å¦å¯ç”¨ç›‘æ§æ¨¡å¼ï¼Œé»˜è®¤æ˜¯falseã€‚å¦‚æœè®¾ç½®æˆtrueï¼Œå½“åº”ç”¨ç¨‹åºå˜åŠ¨æ—¶ï¼Œpm2ä¼šè‡ªåŠ¨é‡è½½ã€‚è¿™é‡Œä¹Ÿå¯ä»¥è®¾ç½®ä½ è¦ç›‘æ§çš„æ–‡ä»¶ã€‚ max_memory_restartï¼šå½“å†…å­˜è¶…è¿‡è®¾ç½®çš„æ•°é‡æ—¶è‡ªåŠ¨é‡å¯ã€‚ å¦‚æœå·¥ç¨‹ä¸­æœ‰æ¯”è¾ƒæ£˜æ‰‹çš„å†…å­˜æ³„éœ²é—®é¢˜ï¼Œè¿™ä¸ªç®—æ˜¯ä¸€ä¸ªæŠ˜ä¸­æ–¹æ¡ˆã€‚ instancesï¼š å¯ç”¨å¤šå°‘ä¸ªå®ä¾‹ï¼Œå¯ç”¨äºè´Ÿè½½å‡è¡¡ã€‚ä»…åœ¨clusteræ¨¡å¼æœ‰æ•ˆï¼Œé»˜è®¤ä¸ºforkï¼› cron_restart crontabæ—¶é—´æ ¼å¼ï¼Œå®šæ—¶é‡å¯åº”ç”¨ï¼Œç›®å‰åªæ”¯æŒclusteræ¨¡å¼ï¼› è¿è¡Œå®ä¾‹ï¼šå·²ä¸Šé¢çš„test.jsonä¸ºä¾‹ pm2 start ecosystem.config.js ~ã€ç¯å¢ƒåˆ‡æ¢ åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç»å¸¸éœ€è¦åœ¨å¤šä¸ªç¯å¢ƒä¸‹éƒ¨ç½²ï¼Œæ¯”å¦‚å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒç­‰ã€‚åœ¨ä¸åŒç¯å¢ƒä¸‹ï¼Œæœ‰æ—¶å€™é…ç½®é¡¹ä¼šæœ‰å·®å¼‚ï¼Œæ¯”å¦‚é“¾æ¥çš„æ•°æ®åº“åœ°å€ä¸åŒç­‰ã€‚ å¯¹äºè¿™ç§åœºæ™¯ï¼Œpm2ä¹Ÿæ˜¯å¯ä»¥å¾ˆå¥½æ”¯æŒçš„ã€‚é¦–å…ˆé€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡env_xxæ¥å£°æ˜ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œç„¶ååœ¨å¯åŠ¨åº”ç”¨æ—¶ï¼Œé€šè¿‡â€“envå‚æ•°æŒ‡å®šè¿è¡Œçš„ç¯å¢ƒã€‚ é¦–å…ˆï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡envé€‰é¡¹å£°æ˜å¤šä¸ªç¯å¢ƒé…ç½®ã€‚ç®€å•è¯´æ˜ä¸‹ï¼š envä¸ºé»˜è®¤çš„ç¯å¢ƒé…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œenv_devã€env_teståˆ™åˆ†åˆ«æ˜¯å¼€å‘ã€æµ‹è¯•ç¯å¢ƒã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒç¯å¢ƒä¸‹çš„NODE_ENVã€REMOTE_ADDRå­—æ®µçš„å€¼æ˜¯ä¸åŒçš„ã€‚ åœ¨åº”ç”¨ä¸­ï¼Œå¯ä»¥é€šè¿‡process.env.REMOTE_ADDRç­‰æ¥è¯»å–é…ç½®ä¸­ç”Ÿå‘½çš„å˜é‡ã€‚ ä¾‹å¦‚ï¼š &quot;env&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot;,&quot;REMOTE_ADDR&quot;: &quot;http://www.example.com/&quot;} &quot;env_dev&quot;: { &quot;NODE_ENV&quot;: &quot;development&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://wdev.example.com/&quot;} â€‹&quot;env_test&quot;: { &quot;NODE_ENV&quot;: &quot;test&quot;, &quot;REMOTE_ADDR&quot;: &quot;http://wtest.example.com/&quot;} å¯åŠ¨æŒ‡æ˜ç¯å¢ƒï¼šå‡è®¾é€šè¿‡ä¸‹é¢å¯åŠ¨è„šæœ¬ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼Œé‚£ä¹ˆï¼Œæ­¤æ—¶process.env.REMOTE_ADDRçš„å€¼å°±æ˜¯ç›¸åº”çš„é“¾æ¥åœ°å€ pm2 start app.js --env dev ~ã€è´Ÿè½½å‡è¡¡ å‘½ä»¤å¦‚ä¸‹ï¼Œè¡¨ç¤ºå¼€å¯ä¸‰ä¸ªè¿›ç¨‹ã€‚å¦‚æœ-i 0ï¼Œåˆ™ä¼šæ ¹æ®æœºå™¨å½“å‰æ ¸æ•°è‡ªåŠ¨å¼€å¯å°½å¯èƒ½å¤šçš„è¿›ç¨‹ã€‚ m2 start app.js -i 3 # å¼€å¯ä¸‰ä¸ªè¿›ç¨‹ â€‹pm2 start app.js -i max # æ ¹æ®æœºå™¨CPUæ ¸æ•°ï¼Œå¼€å¯å¯¹åº”æ•°ç›®çš„è¿›ç¨‹ æ—¥å¿—æŸ¥çœ‹ é™¤äº†å¯ä»¥æ‰“å¼€æ—¥å¿—æ–‡ä»¶æŸ¥çœ‹æ—¥å¿—å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡pm2 logsæ¥æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚è¿™ç‚¹å¯¹äºçº¿ä¸Šé—®é¢˜æ’æŸ¥éå¸¸é‡è¦ã€‚ æ¯”å¦‚æŸä¸ªnodeæœåŠ¡çªç„¶å¼‚å¸¸é‡å¯äº†ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡pm2æä¾›çš„æ—¥å¿—å·¥å…·æ¥æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼Œçœ‹æ˜¯ä¸æ˜¯è„šæœ¬å‡ºé”™ä¹‹ç±»å¯¼è‡´çš„å¼‚å¸¸é‡å¯ã€‚ pm2 logs ~ã€å¼€æœºè‡ªåŠ¨å¯åŠ¨ å¯ä»¥é€šè¿‡pm2 startupæ¥å®ç°å¼€æœºè‡ªå¯åŠ¨ã€‚å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š é€šè¿‡pm2 saveä¿å­˜å½“å‰è¿›ç¨‹çŠ¶æ€ã€‚ é€šè¿‡pm2 startup [platform]ç”Ÿæˆå¼€æœºè‡ªå¯åŠ¨çš„å‘½ä»¤ã€‚ï¼ˆè®°å¾—æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼‰ å°†æ­¥éª¤2ç”Ÿæˆçš„å‘½ä»¤ï¼Œç²˜è´´åˆ°æ§åˆ¶å°è¿›è¡Œï¼Œæå®šã€‚ è‡ªåŠ¨é‡å¯åº”ç”¨ forkä¸æ”¯æŒå®šæ—¶é‡å¯ï¼Œclusteræ”¯æŒå®šæ—¶é‡å¯ã€‚å®šæ—¶é‡å¯ä¹Ÿå°±æ˜¯é…ç½®ä¸­çš„cron_restarté…ç½®é¡¹ã€‚ ~ã€ç›‘æ§(monitor) è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰é€šè¿‡pm2è¿è¡Œçš„è¿›ç¨‹çš„çŠ¶æ€ã€‚ pm2 monit å†…å­˜ä½¿ç”¨è¶…è¿‡ä¸Šé™è‡ªåŠ¨é‡å¯ å¦‚æœæƒ³è¦ä½ çš„åº”ç”¨ï¼Œåœ¨è¶…è¿‡ä½¿ç”¨å†…å­˜ä¸Šé™åè‡ªåŠ¨é‡å¯ï¼Œé‚£ä¹ˆå¯ä»¥åŠ ä¸Šâ€“max-memory-restartå‚æ•°ã€‚ï¼ˆæœ‰å¯¹åº”çš„é…ç½®é¡¹ï¼‰ pm2 start big-array.js â€“max-memory-restart 20M å¦‚æœä½ ä¸ä»…ä»…æƒ³ç›‘æ§è¢«pm2ç®¡ç†çš„è¿›ç¨‹ï¼Œè¿˜éœ€è¦ç›‘æ§è¿›ç¨‹æ‰€è¿è¡Œçš„æœºå™¨çš„ä¿¡æ¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªAPIã€‚ pm2 web pm2ä¼šå¯åŠ¨ä¸€ä¸ªå«åšpm2-http-interfaceçš„è¿›ç¨‹æä¾›webæœåŠ¡ã€‚ä½ æ‰“å¼€æµè§ˆå™¨è¾“å…¥ httpï¼š//127.0.0.1:9615ï¼Œæ˜¯ä¸æ˜¯è¢«çœ‹åˆ°çš„ç»“æœæƒŠè‰³åˆ°äº†ã€‚ ~ã€ç¨³å®šè¿è¡Œå»ºè®® PM2æ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„Nodeè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå®ƒæœ‰ç€ä¸°å¯Œçš„ç‰¹æ€§ï¼šèƒ½å¤Ÿå……åˆ†åˆ©ç”¨å¤šæ ¸CPUä¸”èƒ½å¤Ÿè´Ÿè½½å‡è¡¡ã€èƒ½å¤Ÿå¸®åŠ©åº”ç”¨åœ¨å´©æºƒåã€æŒ‡å®šæ—¶é—´(cluster model)å’Œè¶…å‡ºæœ€å¤§å†…å­˜é™åˆ¶ç­‰æƒ…å†µä¸‹å®ç°è‡ªåŠ¨é‡å¯ã€‚ ä¸ªäººå‡ ç‚¹çœ‹æ³•ä¿è¯å¸¸é©»åº”ç”¨è¿›ç¨‹ç¨³å®šè¿è¡Œï¼š å®šæ—¶é‡å¯ï¼Œåº”ç”¨è¿›ç¨‹è¿è¡Œæ—¶é—´ä¹…äº†æˆ–è®¸æ€»ä¼šäº§ç”Ÿä¸€äº›æ„æ–™ä¹‹å¤–çš„é—®é¢˜ï¼Œå®šæ—¶å¯ä»¥è§„é¿ä¸€äº›ä¸å¯æµ‹çš„æƒ…å†µï¼› æœ€å¤§å†…å­˜é™åˆ¶ï¼Œæ ¹æ®è§‚å¯Ÿè®¾å®šåˆç†å†…å­˜é™åˆ¶ï¼Œä¿è¯åº”ç”¨å¼‚å¸¸è¿è¡Œï¼› åˆç†min_uptimeï¼Œmin_uptimeæ˜¯åº”ç”¨æ­£å¸¸å¯åŠ¨çš„æœ€å°æŒç»­è¿è¡Œæ—¶é•¿ï¼Œè¶…å‡ºæ­¤æ—¶é—´åˆ™è¢«åˆ¤å®šä¸ºå¼‚å¸¸å¯åŠ¨ï¼› è®¾å®šå¼‚å¸¸é‡å¯å»¶æ—¶restart_delayï¼Œå¯¹äºå¼‚å¸¸æƒ…å†µå¯¼è‡´åº”ç”¨åœæ­¢ï¼Œè®¾å®šå¼‚å¸¸é‡å¯å»¶è¿Ÿå¯é˜²æ­¢åº”ç”¨åœ¨ä¸å¯æµ‹æƒ…å†µä¸‹ä¸æ–­é‡å¯çš„å¯¼è‡´é‡å¯æ¬¡æ•°è¿‡å¤šç­‰é—®é¢˜ï¼› è®¾ç½®å¼‚å¸¸é‡å¯æ¬¡æ•°ï¼Œå¦‚æœåº”ç”¨ä¸æ–­å¼‚å¸¸é‡å¯ï¼Œå¹¶è¶…è¿‡ä¸€å®šçš„é™åˆ¶æ¬¡æ•°ï¼Œè¯´æ˜æ­¤æ—¶çš„ç¯å¢ƒé•¿æ—¶é—´å¤„äºä¸å¯æ§çŠ¶æ€ï¼ŒæœåŠ¡å™¨å¼‚å¸¸ã€‚æ­¤æ—¶ä¾¿å¯åœæ­¢å°è¯•ï¼Œå‘å‡ºé”™è¯¯è­¦å‘Šé€šçŸ¥ç­‰ã€‚ ","link":"https://lingtin.github.io/post/mzEtFKB0d/"},{"title":"Nuxt+PM2éƒ¨ç½²ï¼Œä½¿ç”¨ecosystem.configå¯åŠ¨ä¸å¼€å‘ç»éªŒ","content":"ğŸ˜…ğŸ˜…GITåœ°å€; https://gitee.com/lingtin/common_template_admin ecosystem.config module.exports = { &quot;apps&quot;: [{ &quot;name&quot;: &quot;mp&quot;, &quot;script&quot;: &quot;server/index.js&quot;, &quot;log_date_format&quot;: &quot;YYYY-MM-DD HH:mm:ss&quot;, &quot;error_file&quot;: &quot;log/node-app/node-app.error.log&quot;, &quot;out_file&quot;: &quot;log/node-app.out.log&quot;, &quot;instances&quot;: 3, &quot;min_uptime&quot;: &quot;1000s&quot;, &quot;max_restarts&quot;: 30, &quot;max_memory_restart&quot;: &quot;1G&quot;, &quot;merge_logs&quot;: false, &quot;exec_mode&quot;: &quot;cluster_mode&quot;, &quot;autorestart&quot;: true, &quot;vizion&quot;: false, &quot;exec_interpreter&quot;: &quot;node&quot;, &quot;env&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot; // ç¯å¢ƒå˜é‡ï¼Œobjectç±»å‹ï¼Œå¦‚{&quot;NODE_ENV&quot;:&quot;production&quot;, &quot;ID&quot;: &quot;42&quot;}ï¼› }, &quot;env_production&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot;, } }] } nuxt.config const PUR = process.env.npm_package_config_nuxt_base_url; const base_url = process.env.NODE_ENV != 'development' ? PUR : 'http://192.168.0.125:8074/' console.log('base_url:' + base_url) const proxy_url = process.env.NODE_ENV != 'development' ? base_url : &quot;/api&quot;; const webmp = process.env.npm_package_config_nuxt_webmp; console.log('spa:' + process.env.NODE_MODE) console.log('NODE_ENV:' + process.env.NODE_ENV) module.exports = { mode: process.env.NODE_MODE ? 'spa' : '', /* ** Headers of the page */ head: { title: &quot;&quot;, meta: [{ charset: 'utf-8' }, { name: 'viewport', content: 'width=device-width, initial-scale=1' }, { hid: 'description', name: 'description', content: &quot;&quot; } ], link: [{ rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }] }, /* ** Customize the progress-bar color */ loading: { color: '#3399ff' }, pageTransition: &quot;bounce&quot;, /* ** Global CSS */ css: [ 'iview/dist/styles/iview.css', '@/static/styles/comm.css' ], /* ** Plugins to load before mounting the App */ plugins: [ '@/plugins/iview', '@/plugins/defa', '@/plugins/storage', '@/plugins/axios', '@/plugins/apis/user', '@/plugins/apis/sys', { src: '@/plugins/validate', mode: 'client' }, { src: '@/plugins/auth', mode: 'client' } ], /* ** Nuxt.js modules */ env: { baseUrl: base_url }, modules: [ // Doc: https://axios.nuxtjs.org/usage '@nuxtjs/axios', '@nuxtjs/moment' ], moment: { locales: ['es-us'] }, /* ** Axios module configuration */ axios: { proxy: true, // Can be also an object with default options baseURL: proxy_url, browserBaseURL: proxy_url, }, proxy: { '/api/': { target: base_url, pathRewrite: { '^/api': '' } }, '/public': { target: base_url, pathRewrite: { '^/public': '/public/' } } }, router: { // åœ¨æ¯é¡µæ¸²æŸ“å‰è¿è¡Œ middleware/user-agent.js ä¸­é—´ä»¶çš„é€»è¾‘ middleware: ['user-agent', 'auth'], // æ‰€æœ‰é¡µé¢æ¸²æŸ“åæ»šåŠ¨è‡³é¡¶éƒ¨ scrollBehavior: function(to, from, savedPosition) { return { // x: 0, y: 0 } }, // æ‰©å±•è‡ªå®šä¹‰è·¯ç”± extendRoutes(routes, resolve) { routes.push({ name: '404', path: '*', component: resolve(__dirname, 'pages/Error/404.vue') }) }, base: process.env.NODE_MODE ? `/${webmp}/` : '' }, /* ** Build configuration */ build: { /* ** You can extend webpack config here */ extend(config, ctx) {}, terser: { sourceMap: false, } }, buildDir: 'nuxt-dist', generate: { dir: webmp }, } ","link":"https://lingtin.github.io/post/Mwak-ivNk/"},{"title":"pm2è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨æœåŠ¡","content":"è‡ªåŠ¨å¯åŠ¨çš„ç›®çš„æ˜¯ä¿å­˜æ‚¨çš„è¿›ç¨‹åˆ—è¡¨ï¼Œå¹¶åœ¨è®¡ç®—æœºé‡å¯ç”šè‡³å‡ºç°æ„å¤–æ—¶å°†å…¶æ¢å¤ã€‚ æ¯ä¸ªæ“ä½œç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„å·¥å…·æ¥å¤„ç†å¯åŠ¨æŒ‚é’©ï¼špm2æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç”Ÿæˆå’Œé…ç½®å®ƒä»¬ã€‚ è®¾ç½®pm2 æ ¹æ®æœåŠ¡å™¨å¼€å…³æœº è‡ªå¯åŠ¨ **åªéœ€è¦å‡ ä¸ªå‘½ä»¤ ** ~ã€ å¯åŠ¨è¿›ç¨‹ sudo pm2 start app ~ã€ ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨ ä¸€æ—¦å¯åŠ¨äº†è¦ç®¡ç†çš„æ‰€æœ‰åº”ç”¨ç¨‹åºï¼Œå°±å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤å°†è¯¥åˆ—è¡¨ä¿å­˜åœ¨é¢„æœŸçš„/æ„å¤–çš„æœåŠ¡å™¨é‡æ–°å¯åŠ¨ä¹‹ä¸­ï¼š $ sudo pm2 save å®ƒä¼šå°†å…·æœ‰ç›¸åº”ç¯å¢ƒçš„è¿›ç¨‹åˆ—è¡¨ä¿å­˜åˆ°è½¬å‚¨æ–‡ä»¶ä¸­$PM2_HOME/.pm2/dump.pm2 ~ã€ æ£€æµ‹è®¡ç®—æœºä¸Šå¯ç”¨çš„initç³»ç»Ÿå¹¶ç”Ÿæˆé…ç½® æŠŠç°æœ‰å·²å¯åŠ¨æœåŠ¡åŠ åˆ°systemdä¸­ $ sudo pm2 startup $ sudo su -c &quot;env PATH=$PATH:/home/unitech/.nvm/versions/node/v4.3/bin pm2 startup ä½¿ç”¨NVMæ—¶ï¼Œæ­¤pm2è·¯å¾„ä¼šåœ¨æ›´æ–°Node.jsæ—¶æ”¹å˜ã€‚ æ¯æ¬¡æ›´æ–°åæ‚¨éƒ½éœ€è¦è¿è¡Œstartupå‘½ä»¤ã€‚ ~ã€ é‡å¯æœåŠ¡å™¨ï¼Œå‘ç°ä¹‹å‰çš„æœåŠ¡éƒ½å·²ç»å¯åŠ¨ $ sudo reboot ~ã€ åˆ é™¤è‡ªåŠ¨å¯åŠ¨æœåŠ¡ $ sudo pm2 unstartup systemd // å¦‚æœä¸ç”Ÿæ•ˆï¼š æ£€æŸ¥æ˜¯å¦æ˜¯ä»¥sudoæ‰§è¡Œï¼Œæˆ–è€…æ˜¯ç”¨suç”¨æˆ·æ“ä½œ pm2 save ä¹‹åçš„æ–‡ä»¶æ˜¯å¦æœ‰å†…å®¹ ~ã€åº”ç”¨ä¾èµ–çš„å…¶å®ƒè¿›ç¨‹æ˜¯å¦åº”å¯åŠ¨å®Œæˆï¼Œä¾‹å¦‚åœ¨æ‰§è¡Œ $ pm2 unstartup systemd å³ä½¿å·²ç»pm2 delete appï¼Œé‡å¯åä¾ç„¶ä¼šå¯åŠ¨æœåŠ¡ã€‚ ~ã€ æ›´æ–°å¯åŠ¨è„šæœ¬ è¦æ›´æ–°å¯åŠ¨è„šæœ¬ï¼ˆä¾‹å¦‚ï¼Œæ‚¨é€šè¿‡NVMæ›´æ”¹äº†Node.jsç‰ˆæœ¬ï¼‰ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š $ pm2 unstartup $ pm2 startup ","link":"https://lingtin.github.io/post/sd8U-nLsh/"},{"title":"ä½¿ç”¨ pm2-web ç›‘æ§ pm2 æœåŠ¡è¿è¡ŒçŠ¶æ€","content":"pm2-web æ˜¯ä¸€æ¬¾ pm2 æœåŠ¡çŠ¶æ€ç›‘æ§ç¨‹åºï¼ŒåŸºäº web ã€‚ ~ å®‰è£… $ npm install -g pm2-web ~ è¿è¡Œ(é»˜è®¤æ˜¯åœ¨8080ç«¯å£) $ pm2-web ~ é…ç½® pm2-web å°†ä¼šåŠ è½½é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ pm2-web will load one of the following files if they exist (in order of preference) A file specified by the --config /path/to/config.json argument From the current users' home directory: ~/.config/pm2-web/config.json A global configuration file: /etc/pm2-web/config.json ~ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ é€šè¿‡ --config yourFile æŒ‡å®šåŠ è½½çš„é…ç½®æ–‡ä»¶ æ–°å»º pm2-web-config.json æ–‡ä»¶: { &quot;www&quot;: { &quot;host&quot;: &quot;localhost&quot;, &quot;address&quot;: &quot;0.0.0.0&quot;, &quot;port&quot;: 10016 } } ~ è¿è¡Œ pm2-web: $pm2-web --config pm2-web-config.json è®¿é—® localhost:10016 å¯ä»¥åœ¨ web ç•Œé¢æŸ¥çœ‹ pm2 æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼Œç‚¹å‡»æŒ‰é’®è¿›è¡Œ stop restart reload ç­‰æ“ä½œã€‚ å¯ä»¥æŸ¥çœ‹å„ä¸ªæœåŠ¡çš„å†…å­˜ã€CPUä½¿ç”¨æƒ…å†µï¼Œæ—¥å¿—ç­‰ã€‚ ","link":"https://lingtin.github.io/post/kOpXwFi33/"},{"title":"LinuxæŸ¥çœ‹ç«¯å£å ç”¨è¿›ç¨‹ï¼Œæ ¹æ®PID killæ‰ç›¸å…³è¿›ç¨‹","content":"æœ¬æ–‡ä»‹ç»Linuxå¸¸è§„æ“ä½œï¼šæŸ¥çœ‹ç«¯å£å ç”¨è¿›ç¨‹ï¼Œæ ¹æ®PID killæ‰ç›¸å…³è¿›ç¨‹ã€‚å¦å¤–è¡¥å……ï¼šæ ¹æ®ç¨‹åºåæŸ¥çœ‹è¿›ç¨‹PIDã€‚ é¦–å…ˆï¼Œä¸¤æ¡å‘½ä»¤ï¼Œlsofå‘½ä»¤å’Œnetstatå‘½ä»¤ã€‚ æ–¹å¼ä¸€ï¼šlsofå‘½ä»¤ 1ã€æŸ¥çœ‹å ç”¨ç«¯å£è¿›ç¨‹çš„PIDï¼š lsof -i:{ç«¯å£å·} 2ã€æ ¹æ®PID killæ‰ç›¸å…³è¿›ç¨‹ï¼š kill -9 {PID} æ–¹å¼äºŒï¼šnetstatå‘½ä»¤ 1ã€æŸ¥çœ‹å ç”¨ç«¯å£è¿›ç¨‹çš„PIDï¼š netstat -tunlp|grep {port} 2ã€killæ–¹æ³•å¦‚ä¸Šã€‚ kill -9 {PID} è¡¥å……ï¼šæ ¹æ®ç¨‹åºåæŸ¥çœ‹å¯¹åº”çš„PID 1ã€ç”¨pså‘½ä»¤ï¼ˆzbä¸“ç”¨ï¼‰ï¼š ps -ef | grep {programName} kill -9 {PID} 2ã€ç”¨pgrepå‘½ä»¤ï¼š pgrepå‘½ä»¤çš„pè¡¨æ˜äº†è¿™ä¸ªå‘½ä»¤æ˜¯ä¸“é—¨ç”¨äºè¿›ç¨‹æŸ¥è¯¢çš„grepã€‚ pgrep {programName} kill -9 {PID} éš”å¾ˆé•¿æ—¶é—´ä¸ç”¨ï¼Œå°±å¿˜äº†ï¼Œæ•…è®°ä¸‹ï¼ åŸæ–‡ï¼šhttps://blog.csdn.net/whdxjbw/article/details/80681191 ","link":"https://lingtin.github.io/post/O4ELn5ZNI/"},{"title":"CSSä¸­å¦‚ä½•è®©æ–‡å­—æ˜¾ç¤ºæ–¹å¼ä»å³è¾¹å¼€å§‹","content":"æ–‡å­—å³å¯¹é½ã€‚å‘å·¦æ’è¡¨ã€‚è¶…è¿‡å®¹å™¨æ—¶çœç•¥ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±æœ‰ä¸€ä¸ªéå¸¸é™Œç”Ÿçš„å±æ€§æ´¾ä¸Šäº†ç”¨åœºã€‚å°±æ˜¯ ï¼š direction: rtl è¿™ä¸ªå±æ€§è§„å®šæ–‡æœ¬çš„æ–¹å‘ / ä¹¦å†™æ–¹å‘æ˜¯ä»å³åˆ°å·¦çš„ã€‚ a { display:inline-block; width:100%; white-space:nowrap; text-overflow:ellipsis; -o-text-overflow:ellipsis; overflow: hidden; direction: rtl; } ç„¶åæˆ‘ä»¬å†åŠ ä¸Šè¶…è¿‡å®¹å™¨çœç•¥æ–‡å­—ï¼š a { display:inline-block; width:100%; white-space:nowrap; text-overflow:ellipsis; -o-text-overflow:ellipsis; overflow: hidden; -webkit-line-clamp: 1; //åœ¨ç¬¬å‡ è¡Œåå¼€å§‹çœç•¥ direction: rtl; } æœ€ç»ˆæ•ˆæœä¾¿å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ–‡ç« æ¥æºï¼šhttp://wsovo.lofter.com/post/27f1a4_8b601df ","link":"https://lingtin.github.io/post/gxWG-0DqO/"},{"title":"VsCodeä¸­å®‰è£…GO Toolså’ŒGoLintå¤±è´¥çš„é—®é¢˜","content":"åœ¨å®‰è£…goæ’ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨æ›´æ–°å¾ˆå¤šä¾èµ–åº“æ–‡ä»¶ï¼Œéƒ½æ˜¯ä»Githubæ›´æ–°ä¸‹æ¥ï¼Œä½†æ˜¯å› ä¸ºGithubçš„æ–‡ä»¶ä¸­ï¼Œå¤šæœ‰åº”ç”¨goå®˜ç½‘ä¸­çš„æ–‡ä»¶ï¼Œå¯¼è‡´ï¼Œå› ä¸ºç½‘ç»œç¼˜æ•…ï¼Œä¸èƒ½ç›´æ¥ä¸‹è½½ï¼Œå¯¼è‡´å®‰è£…å¤±è´¥ Installing github.com/nsf/gocode SUCCEEDED Installing github.com/uudashr/gopkgs/cmd/gopkgs SUCCEEDED Installing github.com/ramya-rao-a/go-outline FAILED Installing github.com/acroca/go-symbols FAILED Installing golang.org/x/tools/cmd/guru FAILED Installing golang.org/x/tools/cmd/gorename FAILED Installing github.com/fatih/gomodifytags SUCCEEDED Installing github.com/haya14busa/goplay/cmd/goplay SUCCEEDED Installing github.com/josharian/impl FAILED Installing github.com/rogpeppe/godef SUCCEEDED Installing sourcegraph.com/sqs/goreturns FAILED Installing github.com/golang/lint/golint FAILED Installing github.com/cweill/gotests/... FAILED Installing github.com/derekparker/delve/cmd/dlv SUCCEEDED 8 tools failed to install. è¿™äº›å¤±è´¥çš„åº“ï¼Œä¸æ˜¯æ²¡æœ‰ä¸‹è½½ä¸‹æ¥ï¼Œè€Œæ˜¯ä»¥æ¥çš„æ–‡ä»¶åœ¨goå®˜ç½‘ä¸Šï¼Œå¯¼è‡´å¤±è´¥ã€‚ä»¥ä¸‹ä¸ºè§£å†³åŠæ³•ï¼Œ 1ã€åœ¨%GOPATH%\\src\\ ç›®å½•ä¸‹ï¼Œå»ºç«‹golang.org æ–‡ä»¶å¤¹ï¼Œå¹¶å†æ–°å»ºxæ–‡ä»¶å¤¹ã€‚ ç›®å½•ä¸º &quot;%GOPATH\\src\\golang.org\\x&quot; 2ã€å®Œæˆç›®å½•åˆ‡æ¢åï¼Œå¼€å§‹ä¸‹è½½æ’ä»¶åŒ…ï¼š git clone https://github.com/golang/tools.git tools 3ã€æ‰§è¡Œå®Œä»¥åï¼Œä¼šå¤šä¸€ä¸ªtoolsæ–‡ä»¶å¤¹ã€‚ 4ã€æ‰“å¼€vsCodeç»ˆç«¯ï¼Œåˆ‡æ¢åˆ° ç»ˆç«¯ï¼Œè¿›å…¥â€œ%GOPATHâ€ç›®å½•,æ‰§è¡Œ go install github.com/ramya-rao-a/go-outline go install github.com/acroca/go-symbols go install golang.org/x/tools/cmd/guru go install golang.org/x/tools/cmd/gorename go install github.com/josharian/impl go install github.com/rogpeppe/godef go install github.com/sqs/goreturns go install github.com/golang/lint/golint go install github.com/cweill/gotests/gotests go install github.com/ramya-rao-a/go-outline go install github.com/acroca/go-symbols go install golang.org/x/tools/cmd/guru go install golang.org/x/tools/cmd/gorename go install github.com/josharian/impl go install github.com/rogpeppe/godef go install github.com/sqs/goreturns go install github.com/golang/lint/golint go install github.com/cweill/gotests/gotests æŒ‰æ­¤æ–¹æ³•ï¼Œå¯ä»¥å®‰è£…æˆåŠŸã€‚ åé¢ golintå®‰è£…æ–¹å¼ ç™¾åº¦å¾ˆå¤šæ–¹æ³• = = åœ¨cmdä¸­åˆ‡æ¢åˆ°â€œGOPATHâ€ç›®å½•ï¼Œæ‰§è¡Œ git clone https://github.com/golang/lint.git å°†glintä¹Ÿä¸‹è½½åˆ°æœ¬åœ° ç›®å½•åˆ°%GOPATH%\\src\\golang.org\\x æ‰§è¡Œï¼š go install golang.org\\x\\lint\\golint å®‰è£…å®Œæˆ å‚è€ƒåšæ–‡ï¼š http://www.pythonsite.com/?p=429 http://blog.csdn.net/langzi7758521/article/details/51313521 ","link":"https://lingtin.github.io/post/dw-XVIReD/"},{"title":"åœ¨Visual Studio Codeä¸­é…ç½®GOå¼€å‘ç¯å¢ƒ","content":"åœ¨Visual Studio Codeä¸­é…ç½®GOå¼€å‘ç¯å¢ƒ ä¸€ã€GOè¯­è¨€å®‰è£… è¯¦æƒ…æŸ¥çœ‹ï¼šGOè¯­è¨€ä¸‹è½½ã€å®‰è£…ã€https://golang.org/dl/ äºŒã€GoLangæ’ä»¶ä»‹ç» å¯¹äºVisual Studio Codeå¼€å‘å·¥å…·ï¼Œæœ‰ä¸€æ¬¾ä¼˜ç§€çš„GoLangæ’ä»¶ï¼Œå®ƒçš„ä¸»é¡µä¸ºï¼š https://github.com/microsoft/vscode-go è¿™æ¬¾æ’ä»¶çš„ç‰¹æ€§åŒ…æ‹¬ï¼š Colorization ä»£ç ç€å½©è‰² Completion Lists ä»£ç è‡ªåŠ¨å®Œæˆï¼ˆä½¿ç”¨gocodeï¼‰ Snippets ä»£ç ç‰‡æ®µ Quick Info å¿«é€Ÿæç¤ºä¿¡æ¯ï¼ˆä½¿ç”¨godefï¼‰ Goto Definition è·³è½¬åˆ°å®šä¹‰ï¼ˆä½¿ç”¨godefï¼‰ Find References æœç´¢å‚è€ƒå¼•ç”¨ï¼ˆä½¿ç”¨go-find-referencesï¼‰ File outline æ–‡ä»¶å¤§çº²ï¼ˆä½¿ç”¨go-outlineï¼‰ Workspace symbol search å·¥ä½œåŒºç¬¦å·æœç´¢ï¼ˆä½¿ç”¨ go-symbolsï¼‰ Rename é‡å‘½åï¼ˆä½¿ç”¨gorenameï¼‰ Build-on-save ä¿å­˜æ„å»ºï¼ˆä½¿ç”¨go buildå’Œgo testï¼‰ Format ä»£ç æ ¼å¼åŒ–ï¼ˆä½¿ç”¨goreturnsæˆ–goimportsæˆ–gofmtï¼‰ Add Imports æ·»åŠ å¼•ç”¨ï¼ˆä½¿ç”¨ gopkgsï¼‰ Debugging è°ƒè¯•ä»£ç ï¼ˆä½¿ç”¨delveï¼‰ ä¸‰ã€æ’ä»¶å®‰è£… è¿›å…¥Visual Studio Codeï¼Œä½¿ç”¨æ‰©å±•çª—å£ã€‚ åœ¨æ’ä»¶åˆ—è¡¨ä¸­ï¼Œé€‰æ‹© Goï¼Œè¿›è¡Œå®‰è£…ï¼Œå®‰è£…ä¹‹åï¼Œç³»ç»Ÿä¼šæç¤ºé‡å¯Visual Studio Codeã€‚ å››ã€è®¾ç½®ç¯å¢ƒå˜é‡GOPATH åœ¨Windowsç³»ç»Ÿä¸­è®¾ç½®GOPATHç¯å¢ƒå˜é‡ï¼Œæˆ‘çš„å€¼ä¸ºD:\\GoWorks ç¼ºå°‘GOPATHç¯å¢ƒå˜é‡é€šå¸¸ä¼šæŠ¥â€œ$GOPATH not set.â€è¿™æ ·çš„é”™è¯¯ã€‚ äº”ã€å®‰è£…Git Windowså®‰è£…Gitçš„è¿‡ç¨‹çœç•¥ï¼›å®‰è£…ä¹‹ågit\\biné…ç½®åˆ°PATHç¯å¢ƒå˜é‡ä¸­ã€‚ å…­ã€æ‰§è¡Œå‘½ä»¤ è¯¦æƒ…è¯·æŸ¥çœ‹å®˜æ–¹ç½‘ç«™ï¼šhttps://marketplace.visualstudio.com/items?itemName=lukehoban.Go å®‰è£…gocode æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ï¼‰ï¼Œè¾“å…¥ï¼š go get -u -v github.com/nsf/gocode å¼€å§‹ä¸‹è½½ï¼š ä¸‹è½½å®Œæ¯•ï¼š ä¸‹è½½å®Œæˆï¼ŒæŸ¥çœ‹D:\\GoWorksç›®å½•ï¼Œå¤šäº†ä¸€ä¸ªsrc\\github.com\\nsf\\gocodeè·¯å¾„ï¼Œå¦‚ä¸‹å›¾ï¼š é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ä»¥ä¸‹8ä¸ªå·¥å…·ã€‚ go get -u -v github.com/nsf/gocode go get -u -v github.com/rogpeppe/godef go get -u -v github.com/golang/lint/golint go get -u -v github.com/lukehoban/go-find-references go get -u -v github.com/lukehoban/go-outline go get -u -v sourcegraph.com/sqs/goreturns go get -u -v golang.org/x/tools/cmd/gorename go get -u -v github.com/tpng/gopkgs go get -u -v github.com/newhook/go-symbols ä¸ƒ ã€ä½¿ç”¨ Hello word 1ï¼‰File-&gt; Open Folderï¼Œç°åœ¨å·¥ä½œç›®å½•ï¼š 2ï¼‰æ–°å»ºgoæ–‡ä»¶ çœ‹çœ‹ï¼Œæ™ºèƒ½æç¤ºå‡ºæ¥äº†ã€‚ å®‰è£…æ–¹æ³•æ¥æºäºï¼šhttps://www.cnblogs.com/zsy/p/5223957.html è¯¦æƒ…è¯·æŸ¥çœ‹ï¼ ","link":"https://lingtin.github.io/post/QdBALYczQ/"},{"title":"ES9ã€ES10ç‰¹æ€§ï¼ˆé€Ÿè¯»ï¼‰","content":"ES9ã€ES10ç‰¹æ€§ ES9æ–°ç‰¹æ€§ å¼‚æ­¥è¿­ä»£ ES2018å¼•å…¥å¼‚æ­¥è¿­ä»£å™¨ï¼ˆasynchronous iteratorsï¼‰ï¼Œè¿™å°±åƒå¸¸è§„è¿­ä»£å™¨ï¼Œé™¤äº†next()æ–¹æ³•è¿”å›ä¸€ä¸ªPromiseã€‚å› æ­¤awaitå¯ä»¥å’Œfor...ofå¾ªç¯ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¸²è¡Œçš„æ–¹å¼è¿è¡Œå¼‚æ­¥æ“ä½œã€‚ async function process(array) { for await (let i of array) { doSomething(i); } } Promise.finally() ä¸€ä¸ªPromiseè°ƒç”¨é“¾è¦ä¹ˆæˆåŠŸåˆ°è¾¾æœ€åä¸€ä¸ª.then()ï¼Œè¦ä¹ˆå¤±è´¥è§¦å‘.catch()ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ æƒ³è¦åœ¨æ— è®ºPromiseè¿è¡ŒæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œè¿è¡Œç›¸åŒçš„ä»£ç ï¼Œä¾‹å¦‚æ¸…é™¤ï¼Œåˆ é™¤å¯¹è¯ï¼Œå…³é—­æ•°æ®åº“è¿æ¥ç­‰ã€‚ . finally() å…è®¸ä½ æŒ‡å®šæœ€ç»ˆçš„é€»è¾‘ï¼š function doSomething() { doSomething1() .then(doSomething2) .then(doSomething3) .catch(err =&gt; { console.log(err); }) .finally(() =&gt; { // finish here! }); } Rest/Spread å±æ€§ Restå‚æ•°è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªå¸ƒä¸( ä¸å®š)æ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚ restParam(1, 2, 3, 4, 5); function restParam(p1, p2, ...p3) { // p1 = 1 // p2 = 2 // p3 = [3, 4, 5] } ä¸ºå¯¹è±¡è§£æ„æä¾›äº†å’Œæ•°ç»„ä¸€æ ·çš„Restå‚æ•°ï¼ˆï¼‰å’Œå±•å¼€æ“ä½œç¬¦. const myObject = { a: 1, b: 2, c: 3 }; const { a, ...x } = myObject; // a = 1 // x = { b: 2, c: 3 } æ­£åˆ™è¡¨è¾¾å¼å‘½åæ•è·ç»„ ES2018å…è®¸å‘½åæ•è·ç»„ä½¿ç”¨ç¬¦å· ? åœ¨æ‰“å¼€æ•è·æ‹¬å·(åç«‹å³å‘½åï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š const reDate = /(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/, match = reDate.exec('2018-04-30'), year = match.groups.year, // 2018 month = match.groups.month, // 04 day = match.groups.day; // 30 ä»»ä½•åŒ¹é…å¤±è´¥çš„å‘½åç»„éƒ½å°†è¿”å›undefinedï¼› æ­£åˆ™è¡¨è¾¾å¼åå‘æ–­è¨€(lookbehind) å…ˆè¡Œæ–­è¨€(lookahead)ï¼šè¿™æ„å‘³ç€åŒ¹é…ä¼šå‘ç”Ÿï¼Œä½†ä¸ä¼šæœ‰ä»»ä½•æ•è·ï¼Œå¹¶ä¸”æ–­è¨€æ²¡æœ‰åŒ…å«åœ¨æ•´ä¸ªåŒ¹é…å­—æ®µä¸­ const reLookahead = /\\D(?=\\d+)/, match = reLookahead.exec('$123.89'); console.log( match[0] ); // $ åå‘æ–­è¨€(lookbehind)ï¼šæ³¨æ„å°–æ‹¬å· const reLookbehind = /(?&lt;=\\D)\\d+/, match = reLookbehind.exec('$123.89'); console.log( match[0] ); // 123.89 ä»¥ä¸Šæ˜¯ è‚¯å®šåå‘æ–­è¨€ï¼Œéæ•°å­—\\Då¿…é¡»å­˜åœ¨ã€‚åŒæ ·çš„ï¼Œè¿˜å­˜åœ¨ å¦å®šåå‘æ–­è¨€ï¼Œè¡¨ç¤ºä¸€ä¸ªå€¼å¿…é¡»ä¸å­˜åœ¨ï¼Œä¾‹å¦‚ï¼šæ³¨æ„æ„Ÿå¹å· const reLookbehindNeg = /(?&lt;!\\D)\\d+/, match = reLookbehind.exec('$123.89'); console.log( match[0] ); // null ES10æ–°ç‰¹æ€§ æ–°çš„åŸºæœ¬æ•°æ®ç±»å‹ BigInt å…¶ä¸­æ•°æ®ç±»å‹:Stringã€Numberã€Booleanã€Nullã€Undefinedã€Symbolã€BigInt å°†å¯¼å…¥åˆ†é…ç»™å˜é‡ element.addEventListener('click', async() =&gt; { const module = await import(`./api-scripts/button-click.js`); module.clickEvent(); }) Array.flat() æ‰å¹³åŒ–å¤šç»´æ•°ç»„ let multi = [1,2,3,[4,5,6,[7,8,9,[10,11,12]]]]; multi.flat(); // [1,2,3,4,5,6,Array(4)] multi.flat().flat(); // [1,2,3,4,5,6,7,8,9,Array(3)] multi.flat().flat().flat(); // [1,2,3,4,5,6,7,8,9,10,11,12] multi.flat(Infinity); // [1,2,3,4,5,6,7,8,9,10,11,12] Array.flatMap() let array = [1, 2, 3, 4, 5]; array.flatMap(v =&gt; [v, v * 2]); [1, 2, 2, 4, 3, 6, 4, 8, 5, 10] Object.fromEntries() Object.entries()æ–¹æ³•çš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œå…¶æ’åˆ—ä¸ä½¿ç”¨ for...in å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯ä¹Ÿæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰ã€‚ è€Œ Object.fromEntries() åˆ™æ˜¯ Object.entries() çš„åè½¬ã€‚ é€šè¿‡ Object.fromEntriesï¼Œ å¯ä»¥å°† Map è½¬åŒ–ä¸º Object: const map1 = new Map([['foo','bar'],['baz',42]]) const obj122 = Object.fromEntries(map1) obj1 //{foo: &quot;bar&quot;, x: 41} é€šè¿‡ Object.fromEntriesï¼Œ å¯ä»¥å°† Array è½¬åŒ–ä¸º Object: var obj32 = Object.fromEntries(arr1) var obj32 = Object.fromEntries(arr21) obj32 //{0: &quot;a&quot;, 1: &quot;b&quot;, 2: &quot;c&quot;} String.trimStart() ä¸ String.trimEnd() let greeting = &quot; Space around &quot;; greeting.trimEnd(); // &quot; Space around&quot;; greeting.trimStart(); // &quot;Space around &quot;; Function.prototype.toString()ç°åœ¨è¿”å›ç²¾ç¡®å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œæ³¨é‡Š å¤´éƒ¨å’Œå°¾éƒ¨çš„æ³¨é‡Šä¸æ˜¾ç¤º ä¿®æ”¹ catch ç»‘å®š ä¹‹å‰æ˜¯try {}catch(e){} ç°åœ¨æ˜¯try {}catch{} ","link":"https://lingtin.github.io/post/T4tGUJp80/"},{"title":"Push.js-æ¡Œé¢é€šçŸ¥åº“","content":"Push.jsæ˜¯ä¸€ä¸ªå¯ä»¥å¿«é€Ÿè¿è¡Œå’Œæ¥æ”¶çš„æ¡Œé¢é€šçŸ¥åº“ï¼Œå®ƒå¯ä»¥åº”ç”¨åœ¨ç½‘é¡µæ¶ˆæ¯æ¨é€æ–¹é¢ï¼Œè€Œä¸”ç®€å•æ˜“ç”¨ã€‚ æ¼”ç¤ºåœ°å€ githubåœ°å€ å®‰è£… æˆ‘ä»¬å¯ä»¥ä½¿ç”¨npmå¿«é€Ÿå®‰è£…ã€‚ npm install push.js --save ä½¿ç”¨ è¿è¡Œpushæ¥æ”¶é€šçŸ¥éå¸¸ç®€å•ï¼Œä»¥ä¸‹ä»£ç å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„é€šçŸ¥ï¼š Push.create('Hello World!'); æˆ‘ä»¬è¿˜å¯ä»¥ä¼ å…¥å‚æ•°å¯¹è±¡ï¼Œå®šåˆ¶é€šçŸ¥æ•ˆæœï¼Œ Push.create(&quot;Hello world!&quot;, { body: &quot;Welcome to Helloweba.net&quot;, icon: '/icon.png', timeout: 4000, onClick: function () { window.focus(); this.close(); } }); æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨Push.close()æ–¹æ³•æ¥æ‰‹åŠ¨å…³é—­é€šçŸ¥ç•Œé¢ã€‚ Push.create('Hello World!', { tag: 'foo' }); // Somewhere later in your code... Push.close('foo'); é€‰é¡¹å’Œé…ç½® ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„é€‰é¡¹é…ç½®ï¼š bodyï¼šé€šçŸ¥çš„ä¸»ä½“å†…å®¹ã€‚ dataï¼šæ•°æ®ä¼ é€’ç»™ServiceWorkeré€šçŸ¥ã€‚ requireInteractionï¼šå¦‚æœè®¾ç½®æˆtrueçš„è¯ï¼Œé€šçŸ¥ä¸ä¼šè‡ªåŠ¨å…³é—­ï¼Œé™¤éäººå·¥æ‰‹åŠ¨ç‚¹å‡»å…³é—­ã€‚ iconï¼šå¯ä»¥è®¾ç½®é€šçŸ¥ç•Œé¢ä¸Šå¤§å°ä¸º16x16æˆ–32x32åƒç´ çš„å°å›¾æ ‡ã€‚ linkï¼šå½“ç”¨æˆ·ç‚¹å‡»ç§»åŠ¨è®¾å¤‡ä¸Šçš„é€šçŸ¥æ—¶ï¼Œåˆ™ä¼šå¯¼èˆªåˆ°å¯¹åº”çš„é¡µé¢ä¸Šã€‚ tagï¼šæ ‡è®°é€šçŸ¥ï¼Œåé¢å…³é—­é€šçŸ¥å¯ä»¥é€šè¿‡è¯¥æ ‡è®°æ¥è¯†åˆ«æ˜¯è¦å…³é—­å“ªæ¡é€šçŸ¥ã€‚ timeoutï¼šé€šçŸ¥è‡ªåŠ¨å…³é—­çš„æ—¶é—´ï¼Œæ¯«ç§’ã€‚ onClick()ï¼šå›è°ƒï¼Œå½“ç‚¹å‡»é€šçŸ¥ç•Œé¢çš„æ—¶å€™è§¦å‘ã€‚ onClose()ï¼šå›è°ƒï¼Œå½“è¦å…³é—­é€šçŸ¥çš„æ—¶å€™è§¦å‘ã€‚ onError()ï¼šå›è°ƒï¼Œå½“é€šçŸ¥æŠ›å‡ºé”™è¯¯çš„æ—¶å€™è§¦å‘ã€‚ onShow()ï¼šå›è°ƒï¼Œå½“æ˜¾ç¤ºé€šçŸ¥çš„æ—¶å€™è§¦å‘ã€‚ Push.jsè¿˜æä¾›äº†ä¸€ä¸ª.config()æ–¹æ³•ç”¨äºå…¨å±€é…ç½®ã€‚ Push.config({ serviceWorker: './customServiceWorker.js', // Sets a custom service worker script fallback: function(payload) { // Code that executes on browsers with no notification support // &quot;payload&quot; is an object containing the // title, body, tag, and icon of the notification } }); æƒé™ åŸºäºæµè§ˆå™¨çš„é€šçŸ¥éœ€è¦æµè§ˆå™¨æˆäºˆæƒé™ï¼Œå½“å‰æµè§ˆå™¨ä¼šå¼¹å‡ºè¯¢é—®çª—å£ï¼Œå½“ä½ é€šè¿‡å…è®¸åï¼Œæ‰ä¼šæ­£å¼è°ƒç”¨é€šçŸ¥åº“ã€‚ ","link":"https://lingtin.github.io/post/YSeQh9MIn/"},{"title":"CSS3 loadingä¸‰åœ†ç‚¹åŠ è½½åŠ¨ç”»","content":"three-dots.cssæ˜¯ä¸€æ¬¾CSS3 loadingä¸‰åœ†ç‚¹åŠ è½½åŠ¨ç”»ç‰¹æ•ˆåº“ã€‚é›†æˆäº†14ç§ä¸‰åœ†ç‚¹loadingåŠ¨ç”»ç‰¹æ•ˆï¼Œä»¥åŠä¸‰ç§å¢å¼ºåŠ¨ç”»æ•ˆæœã€‚ æ¼”ç¤ºåœ°å€ githubåœ°å€ å®‰è£… å¯ä»¥é€šè¿‡npmæ¥å®‰è£…three-dots.cssã€‚ npm install three-dots --save ä½¿ç”¨æ–¹æ³• åœ¨é¡µé¢ä¸­å¼•å…¥three-dots.cssã€‚ &lt;link href=&quot;css/three-dots.css&quot; rel=&quot;stylesheet&quot;&gt; HTMLç»“æ„ ç„¶ååœ¨ä½ éœ€è¦æ·»åŠ Loadingæ•ˆæœçš„å®¹å™¨ä¸Šæ·»åŠ ç›¸åº”çš„classç±»å³å¯ã€‚ &lt;div class=&quot;dot-elastic&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-pulse&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-flashing&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-collision&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-revolution&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-translation&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-typing&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-windmill&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-bricks&quot;&gt;&lt;/div&gt; &lt;div class=&quot;dot-floating&quot;&gt;&lt;/div&gt; å¯ç”¨çš„classç±»æœ‰ï¼š dot-elastic dot-pulse dot-flashing dot-collision dot-revolution dot-carousel dot-typing dot-windmill dot-bricks dot-floating dot-fire dot-spin dot-falling dot-stretching ","link":"https://lingtin.github.io/post/iLEYbNwwv/"},{"title":"è¡¨å•ä¸Šä¼ æ§ä»¶Filesç­›é€‰æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶ï¼šacceptå±æ€§è¿‡æ»¤æ–‡ä»¶","content":"âš½ï¸ğŸ€è¡¨å•ä¸Šä¼ æ§ä»¶Filesç­›é€‰æŒ‡å®šæ ¼å¼ ï¼ˆIE9åŠä»¥ä¸‹ä¸æ”¯æŒä¸‹é¢è¿™äº›åŠŸèƒ½ï¼Œå…¶å®ƒæµè§ˆå™¨æœ€æ–°ç‰ˆæœ¬å‡å·²æ”¯æŒã€‚ï¼‰ 1ã€å…è®¸ä¸Šä¼ æ–‡ä»¶æ•°é‡ å…è®¸é€‰æ‹©å¤šä¸ªæ–‡ä»¶ï¼š &lt;input type=&quot;file&quot; multiple&gt; åªå…è®¸ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼š &lt;input type=&quot;file&quot; single&gt; 2ã€ä¸Šä¼ æŒ‡å®šçš„æ–‡ä»¶æ ¼å¼ &lt;input type=&quot;file&quot; accept=&quot;image/gif,image/png&quot; /&gt; è¿™é‡Œçš„ä¸Šä¼ æ ¼å¼ä»…æŒ‡æ‰“å¼€ä¸Šä¼ å¼¹çª—é€‰æ‹©æ–‡ä»¶æ—¶é»˜è®¤çš„æ–‡ä»¶æ ¼å¼ï¼Œå¯æ‰‹åŠ¨ä¿®æ”¹æˆå…¶å®ƒæ–‡ä»¶æ ¼å¼ã€‚ å¦‚æœä¸é™åˆ¶ä¸Šä¼ å›¾ç‰‡çš„æ ¼å¼å¯å†™æˆï¼šaccept=&quot;image/*&quot; å…¶å®ƒæ ¼å¼å‚è€ƒå¦‚ä¸‹ï¼š *.3gpp audio/3gpp, video/3gpp 3GPP Audio/Video *.ac3 audio/ac3 AC3 Audio *.asf allpication/vnd.ms-asf Advanced Streaming Format *.au audio/basic AU Audio *.css text/css Cascading Style Sheets *.csv text/csv Comma Separated Values *.doc application/msword MS Word Document *.dot application/msword MS Word Template *.dtd application/xml-dtd Document Type Definition *.dwg image/vnd.dwg AutoCAD Drawing Database *.dxf image/vnd.dxf AutoCAD Drawing Interchange Format *.gif image/gif Graphic Interchange Format *.htm text/html HyperText Markup Language *.html text/html HyperText Markup Language *.jp2 image/jp2 JPEG-2000 *.jpe image/jpeg JPEG *.jpeg image/jpeg JPEG *.jpg image/jpeg JPEG *.js text/javascript, application/javascript JavaScript *.json application/json JavaScript Object Notation *.mp2 audio/mpeg, video/mpeg MPEG Audio/Video Stream, Layer II *.mp3 audio/mpeg MPEG Audio Stream, Layer III *.mp4 audio/mp4, video/mp4 MPEG-4 Audio/Video *.mpeg video/mpeg MPEG Video Stream, Layer II *.mpg video/mpeg MPEG Video Stream, Layer II *.mpp application/vnd.ms-project MS Project Project *.ogg application/ogg, audio/ogg Ogg Vorbis *.pdf application/pdf Portable Document Format *.png image/png Portable Network Graphics *.pot application/vnd.ms-powerpoint MS PowerPoint Template *.pps application/vnd.ms-powerpoint MS PowerPoint Slideshow *.ppt application/vnd.ms-powerpoint MS PowerPoint Presentation *.rtf application/rtf, text/rtf Rich Text Format *.svf image/vnd.svf Simple Vector Format *.tif image/tiff Tagged Image Format File *.tiff image/tiff Tagged Image Format File *.txt text/plain Plain Text *.wdb application/vnd.ms-works MS Works Database *.wps application/vnd.ms-works Works Text Document *.xhtml application/xhtml+xml Extensible HyperText Markup Language *.xlc application/vnd.ms-excel MS Excel Chart *.xlm application/vnd.ms-excel MS Excel Macro *.xls application/vnd.ms-excel MS Excel Spreadsheet *.xlt application/vnd.ms-excel MS Excel Template *.xlw application/vnd.ms-excel MS Excel Workspace *.xml text/xml, application/xml Extensible Markup Language *.zip aplication/zip Compressed Archive ç¤ºä¾‹ &lt;p&gt;æ˜¾ç¤º .xls, .xlsx, .csv æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤º Excel (.xlsx) æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤º Excel (.xls) æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;application/vnd.ms-excel&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤ºå›¾ç‰‡.&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;image/*&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;text/plain&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤ºhtmlæ–‡ä»¶.&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;text/html&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤º video æ–‡ä»¶..&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;video/*&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤º audio æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;audio/*&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤º .WAV æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;.wav&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; &lt;p&gt;åªæ˜¾ç¤º .PDF æ–‡ä»¶...&lt;/p&gt; &lt;input type=&quot;file&quot; accept=&quot;.pdf&quot; ID=&quot;fileSelect&quot; runat=&quot;server&quot; /&gt; ","link":"https://lingtin.github.io/post/e_nXbAwWE/"},{"title":"ä½¿ç”¨NCUæ›´æ–°æ¨¡å—åŒæ­¥package.js","content":"æ¨¡å—æ£€æŸ¥æ›´æ–°,ä½¿ç”¨NCUæ›´æ–°æ¨¡å—åŒæ­¥package.js åœ¨ç”¨vue-cliç”Ÿæˆå·¥ç¨‹åï¼Œä¸€æ®µæ—¶é—´å¾ˆå¤šæ¨¡å—éƒ½æœ‰æ›´æ–°ï¼Œå¦‚ä½•æŠŠå·¥ç¨‹ä¸­çš„æ¨¡å—éƒ½æ›´æ–°åˆ°æœ€æ–°çš„å‘¢ã€‚ é¦–å…ˆæˆ‘ä»¬å…ˆé€šè¿‡å‘½ä»¤æŸ¥çœ‹ä¸‹éœ€è¦æ›´æ–°çš„ç‰ˆæœ¬ï¼š npm outdated npm outdated ä¼šåˆ—å‡ºæ‰€æœ‰å¯æ›´æ–°çš„ node_modulesï¼Œå¦‚ä¸‹ï¼š Package Current Wanted Latest Location autoprefixer 6.7.2 6.7.2 7.1.2 vue-test babel-core 6.22.1 6.22.1 6.25.0 vue-test babel-eslint 7.1.1 7.1.1 7.2.3 vue-test babel-loader 6.2.10 6.2.10 7.1.1 vue-test babel-plugin-transform-runtime 6.22.0 6.22.0 6.23.0 vue-test babel-preset-env 1.3.2 1.3.2 1.6.0 vue-test babel-preset-stage-2 6.22.0 6.22.0 6.24.1 vue-test babel-register 6.22.0 6.22.0 6.24.1 vue-test chalk 1.1.3 1.1.3 2.0.1 vue-test css-loader 0.28.0 0.28.0 0.28.4 vue-test element-ui 1.3.7 1.3.7 1.4.1 vue-test æ¯”å¦‚æˆ‘çš„element-uiæ¨¡å—ï¼Œå½“å‰æ˜¯ç‰ˆæœ¬æ˜¯1.3.7ï¼Œè€Œæœ€æ–°çš„ç‰ˆæœ¬ï¼Œæ˜¯1.4.1ã€‚ ä½†æ˜¯æ‰§è¡Œ npm update æ›´æ–°å‘½ä»¤ï¼Œåªèƒ½æŒ‰ç…§package.jsä¸­æ ‡æ³¨çš„ç‰ˆæœ¬å·ï¼Œè¿›è¡Œæ›´æ–°ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½è¦æ”¹ä¸‹package.jsä¸­çš„ç‰ˆæœ¬å·ä¸ºæœ€æ–°æ‰èƒ½å¤Ÿæ›´æ–°ï¼Œå¤ªéº»çƒ¦ï¼Œæ²¡ä»€ä¹ˆç”¨å¤„ã€‚é‚£è¿˜æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•å‘¢ï¼Œå½“ç„¶æœ‰ï¼Œå°±æ˜¯é«˜æ•ˆå‡çº§æ’ä»¶npm-check-updates å®‰è£…æ–¹æ³• npm install -g npm-check-updates æŸ¥çœ‹æœ€æ–°çš„ç‰ˆæœ¬ ncu -v ä¸‹ä¸€ä¸ªæ˜¯æŒ‡ä»¤ç¼©å†™ï¼Œæ›´æ–¹ä¾¿ï¼Œæ‰§è¡Œåï¼Œä¼šåˆ—å‡ºæ‰€æœ‰è¦æ›´æ–°çš„ç»„ä»¶ï¼š E:\\Vue\\vueAdmin-template-master&gt;ncu Using E:\\Vue\\vueAdmin-template-master\\package.json [..................] \\ : element-ui 1.3.7 â†’ 1.4.1 normalize.css 3.0.2 â†’ 7.0.0 vue 2.3.3 â†’ 2.4.2 vue-router 2.5.3 â†’ 2.7.0 autoprefixer 6.7.2 â†’ 7.1.2 babel-core 6.22.1 â†’ 6.25.0 babel-eslint 7.1.1 â†’ 7.2.3 babel-loader 6.2.10 â†’ 7.1.1 å‡çº§ è¿™è¯´æ˜æœ‰äº›åŒ…éœ€è¦å‡çº§ è¿™æ—¶å€™æˆ‘ä»¬ä½¿ç”¨ ncu -a å°±å¯ä»¥å…¨éƒ¨å‡çº§äº†ã€‚ å½“ç„¶ï¼Œå¦‚æœæ‰€æœ‰åŒ…éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œæ‰§è¡Œncuåä¼šæç¤ºï¼š All dependencies match the latest package versions ğŸ˜ƒ ","link":"https://lingtin.github.io/post/yWeZyt6_w/"},{"title":"Nodejs+Eggå¾®ä¿¡/app/å°ç¨‹åºæ”¯ä»˜","content":"å¾®ä¿¡æ”¯ä»˜ app/å°ç¨‹åºæ”¯ä»˜ ä¼ä¸šä»˜æ¬¾åˆ°é›¶é’±æ–‡æ¡£ï¼›https://pay.weixin.qq.com/wiki/doc/api/tools/mch_pay.php?chapter=14_2 1ã€å¾®ä¿¡æ”¯ä»˜ï¼Œå…ˆçœ‹æµç¨‹å›¾ https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_3 å…ˆçœ‹æµç¨‹å›¾ï¼Œçœ‹æ‡‚ï¼Œå†çœ‹å¾®ä¿¡æ”¯ä»˜api 2ã€è°ƒç”¨ç»Ÿä¸€ä¸‹å•æ¥å£ Controller import {Controller} from 'egg'; export default class Wx extends Controller{ public async wxpay(){ const ctx = this.ctx; const result = await ctx.service.weixin.payunifiedorder(); ctx.body = result; } /* å¾®ä¿¡å›è°ƒ */ public async wxNotify(){ const ctx = this.ctx; const result = await ctx.service.weixin.wxNotify(ctx.params); ctx.body = result } } Service import { Service } from 'egg'; import * as xmlbuilder from 'xmlbuilder'; import * as uuidv5 from 'uuid/v5'; import * as qs from 'qs'; import * as md5 from 'md5'; const appid:string=&quot;appid&quot;; const secret:string=&quot;secret&quot; export default class Weixin extends Service{ /* è·å–å¾®ä¿¡openid */ public async getUserOpenid({code}):Promise&lt;object&gt;{ const ctx = this.ctx; const result = await ctx.curl(`https://api.weixin.qq.com/sns/jscode2session?appid=${appid}&amp;secret=${secret}=&amp;js_code=${code}&amp;grant_type=authorization_code`,{ method:&quot;GET&quot; }); return result.data; } /* è·å–å¾®ä¿¡access_token */ public async getAccess_token():Promise&lt;object&gt;{ const ctx = this.ctx; const result = await ctx.curl(`https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=${appid}&amp;secret=${secret}`,{ method:&quot;GET&quot; }); return result.data; } /* ç»Ÿä¸€ä¸‹å• */ public async payunifiedorder():Promise&lt;object&gt;{ const ctx = this.ctx; let uuid = uuidv5(&quot;&quot;,uuidv5.DNS).replace(/-/g, '').toUpperCase() console.log(ctx.ip.replace(/::ffff:/g, '')) let order:any={ appid, body:&quot;è…¾è®¯å……å€¼ä¸­å¿ƒ-QQä¼šå‘˜å……å€¼&quot;, nonce_str:uuid, notify_url:&quot;http://x5z5g2.natappfree.cc/getpay&quot;, out_trade_no:uuid, spbill_create_ip:&quot;123.12.12.123&quot;, total_fee:1, trade_type:&quot;APP&quot;, } const objStr = qs.stringify(order) const preSign = objStr + '&amp;key=192006250b4c09247ec02edce69f6a2d' order.sign = md5(preSign).toUpperCase(); let xml = xmlbuilder.create(order).end({ pretty: true}); const result:any = await ctx.curl(`https://api.mch.weixin.qq.com/pay/unifiedorder`,{ method:'POST', data:xml }); console.log(result.data) //äºŒæ¬¡ç­¾åï¼Œè¿”å›ç»™appå³å¯ï¼Œç”±appç«¯è¿›è¡Œå¾®ä¿¡æ”¯ä»˜åŠèµ· const paysign2:any = { appid: result.data.appid[0], noncestr: result.data.nonce_str[0], package: 'Sign=WXPay', partnerid: result.data.mch_id[0], prepayid: result.data.prepay_id[0], timestamp:Number(Date.now() / 1000) //æ³¨æ„ï¼šæ—¶é—´å¿…éœ€ä¸ºç§’ }; const payPrestr = qs.stringify(paysign2) + 'key=å¾®ä¿¡å•†æˆ·å¹³å°çš„key' //ä¸çŸ¥é“çš„è¯ï¼Œå¯ä»¥é—®è€æ¿ paysign2.sign = md5(payPrestr).toUpperCase() return paysign2; } // å¾®ä¿¡å›è°ƒ public async wxNotify(params){ const ctx = this.ctx; // æ¥å—å¾®ä¿¡å‚æ•° var payQuery:any = { appid: params.appid[0], mch_id: params.mch_id[0], nonce_str: params.nonce_str[0], out_trade_no: params.out_trade_no[0], transaction_id: params.transaction_id[0] } let payQueryString = qs.stringify(payQuery) + 'key=å¾®ä¿¡å•†æˆ·å¹³å°çš„key' payQuery.sign = md5(payQueryString).toUpperCase() let payQueryxml = xmlbuilder.create(payQuery).end({ pretty: true}); //æŸ¥è¯¢è®¢å•æ˜¯å¦æ”¯ä»˜æˆåŠŸ const result:any = await ctx.curl(`https://api.mch.weixin.qq.com/pay/orderquery`,{ method:'POST', data:payQueryxml }); if (result.data.xml.return_code[0] &amp;&amp; result.xml.return_code[0] == 'SUCCESS' &amp;&amp; result.xml.trade_state[0] == 'SUCCESS' ) { //å‘Šè¯‰å¾®ä¿¡ï¼Œä½ æ”¶åˆ°æ”¯ä»˜ç»“æœé€šçŸ¥äº† let res = { return_code:&quot;&lt;![CDATA[SUCCESS]]&gt;&quot;, return_msg:&quot;&lt;![CDATA[OK]]&gt;&quot; } let resxml = xmlbuilder.create(res).end({ pretty: true}); return resxml; } } } ","link":"https://lingtin.github.io/post/kx0wh7zZA/"},{"title":"H5 åŒç«¯åº“é›†åˆï¼ˆäºŒï¼‰","content":"ğŸ‘ğŸ‘ vueåº“é›†åˆ ğŸ‘ğŸ‘ åº“é›†åˆ Mand Mobile Mand Mobileæ˜¯é¢å‘é‡‘èåœºæ™¯è®¾è®¡çš„ç§»åŠ¨ç«¯ç»„ä»¶åº“ï¼ŒåŸºäºVue.jså®ç°ã€‚ç›®å‰å·²å®é™…åº”ç”¨äºæ»´æ»´å››å¤§é‡‘èä¸šåŠ¡æ¿å—çš„10ä½™æ¬¾äº§å“ä¸­ã€‚ æä¾›æŒ‰éœ€åŠ è½½èƒ½åŠ›ï¼Œä½¿ç”¨çµæ´»ï¼Œé¿å…å¼•å…¥æ— ç”¨ä»£ç ï¼Œå¯¼å‡ºesï¼Œumdä¸¤ç§æ ¼å¼ä»¥åŠpx, vh/vwä¸¤ç§æ ·å¼å•ä½ çµæ´»è½¬æ¢çš„æ ·å¼ä¸»é¢˜ UIæ ·å¼å¯é…ç½®ï¼Œæ‹“å±•çµæ´»ï¼Œè½»æ¾é€‚åº”ä¸åŒçš„è®¾è®¡é£æ ¼ æ”¯æŒTypeScript æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ å®˜ç½‘é“¾æ¥ï¼šdidi.github.io/mand-mobile/#/zh-CN/home GitHubï¼šhttps://github.com/didi/mand-mobile/tree/master cube-ui cube-ui æ˜¯åŸºäº Vue.js å®ç°çš„ç²¾è‡´ç§»åŠ¨ç«¯ç»„ä»¶åº“ã€‚ æ”¯æŒæŒ‰éœ€å¼•å…¥å’Œåç¼–è¯‘ï¼Œè½»é‡çµæ´»ï¼›æ‰©å±•æ€§å¼ºï¼Œå¯ä»¥æ–¹ä¾¿åœ°åŸºäºç°æœ‰ç»„ä»¶å®ç°äºŒæ¬¡å¼€å‘ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttps://didi.github.io/cube-ui/#/zh-CN Vant Vant è½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ æ˜¯æœ‰èµç§»åŠ¨ç«¯ç»„ä»¶åº“ å®˜ç½‘é“¾æ¥ï¼šhttps://youzan.github.io/vant/#/zh-CN/intro Vue-ydui Vue-ydui æ˜¯ YDUI Touch çš„ä¸€ä¸ªVue2.xå®ç°ç‰ˆæœ¬ï¼Œä¸“ä¸ºç§»åŠ¨ç«¯æ‰“é€ ï¼Œåœ¨è¿½æ±‚å®Œç¾è§†è§‰ä½“éªŒçš„åŒæ—¶ä¹Ÿä¿è¯äº†å…¶æ€§èƒ½é«˜æ•ˆã€‚ å®˜ç½‘é“¾æ¥ï¼šhttp://vue.ydui.org/ mpvue mpvue æ˜¯ä¸€ä¸ªä½¿ç”¨ Vue.js å¼€å‘å°ç¨‹åºçš„å‰ç«¯æ¡†æ¶ï¼Œç›®å‰æ”¯æŒ å¾®ä¿¡å°ç¨‹åºã€ç™¾åº¦æ™ºèƒ½å°ç¨‹åºï¼Œå¤´æ¡å°ç¨‹åº å’Œ æ”¯ä»˜å®å°ç¨‹åºã€‚ æ¡†æ¶åŸºäº Vue.jsï¼Œä¿®æ”¹äº†çš„è¿è¡Œæ—¶æ¡†æ¶ runtime å’Œä»£ç ç¼–è¯‘å™¨ compiler å®ç°ï¼Œä½¿å…¶å¯è¿è¡Œåœ¨å°ç¨‹åºç¯å¢ƒä¸­ï¼Œä»è€Œä¸ºå°ç¨‹åºå¼€å‘å¼•å…¥äº† Vue.js å¼€å‘ä½“éªŒã€‚ å®˜ç½‘é“¾æ¥ï¼šhttp://mpvue.com/ AT-UI AT-UI æ˜¯ä¸€æ¬¾åŸºäº Vue.js 2.0 çš„å‰ç«¯ UI ç»„ä»¶åº“ï¼Œä¸»è¦ç”¨äºå¿«é€Ÿå¼€å‘ PC ç½‘ç«™ä¸­åå°äº§å“ CSS æ ·å¼ç‹¬ç«‹ï¼Œå³ä½¿ä½¿ç”¨ä¸åŒçš„æ¡†æ¶å®ç°ï¼Œä¹Ÿéƒ½èƒ½ä¿æŒç»Ÿä¸€çš„ UI é£æ ¼ï¼ˆ è¯¦è§ï¼šAT-UI Style ï¼‰ æä¾›å‹å¥½çš„ APIï¼Œå¯çµæ´»çš„ä½¿ç”¨ç»„ä»¶ã€‚ å®˜ç½‘é“¾æ¥ï¼š https://at-ui.github.io/at-ui/#/zh Element UI é¥¿äº†ä¹ˆ - åŸºäº Vue çš„ç»„ä»¶åº“ å®˜ç½‘é“¾æ¥ï¼šhttps://element.eleme.cn/#/zh-CN iView iView æ˜¯ä¸€å¥—åŸºäº Vue.js çš„å¼€æº UI ç»„ä»¶åº“ï¼Œä¸»è¦æœåŠ¡äº PC ç•Œé¢çš„ä¸­åå°äº§å“ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttps://element.eleme.cn/#/zh-CN HeyUI HeyUI æ˜¯ä¸€å¥—åŸºäº Vue2.0 çš„å¼€æº UI ç»„ä»¶åº“ï¼Œä¸»è¦æœåŠ¡äºä¸€äº›ä¸­åå°äº§å“ã€‚ ç‰¹æ€§ HeyUIæä¾›çš„æ˜¯ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆï¼Œæ‰€æœ‰çš„ç»„ä»¶æä¾›å…¨å±€çš„å¯é…ç½®æ¨¡å¼ã€‚ çœŸæ­£çš„æ•°æ®é©±åŠ¨ å…¨å±€çš„é…ç½®æ¨¡å¼ æ•°æ®å­—å…¸åŒ– å®˜ç½‘é“¾æ¥ï¼šhttps://www.heyui.top/ GitHubï¼šhttps://github.com/heyui/heyui Ant Design of Vue åŸºäº Ant Design è®¾è®¡è¯­è¨€ Ant Design çš„ Vue å®ç°ï¼Œå¼€å‘å’ŒæœåŠ¡äºä¼ä¸šçº§åå°äº§å“ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttps://vue.ant.design/ Muse-UI Muse UI æ˜¯ä¸€å¥— Material Design é£æ ¼å¼€æºç»„ä»¶åº“ï¼Œæ—¨åœ¨å¿«é€Ÿæ­å»ºé¡µé¢ã€‚å®ƒåŸºäº Vue 2.0 å¼€å‘ï¼Œå¹¶æä¾›äº†è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå……åˆ†æ»¡è¶³å¯å®šåˆ¶åŒ–çš„éœ€æ±‚ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttps://muse-ui.org/#/zh-CN GitHubï¼šhttps://github.com/museui/muse-ui ","link":"https://lingtin.github.io/post/XhORDmL-X/"},{"title":"ES6ã€ES7ã€ES8æ–°ç‰¹æ€§(é€Ÿè¯»)","content":"ğŸ˜‡ğŸ˜‡ ESå…¨ç§°ECMAScriptï¼ŒECMAScriptæ˜¯ECMAåˆ¶å®šçš„æ ‡å‡†åŒ–è„šæœ¬è¯­è¨€ã€‚ç›®å‰JavaScriptä½¿ç”¨çš„ECMAScriptç‰ˆæœ¬ä¸ºECMAScript-262ã€‚ ECMAScript æ ‡å‡†å»ºç«‹åœ¨ä¸€äº›åŸæœ‰çš„æŠ€æœ¯ä¸Šï¼Œæœ€ä¸ºè‘—åçš„æ˜¯ JavaScript (ç½‘æ™¯) å’Œ JScript (å¾®è½¯)ã€‚å®ƒæœ€åˆç”±ç½‘æ™¯çš„ Brendan Eich å‘æ˜ï¼Œç¬¬ä¸€æ¬¡å‡ºç°æ˜¯åœ¨ç½‘æ™¯çš„ Navigator 2.0 æµè§ˆå™¨ä¸Šã€‚Netscape 2.0 ä»¥åŠå¾®è½¯ Internet Explorer 3.0 ååºçš„æ‰€æœ‰æµè§ˆå™¨ä¸Šéƒ½æœ‰å®ƒçš„èº«å½±ã€‚ ECMAScript 2009(ES5) 2009å¹´11æœˆ æ‰©å±•äº†Objectã€Arrayã€Functionçš„åŠŸèƒ½ç­‰ ECMAScript 2015(ES6) 2015å¹´6æœˆ ç±»ï¼Œæ¨¡å—åŒ–ï¼Œç®­å¤´å‡½æ•°ï¼Œå‡½æ•°å‚æ•°é»˜è®¤å€¼ç­‰ ECMAScript 2016(ES7) 2016å¹´3æœˆ includesï¼ŒæŒ‡æ•°æ“ä½œç¬¦ ECMAScript 2017(ES8) 2017å¹´6æœˆ sync/awaitï¼ŒObject.values()ï¼ŒObject.entries()ï¼ŒString paddingç­‰ äº†è§£è¿™äº›ç‰¹æ€§ï¼Œä¸ä»…èƒ½ä½¿æˆ‘ä»¬çš„ç¼–ç æ›´åŠ çš„ç¬¦åˆè§„èŒƒï¼Œè€Œä¸”èƒ½æé«˜æˆ‘ä»¬Codingçš„æ•ˆç‡ã€‚ ES6çš„ç‰¹æ€§æ¯”è¾ƒå¤šï¼Œåœ¨ ES5 å‘å¸ƒè¿‘ 6 å¹´ï¼ˆ2009-11 è‡³ 2015-6ï¼‰ä¹‹åæ‰å°†å…¶æ ‡å‡†åŒ–ã€‚ä¸¤ä¸ªå‘å¸ƒç‰ˆæœ¬ä¹‹é—´æ—¶é—´è·¨åº¦å¾ˆå¤§ï¼Œæ‰€ä»¥ES6ä¸­çš„ç‰¹æ€§æ¯”è¾ƒå¤šã€‚ åœ¨è¿™é‡Œåˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„ï¼š ç±» æ¨¡å—åŒ– ç®­å¤´å‡½æ•° å‡½æ•°å‚æ•°é»˜è®¤å€¼ æ¨¡æ¿å­—ç¬¦ä¸² è§£æ„èµ‹å€¼ å»¶å±•æ“ä½œç¬¦ å¯¹è±¡å±æ€§ç®€å†™ Promise Letä¸Const 1.ç±»ï¼ˆclassï¼‰ å¯¹ç†Ÿæ‚‰Javaï¼Œobject-cï¼Œc#ç­‰çº¯é¢å‘å¯¹è±¡è¯­è¨€çš„å¼€å‘è€…æ¥è¯´ï¼Œéƒ½ä¼šå¯¹classæœ‰ä¸€ç§ç‰¹æ®Šçš„æƒ…æ€€ã€‚ES6 å¼•å…¥äº†classï¼ˆç±»ï¼‰ï¼Œè®©JavaScriptçš„é¢å‘å¯¹è±¡ç¼–ç¨‹å˜å¾—æ›´åŠ ç®€å•å’Œæ˜“äºç†è§£ã€‚ class Animal { // æ„é€ å‡½æ•°ï¼Œå®ä¾‹åŒ–çš„æ—¶å€™å°†ä¼šè¢«è°ƒç”¨ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€ä¸ªä¸å¸¦å‚æ•°çš„é»˜è®¤æ„é€ å‡½æ•°. constructor(name,color) { this.name = name; this.color = color; } // toString æ˜¯åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ toString() { console.log('name:' + this.name + ',color:' + this.color); } } var animal = new Animal('dog','white');//å®ä¾‹åŒ–Animal animal.toString(); console.log(animal.hasOwnProperty('name')); //true console.log(animal.hasOwnProperty('toString')); // false console.log(animal.__proto__.hasOwnProperty('toString')); // true class Cat extends Animal { constructor(action) { // å­ç±»å¿…é¡»è¦åœ¨constructorä¸­æŒ‡å®šsuper å‡½æ•°ï¼Œå¦åˆ™åœ¨æ–°å»ºå®ä¾‹çš„æ—¶å€™ä¼šæŠ¥é”™. // å¦‚æœæ²¡æœ‰ç½®é¡¶consructor,é»˜è®¤å¸¦superå‡½æ•°çš„constructorå°†ä¼šè¢«æ·»åŠ ã€ super('cat','white'); this.action = action; } toString() { console.log(super.toString()); } } var cat = new Cat('catch') cat.toString(); // å®ä¾‹cat æ˜¯ Cat å’Œ Animal çš„å®ä¾‹ï¼Œå’ŒEs5å®Œå…¨ä¸€è‡´ã€‚ console.log(cat instanceof Cat); // true console.log(cat instanceof Animal); // true 2.æ¨¡å—åŒ–(Module) ES5ä¸æ”¯æŒåŸç”Ÿçš„æ¨¡å—åŒ–ï¼Œåœ¨ES6ä¸­æ¨¡å—ä½œä¸ºé‡è¦çš„ç»„æˆéƒ¨åˆ†è¢«æ·»åŠ è¿›æ¥ã€‚æ¨¡å—çš„åŠŸèƒ½ä¸»è¦ç”± export å’Œ import ç»„æˆã€‚æ¯ä¸€ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±å•ç‹¬çš„ä½œç”¨åŸŸï¼Œæ¨¡å—ä¹‹é—´çš„ç›¸äº’è°ƒç”¨å…³ç³»æ˜¯é€šè¿‡ export æ¥è§„å®šæ¨¡å—å¯¹å¤–æš´éœ²çš„æ¥å£ï¼Œé€šè¿‡importæ¥å¼•ç”¨å…¶å®ƒæ¨¡å—æä¾›çš„æ¥å£ã€‚åŒæ—¶è¿˜ä¸ºæ¨¡å—åˆ›é€ äº†å‘½åç©ºé—´ï¼Œé˜²æ­¢å‡½æ•°çš„å‘½åå†²çªã€‚ å¯¼å‡º(export) ES6å…è®¸åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ä½¿ç”¨exportæ¥å¯¼å‡ºå¤šä¸ªå˜é‡æˆ–å‡½æ•°ã€‚ å¯¼å‡ºå˜é‡ //test.js export var name = 'Rainbow' å¿ƒå¾—ï¼šES6ä¸ä»…æ”¯æŒå˜é‡çš„å¯¼å‡ºï¼Œä¹Ÿæ”¯æŒå¸¸é‡çš„å¯¼å‡ºã€‚ export const sqrt = Math.sqrt;//å¯¼å‡ºå¸¸é‡ ES6å°†ä¸€ä¸ªæ–‡ä»¶è§†ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œä¸Šé¢çš„æ¨¡å—é€šè¿‡ export å‘å¤–è¾“å‡ºäº†ä¸€ä¸ªå˜é‡ã€‚ä¸€ä¸ªæ¨¡å—ä¹Ÿå¯ä»¥åŒæ—¶å¾€å¤–é¢è¾“å‡ºå¤šä¸ªå˜é‡ã€‚ //test.js var name = 'Rainbow'; var age = '24'; export {name, age}; å¤åˆ¶ä»£ç å¯¼å‡ºå‡½æ•° // myModule.js export function myModule(someArg) { return someArg; } å¯¼å…¥(import) å®šä¹‰å¥½æ¨¡å—çš„è¾“å‡ºä»¥åå°±å¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªæ¨¡å—é€šè¿‡importå¼•ç”¨ã€‚ import {myModule} from 'myModule';// main.js import {name,age} from 'test';// test.js å¿ƒå¾—:ä¸€æ¡import è¯­å¥å¯ä»¥åŒæ—¶å¯¼å…¥é»˜è®¤å‡½æ•°å’Œå…¶å®ƒå˜é‡ã€‚import defaultMethod, { otherMethod } from 'xxx.js'; 3.ç®­å¤´ï¼ˆArrowï¼‰å‡½æ•° è¿™æ˜¯ES6ä¸­æœ€ä»¤äººæ¿€åŠ¨çš„ç‰¹æ€§ä¹‹ä¸€ã€‚=&gt;ä¸åªæ˜¯å…³é”®å­—functionçš„ç®€å†™ï¼Œå®ƒè¿˜å¸¦æ¥äº†å…¶å®ƒå¥½å¤„ã€‚ç®­å¤´å‡½æ•°ä¸åŒ…å›´å®ƒçš„ä»£ç å…±äº«åŒä¸€ä¸ªthis,èƒ½å¸®ä½ å¾ˆå¥½çš„è§£å†³thisçš„æŒ‡å‘é—®é¢˜ã€‚æœ‰ç»éªŒçš„JavaScriptå¼€å‘è€…éƒ½ç†Ÿæ‚‰è¯¸å¦‚var self = this;æˆ–var that = thisè¿™ç§å¼•ç”¨å¤–å›´thisçš„æ¨¡å¼ã€‚ä½†å€ŸåŠ©=&gt;ï¼Œå°±ä¸éœ€è¦è¿™ç§æ¨¡å¼äº†ã€‚ ç®­å¤´å‡½æ•°çš„ç»“æ„ ç®­å¤´å‡½æ•°çš„ç®­å¤´=&gt;ä¹‹å‰æ˜¯ä¸€ä¸ªç©ºæ‹¬å·ã€å•ä¸ªçš„å‚æ•°åã€æˆ–ç”¨æ‹¬å·æ‹¬èµ·çš„å¤šä¸ªå‚æ•°åï¼Œè€Œç®­å¤´ä¹‹åå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼‰ï¼Œæˆ–è€…æ˜¯ç”¨èŠ±æ‹¬å·æ‹¬èµ·çš„å‡½æ•°ä½“ï¼ˆéœ€è¦è‡ªè¡Œé€šè¿‡returnæ¥è¿”å›å€¼ï¼Œå¦åˆ™è¿”å›çš„æ˜¯undefinedï¼‰ã€‚ // ç®­å¤´å‡½æ•°çš„ä¾‹å­ ()=&gt;1 v=&gt;v+1 (a,b)=&gt;a+b ()=&gt;{ alert(&quot;foo&quot;); } e=&gt;{ if (e == 0){ return 0; } return 1000/e; } å¿ƒå¾—ï¼šä¸è®ºæ˜¯ç®­å¤´å‡½æ•°è¿˜æ˜¯bindï¼Œæ¯æ¬¡è¢«æ‰§è¡Œéƒ½è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°å¼•ç”¨ï¼Œå› æ­¤å¦‚æœä½ è¿˜éœ€è¦å‡½æ•°çš„å¼•ç”¨å»åšä¸€äº›åˆ«çš„äº‹æƒ…ï¼ˆè­¬å¦‚å¸è½½ç›‘å¬å™¨ï¼‰ï¼Œé‚£ä¹ˆä½ å¿…é¡»è‡ªå·±ä¿å­˜è¿™ä¸ªå¼•ç”¨ã€‚ å¸è½½ç›‘å¬å™¨æ—¶çš„é™·é˜± é”™è¯¯çš„åšæ³• class PauseMenu extends React.Component{ componentWillMount(){ AppStateIOS.addEventListener('change', this.onAppPaused.bind(this)); } componentWillUnmount(){ AppStateIOS.removeEventListener('change', this.onAppPaused.bind(this)); } onAppPaused(event){ } } æ­£ç¡®çš„åšæ³• class PauseMenu extends React.Component{ constructor(props){ super(props); this._onAppPaused = this.onAppPaused.bind(this); } componentWillMount(){ AppStateIOS.addEventListener('change', this._onAppPaused); } componentWillUnmount(){ AppStateIOS.removeEventListener('change', this._onAppPaused); } onAppPaused(event){ } } é™¤ä¸Šè¿°çš„åšæ³•å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿™æ ·åšï¼š class PauseMenu extends React.Component{ componentWillMount(){ AppStateIOS.addEventListener('change', this.onAppPaused); } componentWillUnmount(){ AppStateIOS.removeEventListener('change', this.onAppPaused); } onAppPaused = (event) =&gt; { //æŠŠå‡½æ•°ç›´æ¥ä½œä¸ºä¸€ä¸ªarrow functionçš„å±æ€§æ¥å®šä¹‰ï¼Œåˆå§‹åŒ–çš„æ—¶å€™å°±ç»‘å®šå¥½äº†thisæŒ‡é’ˆ } } éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¸è®ºæ˜¯bindè¿˜æ˜¯ç®­å¤´å‡½æ•°ï¼Œæ¯æ¬¡è¢«æ‰§è¡Œéƒ½è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°å¼•ç”¨ï¼Œå› æ­¤å¦‚æœä½ è¿˜éœ€è¦å‡½æ•°çš„å¼•ç”¨å»åšä¸€äº›åˆ«çš„äº‹æƒ…ï¼ˆè­¬å¦‚å¸è½½ç›‘å¬å™¨ï¼‰ï¼Œé‚£ä¹ˆä½ å¿…é¡»è‡ªå·±ä¿å­˜è¿™ä¸ªå¼•ç”¨ã€‚ 4.å‡½æ•°å‚æ•°é»˜è®¤å€¼ ES6æ”¯æŒåœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼ï¼š function foo(height = 50, color = 'red') { // ... } ä¸ä½¿ç”¨é»˜è®¤å€¼ï¼š function foo(height, color) { var height = height || 50; var color = color || 'red'; //... } è¿™æ ·å†™ä¸€èˆ¬æ²¡é—®é¢˜ï¼Œä½†å½“å‚æ•°çš„å¸ƒå°”å€¼ä¸ºfalseæ—¶ï¼Œå°±ä¼šæœ‰é—®é¢˜äº†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬è¿™æ ·è°ƒç”¨fooå‡½æ•°ï¼š foo(0, &quot;&quot;) å¤åˆ¶ä»£ç å› ä¸º0çš„å¸ƒå°”å€¼ä¸ºfalseï¼Œè¿™æ ·heightçš„å–å€¼å°†æ˜¯50ã€‚åŒç†colorçš„å–å€¼ä¸ºâ€˜redâ€™ã€‚ æ‰€ä»¥è¯´ï¼Œå‡½æ•°å‚æ•°é»˜è®¤å€¼ä¸ä»…èƒ½æ˜¯ä»£ç å˜å¾—æ›´åŠ ç®€æ´è€Œä¸”èƒ½è§„é¿ä¸€äº›é—®é¢˜ã€‚ 5.æ¨¡æ¿å­—ç¬¦ä¸² ES6æ”¯æŒæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä½¿å¾—å­—ç¬¦ä¸²çš„æ‹¼æ¥æ›´åŠ çš„ç®€æ´ã€ç›´è§‚ã€‚ ä¸ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼š var name = 'Your name is ' + first + ' ' + last + '.' ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼š var name = `Your name is ${first} ${last}.` åœ¨ES6ä¸­é€šè¿‡${}å°±å¯ä»¥å®Œæˆå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œåªéœ€è¦å°†å˜é‡æ”¾åœ¨å¤§æ‹¬å·ä¹‹ä¸­ã€‚ 6.è§£æ„èµ‹å€¼ è§£æ„èµ‹å€¼è¯­æ³•æ˜¯JavaScriptçš„ä¸€ç§è¡¨è¾¾å¼ï¼Œå¯ä»¥æ–¹ä¾¿çš„ä»æ•°ç»„æˆ–è€…å¯¹è±¡ä¸­å¿«é€Ÿæå–å€¼èµ‹ç»™å®šä¹‰çš„å˜é‡ã€‚ è·å–æ•°ç»„ä¸­çš„å€¼ ä»æ•°ç»„ä¸­è·å–å€¼å¹¶èµ‹å€¼åˆ°å˜é‡ä¸­ï¼Œå˜é‡çš„é¡ºåºä¸æ•°ç»„ä¸­å¯¹è±¡é¡ºåºå¯¹åº”ã€‚ var foo = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;]; var [one, two, three] = foo; console.log(one); // &quot;one&quot; console.log(two); // &quot;two&quot; console.log(three); // &quot;three&quot; //å¦‚æœä½ è¦å¿½ç•¥æŸäº›å€¼ï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„å†™æ³•è·å–ä½ æƒ³è¦çš„å€¼ var [first, , , last] = foo; console.log(first); // &quot;one&quot; console.log(last); // &quot;four&quot; //ä½ ä¹Ÿå¯ä»¥è¿™æ ·å†™ var a, b; //å…ˆå£°æ˜å˜é‡ [a, b] = [1, 2]; console.log(a); // 1 console.log(b); // 2 å¦‚æœæ²¡æœ‰ä»æ•°ç»„ä¸­çš„è·å–åˆ°å€¼ï¼Œä½ å¯ä»¥ä¸ºå˜é‡è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ã€‚ var a, b; [a=5, b=7] = [1]; console.log(a); // 1 console.log(b); // 7 é€šè¿‡è§£æ„èµ‹å€¼å¯ä»¥æ–¹ä¾¿çš„äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ã€‚ var a = 1; var b = 3; [a, b] = [b, a]; console.log(a); // 3 console.log(b); // 1 è·å–å¯¹è±¡ä¸­çš„å€¼ const student = { name:'Ming', age:'18', city:'Shanghai' }; const {name,age,city} = student; console.log(name); // &quot;Ming&quot; console.log(age); // &quot;18&quot; console.log(city); // &quot;Shanghai&quot; 7.å»¶å±•æ“ä½œç¬¦(Spread operator) å»¶å±•æ“ä½œç¬¦...å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶, å°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€…stringåœ¨è¯­æ³•å±‚é¢å±•å¼€ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å¯¹è±¡æ—¶, å°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰key-valueçš„æ–¹å¼å±•å¼€ã€‚ è¯­æ³• å‡½æ•°è°ƒç”¨ï¼š myFunction(...iterableObj); æ•°ç»„æ„é€ æˆ–å­—ç¬¦ä¸²ï¼š [...iterableObj, '4', ...'hello', 6]; æ„é€ å¯¹è±¡æ—¶,è¿›è¡Œå…‹éš†æˆ–è€…å±æ€§æ‹·è´ï¼ˆECMAScript 2018è§„èŒƒæ–°å¢ç‰¹æ€§ï¼‰ï¼š let objClone = { ...obj }; åº”ç”¨åœºæ™¯ åœ¨å‡½æ•°è°ƒç”¨æ—¶ä½¿ç”¨å»¶å±•æ“ä½œç¬¦ function sum(x, y, z) { return x + y + z; } const numbers = [1, 2, 3]; //ä¸ä½¿ç”¨å»¶å±•æ“ä½œç¬¦ console.log(sum.apply(null, numbers)); //ä½¿ç”¨å»¶å±•æ“ä½œç¬¦ console.log(sum(...numbers));// 6 æ„é€ æ•°ç»„ æ²¡æœ‰å±•å¼€è¯­æ³•çš„æ—¶å€™ï¼Œåªèƒ½ç»„åˆä½¿ç”¨ pushï¼Œspliceï¼Œconcat ç­‰æ–¹æ³•ï¼Œæ¥å°†å·²æœ‰æ•°ç»„å…ƒç´ å˜æˆæ–°æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚æœ‰äº†å±•å¼€è¯­æ³•, æ„é€ æ–°æ•°ç»„ä¼šå˜å¾—æ›´ç®€å•ã€æ›´ä¼˜é›…ï¼š const stuendts = ['Jine','Tom']; const persons = ['Tony',... stuendts,'Aaron','Anna']; conslog.log(persions)// [&quot;Tony&quot;, &quot;Jine&quot;, &quot;Tom&quot;, &quot;Aaron&quot;, &quot;Anna&quot;] å’Œå‚æ•°åˆ—è¡¨çš„å±•å¼€ç±»ä¼¼, ... åœ¨æ„é€ å­—æ•°ç»„æ—¶, å¯ä»¥åœ¨ä»»æ„ä½ç½®å¤šæ¬¡ä½¿ç”¨ã€‚ æ•°ç»„æ‹·è´ var arr = [1, 2, 3]; var arr2 = [...arr]; // ç­‰åŒäº arr.slice() arr2.push(4); console.log(arr2)//[1, 2, 3, 4] å±•å¼€è¯­æ³•å’Œ Object.assign() è¡Œä¸ºä¸€è‡´, æ‰§è¡Œçš„éƒ½æ˜¯æµ…æ‹·è´(åªéå†ä¸€å±‚)ã€‚ è¿æ¥å¤šä¸ªæ•°ç»„ var arr1 = [0, 1, 2]; var arr2 = [3, 4, 5]; var arr3 = [...arr1, ...arr2];// å°† arr2 ä¸­æ‰€æœ‰å…ƒç´ é™„åŠ åˆ° arr1 åé¢å¹¶è¿”å› //ç­‰åŒäº var arr4 = arr1.concat(arr2); åœ¨ECMAScript 2018ä¸­å»¶å±•æ“ä½œç¬¦å¢åŠ äº†å¯¹å¯¹è±¡çš„æ”¯æŒ var obj1 = { foo: 'bar', x: 42 }; var obj2 = { foo: 'baz', y: 13 }; var clonedObj = { ...obj1 }; // å…‹éš†åçš„å¯¹è±¡: { foo: &quot;bar&quot;, x: 42 } var mergedObj = { ...obj1, ...obj2 }; // åˆå¹¶åçš„å¯¹è±¡: { foo: &quot;baz&quot;, x: 42, y: 13 } åœ¨Reactä¸­çš„åº”ç”¨ é€šå¸¸æˆ‘ä»¬åœ¨å°è£…ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œä¼šå¯¹å¤–å…¬å¼€ä¸€äº› props ç”¨äºå®ç°åŠŸèƒ½ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹åœ¨å¤–éƒ¨ä½¿ç”¨éƒ½åº”æ˜¾ç¤ºçš„ä¼ é€’ props ã€‚ä½†æ˜¯å½“ä¼ é€’å¤§é‡çš„propsæ—¶ï¼Œä¼šéå¸¸ç¹çï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ...(å»¶å±•æ“ä½œç¬¦,ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éå†å±æ€§) æ¥è¿›è¡Œä¼ é€’ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥è¿™æ ·å†™ &lt;CustomComponent name ='Jine' age ={21} /&gt; ä½¿ç”¨ ... ï¼Œç­‰åŒäºä¸Šé¢çš„å†™æ³• const params = { name: 'Jine', age: 21 } &lt;CustomComponent {...params} /&gt; é…åˆè§£æ„èµ‹å€¼é¿å…ä¼ å…¥ä¸€äº›ä¸éœ€è¦çš„å‚æ•° var params = { name: '123', title: '456', type: 'aaa' } var { type, ...other } = params; &lt;CustomComponent type='normal' number={2} {...other} /&gt; //ç­‰åŒäº &lt;CustomComponent type='normal' number={2} name='123' title='456' /&gt; 8.å¯¹è±¡å±æ€§ç®€å†™ åœ¨ES6ä¸­å…è®¸æˆ‘ä»¬åœ¨è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§çš„æ—¶å€™ä¸æŒ‡å®šå±æ€§åã€‚ ä¸ä½¿ç”¨ES6 const name='Ming',age='18',city='Shanghai'; const student = { name:name, age:age, city:city }; console.log(student);//{name: &quot;Ming&quot;, age: &quot;18&quot;, city: &quot;Shanghai&quot;} å¯¹è±¡ä¸­å¿…é¡»åŒ…å«å±æ€§å’Œå€¼ï¼Œæ˜¾å¾—éå¸¸å†—ä½™ã€‚ ä½¿ç”¨ES6 const name='Ming',age='18',city='Shanghai'; const student = { name, age, city }; console.log(student);//{name: &quot;Ming&quot;, age: &quot;18&quot;, city: &quot;Shanghai&quot;} å¯¹è±¡ä¸­ç›´æ¥å†™å˜é‡ï¼Œéå¸¸ç®€æ´ã€‚ 9.Promise Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆcallbackæ›´åŠ çš„ä¼˜é›…ã€‚å®ƒæœ€æ—©ç”±ç¤¾åŒºæå‡ºå’Œå®ç°çš„ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚ ä¸ä½¿ç”¨ES6 åµŒå¥—ä¸¤ä¸ªsetTimeoutå›è°ƒå‡½æ•°ï¼š setTimeout(function() { console.log('Hello'); // 1ç§’åè¾“å‡º&quot;Hello&quot; setTimeout(function() { console.log('Hi'); // 2ç§’åè¾“å‡º&quot;Hi&quot; }, 1000); }, 1000); ä½¿ç”¨ES6 var waitSecond = new Promise(function(resolve, reject) { setTimeout(resolve, 1000); }); waitSecond .then(function() { console.log(&quot;Hello&quot;); // 1ç§’åè¾“å‡º&quot;Hello&quot; return waitSecond; }) .then(function() { console.log(&quot;Hi&quot;); // 2ç§’åè¾“å‡º&quot;Hi&quot; }); ä¸Šé¢çš„çš„ä»£ç ä½¿ç”¨ä¸¤ä¸ªthenæ¥è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹ä¸²è¡ŒåŒ–ï¼Œé¿å…äº†å›è°ƒåœ°ç‹±ï¼š 10.æ”¯æŒletä¸const åœ¨ä¹‹å‰JSæ˜¯æ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„ï¼Œconstä¸letå¡«è¡¥äº†è¿™æ–¹ä¾¿çš„ç©ºç™½ï¼Œconstä¸letéƒ½æ˜¯å—çº§ä½œç”¨åŸŸã€‚ ä½¿ç”¨varå®šä¹‰çš„å˜é‡ä¸ºå‡½æ•°çº§ä½œç”¨åŸŸï¼š { var a = 10; } console.log(a); // è¾“å‡º10 ä½¿ç”¨letä¸constå®šä¹‰çš„å˜é‡ä¸ºå—çº§ä½œç”¨åŸŸï¼š { let a = 10; } console.log(a); //-1 or Errorâ€œReferenceError: a is not definedâ€ ES7çš„ç‰¹æ€§ åœ¨ES6ä¹‹åï¼ŒESçš„å‘å¸ƒé¢‘ç‡æ›´åŠ é¢‘ç¹ï¼ŒåŸºæœ¬æ¯å¹´ä¸€æ¬¡ï¼Œæ‰€ä»¥è‡ªES6ä¹‹åï¼Œæ¯ä¸ªæ–°ç‰ˆæœ¬çš„ç‰¹æ€§çš„æ•°é‡å°±æ¯”è¾ƒå°‘ã€‚ includes() æŒ‡æ•°æ“ä½œç¬¦ Array.prototype.includes() includes() å‡½æ•°ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚ includes å‡½æ•°ä¸ indexOf å‡½æ•°å¾ˆç›¸ä¼¼ï¼Œä¸‹é¢ä¸¤ä¸ªè¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š arr.includes(x) arr.indexOf(x) &gt;= 0 æ¥ä¸‹æ¥æˆ‘ä»¬æ¥åˆ¤æ–­æ•°å­—ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼š åœ¨ES7ä¹‹å‰çš„åšæ³• ä½¿ç”¨indexOf()éªŒè¯æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ ï¼Œè¿™æ—¶éœ€è¦æ ¹æ®è¿”å›å€¼æ˜¯å¦ä¸º-1æ¥åˆ¤æ–­ï¼š let arr = ['react', 'angular', 'vue']; if (arr.indexOf('react') !== -1) { console.log('reactå­˜åœ¨'); } ä½¿ç”¨ES7çš„includes() ä½¿ç”¨includes()éªŒè¯æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ ï¼Œè¿™æ ·æ›´åŠ ç›´è§‚ç®€å•ï¼š let arr = ['react', 'angular', 'vue']; if (arr.includes('react')) { console.log('reactå­˜åœ¨'); } 2.æŒ‡æ•°æ“ä½œç¬¦ åœ¨ES7ä¸­å¼•å…¥äº†æŒ‡æ•°è¿ç®—ç¬¦**ï¼Œ**å…·æœ‰ä¸Math.pow(..)ç­‰æ•ˆçš„è®¡ç®—ç»“æœã€‚ ä¸ä½¿ç”¨æŒ‡æ•°æ“ä½œç¬¦ ä½¿ç”¨è‡ªå®šä¹‰çš„é€’å½’å‡½æ•°calculateExponentæˆ–è€…Math.pow()è¿›è¡ŒæŒ‡æ•°è¿ç®—ï¼š function calculateExponent(base, exponent) { if (exponent === 1) { return base; } else { return base * calculateExponent(base, exponent - 1); } } console.log(calculateExponent(2, 10)); // è¾“å‡º1024 console.log(Math.pow(2, 10)); // è¾“å‡º1024 ä½¿ç”¨æŒ‡æ•°æ“ä½œç¬¦ ä½¿ç”¨æŒ‡æ•°è¿ç®—ç¬¦**ï¼Œå°±åƒ+ã€-ç­‰æ“ä½œç¬¦ä¸€æ ·ï¼š console.log(2**10);// è¾“å‡º1024 å¤åˆ¶ä»£ç ES8çš„ç‰¹æ€§ async/await Object.values() Object.entries() String padding å‡½æ•°å‚æ•°åˆ—è¡¨ç»“å°¾å…è®¸é€—å· Object.getOwnPropertyDescriptors() æµè§ˆå™¨å…¼å®¹æ€§ 1.async/await åœ¨ES8ä¸­åŠ å…¥äº†å¯¹async/awaitçš„æ”¯æŒï¼Œä¹Ÿå°±æˆ‘ä»¬æ‰€è¯´çš„å¼‚æ­¥å‡½æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„åŠŸèƒ½ã€‚ async/awaitå°†æˆ‘ä»¬ä»å¤´ç—›çš„å›è°ƒåœ°ç‹±ä¸­è§£è„±å‡ºæ¥äº†ï¼Œä½¿æ•´ä¸ªä»£ç çœ‹èµ·æ¥å¾ˆç®€æ´ã€‚ ä½¿ç”¨async/awaitä¸ä¸ä½¿ç”¨async/awaitçš„å·®åˆ«ï¼š login(userName) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve('1001'); }, 600); }); } getData(userId) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { if (userId === '1001') { resolve('Success'); } else { reject('Fail'); } }, 600); }); } // ä¸ä½¿ç”¨async/await ES7 doLogin(userName) { this.login(userName) .then(this.getData) .then(result =&gt; { console.log(result) }) } // ä½¿ç”¨async/await ES8 async doLogin2(userName) { const userId=await this.login(userName); const result=await this.getData(userId); } this.doLogin()// Success this.doLogin2()// Success async/awaitçš„å‡ ç§åº”ç”¨åœºæ™¯ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹async/awaitçš„å‡ ç§åº”ç”¨åœºæ™¯ã€‚ è·å–å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼ å¼‚æ­¥å‡½æ•°æœ¬èº«ä¼šè¿”å›ä¸€ä¸ªPromiseï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡thenæ¥è·å–å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼ã€‚ async function charCountAdd(data1, data2) { const d1=await charCount(data1); const d2=await charCount(data2); return d1+d2; } charCountAdd('Hello','Hi').then(console.log);//é€šè¿‡thenè·å–å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼ã€‚ function charCount(data) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(data.length); }, 1000); }); } async/awaitåœ¨å¹¶å‘åœºæ™¯ä¸­çš„åº”ç”¨ å¯¹äºä¸Šè¿°çš„ä¾‹å­ï¼Œæˆ‘ä»¬è°ƒç”¨awaitä¸¤æ¬¡ï¼Œæ¯æ¬¡éƒ½æ˜¯ç­‰å¾…1ç§’ä¸€å…±æ˜¯2ç§’ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œè€Œä¸”ä¸¤æ¬¡awaitçš„è°ƒç”¨å¹¶æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œé‚£èƒ½ä¸èƒ½è®©å…¶å¹¶å‘æ‰§è¡Œå‘¢ï¼Œç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡Promise.allæ¥å®ç°awaitçš„å¹¶å‘è°ƒç”¨ã€‚ async function charCountAdd(data1, data2) { const [d1,d2]=await Promise.all([charCount(data1),charCount(data2)]); return d1+d2; } charCountAdd('Hello','Hi').then(console.log); function charCount(data) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(data.length); }, 1000); }); } é€šè¿‡ä¸Šè¿°ä»£ç æˆ‘ä»¬å®ç°äº†ä¸¤æ¬¡charCountçš„å¹¶å‘è°ƒç”¨ï¼ŒPromise.allæ¥å—çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒå¯ä»¥å°†æ•°ç»„ä¸­çš„promiseå¯¹è±¡å¹¶å‘æ‰§è¡Œï¼› async/awaitçš„å‡ ç§é”™è¯¯å¤„ç†æ–¹å¼ ç¬¬ä¸€ç§ï¼šæ•æ‰æ•´ä¸ªasync/awaitå‡½æ•°çš„é”™è¯¯ async function charCountAdd(data1, data2) { const d1=await charCount(data1); const d2=await charCount(data2); return d1+d2; } charCountAdd('Hello','Hi') .then(console.log) .catch(console.log);//æ•æ‰æ•´ä¸ªasync/awaitå‡½æ•°çš„é”™è¯¯ ... è¿™ç§æ–¹å¼å¯ä»¥æ•æ‰æ•´ä¸ªcharCountAddè¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„é”™è¯¯ï¼Œé”™è¯¯å¯èƒ½æ˜¯ç”±charCountAddæœ¬èº«äº§ç”Ÿçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯ç”±å¯¹data1çš„è®¡ç®—ä¸­æˆ–data2çš„è®¡ç®—ä¸­äº§ç”Ÿçš„ã€‚ ç¬¬äºŒç§ï¼šæ•æ‰å•ä¸ªçš„awaitè¡¨è¾¾å¼çš„é”™è¯¯ async function charCountAdd(data1, data2) { const d1=await charCount(data1) .catch(e=&gt;console.log('d1 is null')); const d2=await charCount(data2) .catch(e=&gt;console.log('d2 is null')); return d1+d2; } charCountAdd('Hello','Hi').then(console.log); é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥æ•æ‰æ¯ä¸€ä¸ªawaitè¡¨è¾¾å¼çš„é”™è¯¯ï¼Œå¦‚æœæ—¢è¦æ•æ‰æ¯ä¸€ä¸ªawaitè¡¨è¾¾å¼çš„é”™è¯¯ï¼Œåˆè¦æ•æ‰æ•´ä¸ªcharCountAddå‡½æ•°çš„é”™è¯¯ï¼Œå¯ä»¥åœ¨è°ƒç”¨charCountAddçš„æ—¶å€™åŠ ä¸ªcatchã€‚ ... charCountAdd('Hello','Hi') .then(console.log) .catch(console.log);//æ•æ‰æ•´ä¸ªasync/awaitå‡½æ•°çš„é”™è¯¯ ... ç¬¬ä¸‰ç§ï¼šåŒæ—¶æ•æ‰å¤šä¸ªçš„awaitè¡¨è¾¾å¼çš„é”™è¯¯ async function charCountAdd(data1, data2) { let d1,d2; try { d1=await charCount(data1); d2=await charCount(data2); }catch (e){ console.log('d1 is null'); } return d1+d2; } charCountAdd('Hello','Hi') .then(console.log); function charCount(data) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(data.length); }, 1000); }); } 2.Object.values() Object.values()æ˜¯ä¸€ä¸ªä¸Object.keys()ç±»ä¼¼çš„æ–°å‡½æ•°ï¼Œä½†è¿”å›çš„æ˜¯Objectè‡ªèº«å±æ€§çš„æ‰€æœ‰å€¼ï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„å€¼ã€‚ å‡è®¾æˆ‘ä»¬è¦éå†å¦‚ä¸‹å¯¹è±¡objçš„æ‰€æœ‰å€¼ï¼š const obj = {a: 1, b: 2, c: 3}; ä¸ä½¿ç”¨Object.values() :ES7 const vals=Object.keys(obj).map(key=&gt;obj[key]); console.log(vals);//[1, 2, 3] ä½¿ç”¨Object.values() :ES8 const values=Object.values(obj1); console.log(values);//[1, 2, 3] ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡ºObject.values()ä¸ºæˆ‘ä»¬çœå»äº†éå†keyï¼Œå¹¶æ ¹æ®è¿™äº›keyè·å–valueçš„æ­¥éª¤ã€‚ 3.Object.entries Object.entries()å‡½æ•°è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹çš„æ•°ç»„ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥éå†ä¸Šæ–‡ä¸­çš„objå¯¹è±¡çš„æ‰€æœ‰å±æ€§çš„keyå’Œvalueï¼š ä¸ä½¿ç”¨Object.entries() :ES7 Object.keys(obj).forEach(key=&gt;{ console.log('key:'+key+' value:'+obj[key]); }) //key:a value:1 //key:b value:2 //key:c value:3 ä½¿ç”¨Object.entries() :ES8 for(let [key,value] of Object.entries(obj1)){ console.log(`key: ${key} value:${value}`) } //key:a value:1 //key:b value:2 //key:c value:3 4.String padding åœ¨ES8ä¸­Stringæ–°å¢äº†ä¸¤ä¸ªå®ä¾‹å‡½æ•°String.prototype.padStartå’ŒString.prototype.padEndï¼Œå…è®¸å°†ç©ºå­—ç¬¦ä¸²æˆ–å…¶ä»–å­—ç¬¦ä¸²æ·»åŠ åˆ°åŸå§‹å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾ã€‚ String.padStart(targetLength,[padString]) targetLength:å½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚ padString:(å¯é€‰)å¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ï¼Œæ­¤å‚æ•°çš„ç¼ºçœå€¼ä¸º &quot; &quot;ã€‚ console.log('0.0'.padStart(4,'10')) //10.0 console.log('0.0'.padStart(20))// 0.00 String.padEnd(targetLength,padString]) targetLength:å½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚ padString:(å¯é€‰) å¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ï¼Œæ­¤å‚æ•°çš„ç¼ºçœå€¼ä¸º &quot; &quot;ï¼› console.log('0.0'.padEnd(4,'0')) //0.00 console.log('0.0'.padEnd(10,'0'))//0.00000000 4.å‡½æ•°å‚æ•°åˆ—è¡¨ç»“å°¾å…è®¸é€—å· è¿™æ˜¯ä¸€ä¸ªä¸ç—›ä¸ç—’çš„æ›´æ–°ï¼Œä¸»è¦ä½œç”¨æ˜¯æ–¹ä¾¿ä½¿ç”¨gitè¿›è¡Œå¤šäººåä½œå¼€å‘æ—¶ä¿®æ”¹åŒä¸€ä¸ªå‡½æ•°å‡å°‘ä¸å¿…è¦çš„è¡Œå˜æ›´ã€‚ ä¸ä½¿ç”¨ES8 //ç¨‹åºå‘˜A var f = function(a, b ) { ... } //ç¨‹åºå‘˜B var f = function(a, b, //å˜æ›´è¡Œ c //å˜æ›´è¡Œ ) { ... } //ç¨‹åºå‘˜C var f = function(a, b, c, //å˜æ›´è¡Œ d //å˜æ›´è¡Œ ) { ... } ä½¿ç”¨ES8 //ç¨‹åºå‘˜A var f = function(a, b, ) { ... } //ç¨‹åºå‘˜B var f = function(a, b, c, //å˜æ›´è¡Œ ) { ... } //ç¨‹åºå‘˜C var f = function(a, b, c, d, //å˜æ›´è¡Œ ) { ... } 5.Object.getOwnPropertyDescriptors() 6. Object.getOwnPropertyDescriptors()å‡½æ•°ç”¨æ¥è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°ç¬¦,å¦‚æœæ²¡æœ‰ä»»ä½•è‡ªèº«å±æ€§ï¼Œåˆ™è¿”å›ç©ºå¯¹è±¡ã€‚ å‡½æ•°åŸå‹ï¼š Object.getOwnPropertyDescriptors(obj) å¤åˆ¶ä»£ç è¿”å›objå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°ç¬¦ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•è‡ªèº«å±æ€§ï¼Œåˆ™è¿”å›ç©ºå¯¹è±¡ã€‚ const obj2 = { name: 'Jine', get age() { return '18' } }; Object.getOwnPropertyDescriptors(obj2) // { // age: { // configurable: true, // enumerable: true, // get: function age(){}, //the getter function // set: undefined // }, // name: { // configurable: true, // enumerable: true, // value:&quot;Jine&quot;, // writable:true // } // } å‚ç…§é˜®ä¸€å³°åšå®¢ï¼šhttp://es6.ruanyifeng.com/#README es6å¸¸è§é¢˜ï¼šhttps://blog.csdn.net/qq_39207948/article/details/80678800 æ•°ç»„ç”¨æ³•ï¼šhttps://blog.csdn.net/tang15886395749/article/details/65629898 æ¥æºé“¾æ¥ï¼šhttps://juejin.im/post/5b9cb3336fb9a05d290ee47e ","link":"https://lingtin.github.io/post/hQGSf1dCT/"},{"title":"VsCodeæ‰©å±•æ’ä»¶åŒæ­¥","content":"â­ï¸ VsCodeæ‰©å±•æ’ä»¶åŒæ­¥ ğŸ”¥ğŸ”¥VsCodeæ‰©å±•æ’ä»¶åŒæ­¥ 1ã€åœ¨vscodeæ‰©å±•å¸‚åœº æœç´¢ &quot;Settings Sync&quot; å¹¶å®‰è£… 2ã€ç™»å½•è®¾ç½®GitHub tokenä»¤ç‰Œ ï¼ˆ1ï¼‰ã€åˆ›å»ºToken è¿›å…¥github ç‚¹å‡»å¤´åƒï¼Œç‚¹å‡»Settings ï¼Œç‚¹å‡»å·¦ä¾§ Developer settingsï¼Œ é€‰æ‹© Personal access tokensï¼Œ ç‚¹å‡»Generate New Tokenã€‚ ï¼ˆ2ï¼‰ã€å¡«å†™åç§°å’Œä¸€äº›å‚æ•° è®¾ç½®tokenåç§°ï¼Œå‹¾é€‰gist ç‚¹å‡»åˆ›å»ºtokenã€‚ ï¼ˆ3ï¼‰ã€ä¿å­˜tokenå€¼ï¼ˆ è¿™ä¸ªtokenåªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œä»¥åä¼šç»å¸¸ç”¨åˆ°ï¼‰ 3ã€è®¾ç½®vscode (1)ã€æ‰“å¼€vscodeå‘½ä»¤ è¾“å…¥sync ä¼šæœ‰å‡ ä¸ªé€‰é¡¹ï¼Œè¿™é‡Œç›´æ¥é€‰æ‹©sync update è¿™ä¸ªé€‰é¡¹ (2)ã€ä½¿ç”¨åˆšåˆš ä¿å­˜ä¸‹æ¥token ç›´æ¥å¤åˆ¶è¿›å» syn settingå°±è®¾ç½®å®Œäº†ï¼Œä½ å¯ä»¥ä¸‹è½½ä¸€äº›æ’ä»¶ï¼ŒåŒæ­¥ä¸€ä¸‹ï¼Œç„¶åä½¿ç”¨åŒæ ·çš„tokenè®¾ç½®ï¼Œè¿™æ ·å­å°±å¯ä»¥åŒæ­¥äº†ã€‚ 4ã€åœ¨åˆ«çš„ç”µè„‘è®¾å¤‡åŒæ­¥æ’ä»¶ åŒæ ·å®‰è£…sync setting è¿™ä¸ªæ’ä»¶ï¼Œä½¿ç”¨vscodeå‘½ä»¤ä¸‹ sync download settingï¼Œ ä¼šè®©ä½ å¡«å†™ä¹‹å‰çš„tokenä¿¡æ¯ã€‚ åœ¨è‡ªå·±çš„tokenæ‰¾ä¸åˆ°æƒ…å†µä¸‹ ,å¯ä»¥åœ¨è‡ªå·±åŸè®¾å¤‡çš„ sync update setting æ›´æ–°çš„æ—¶å€™è§‚å¯Ÿä¸‹æ§åˆ¶å°ï¼Œä¹Ÿä¼šæ‰“å°å‡ºä½ çš„tokenä¿¡æ¯ ","link":"https://lingtin.github.io/post/-vsextendsync/"},{"title":"H5 åŒç«¯åº“é›†åˆï¼ˆä¸€ï¼‰","content":"ğŸ‘ğŸ‘ jq,zpåº“é›†åˆ ğŸ‘ğŸ‘ åº“é›†åˆ Mocha ### https://tgideas.qq.com/intro.html Mochaæ˜¯TGideaså®˜æ–¹è®¾è®¡å›¢é˜Ÿï¼Œæ ¹æ®ç›®å‰ç§»åŠ¨ç«¯å®˜ç½‘ã€å¾®å®˜ç½‘ã€è¿è¥æ´»åŠ¨é¡µé¢ä¸Šç»å¸¸å‡ºç°çš„å…ƒç´ è¿›è¡Œæå–ï¼Œé‡èº«æ‰“é€ çš„ç§»åŠ¨ç«¯é¡µé¢UIæ ·å¼åº“ã€‚ç»Ÿä¸€çš„æ¨¡å—ä»£ç é£æ ¼åŠå…¬ç”¨CSSåº“ï¼Œå¯ä»¥ç¼–ç æ•ˆç‡ï¼Œå¸®åŠ©æ—¥å¸¸çš„ç§»åŠ¨ç«¯é¡µé¢å¿«é€Ÿç”Ÿæˆã€‚ ã€domeã€‘ http://tgideas.github.io/mocha/demo/ ã€æ–‡æ¡£ã€‘ http://tgideas.github.io/mocha/docs/ ã€githubã€‘ https://github.com/tgideas/mocha/ TGideas Miloåº“ä½¿ç”¨è¯´æ˜ https://tgideas.qq.com/intro.html ä½¿ç”¨åœºæ™¯ï¼šPCå’Œç§»åŠ¨ç«¯ milo æ˜¯ä¸€æ¬¾å‰ç«¯JSåº“ï¼ŒåŒ…å«äº†åŒç«¯ç™»å½•ã€å¼¹å‡ºå±‚ã€TABåˆ‡æ¢ç­‰å¸¸ç”¨ç»„ä»¶ã€‚ å®˜ç½‘é“¾æ¥ï¼š https://tgideas.qq.com/doc/ MACå…¨æ ˆå¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å— MACå…¨æ ˆå¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å— æ˜¯ç”± å‡¹å‡¸å®éªŒå®¤ æ•´ç†çš„ï¼Œé¢å‘äº’è”ç½‘å…¨æ ˆèŒä¸šçš„MACå¼€å‘ç¯å¢ƒæ­å»ºæŒ‡å¼•æ‰‹å†Œã€‚å®ƒå‡ ä¹æ¶µç›–äº†ä½¿ç”¨MACè¿›è¡Œäº’è”ç½‘å·¥ä½œçš„æ–¹æ–¹é¢é¢ï¼ŒåŒ…å«ä½†ä¸é™äºé€šç”¨ç¯å¢ƒé…ç½®ã€äº¤äº’åŠè®¾è®¡ã€å‰ç«¯å¼€å‘ã€åå°å¼€å‘ã€æµ‹è¯•ä»¥åŠéƒ¨ç½²ç­‰å„ä¸ªå·¥ä½œè§’è‰²ã€æµç¨‹æ­¥éª¤æ‰€éœ€è¦çš„å„ç§è½¯ä»¶å®‰è£…é…ç½®æŒ‡å¼•ï¼Œå¥‡æ·«æŠ€å·§ã€‚è€Œç›®çš„åªæœ‰ä¸€ä¸ªï¼šå¸¦ä½ ç”¨MACå¸¦ä½ è£…é€¼å¸¦ä½ é£ï¼ å®˜ç½‘é“¾æ¥ï¼šhttps://mac.aotu.io/docs/ CreateJS CreateJSæ˜¯åŸºäºHTML5å¼€å‘çš„ä¸€å¥—æ¨¡å—åŒ–çš„åº“å’Œå·¥å…·ã€‚ åŸºäºè¿™äº›åº“ï¼Œå¯ä»¥éå¸¸å¿«æ·åœ°å¼€å‘å‡ºåŸºäºHTML5çš„æ¸¸æˆã€åŠ¨ç”»å’Œäº¤äº’åº”ç”¨ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttp://www.createjs.cc/ ELF HTML5 æ„å»ºå·¥å…· ELF æ˜¯å‡¹å‡¸å®éªŒå®¤å‡ºå“çš„ä¸€å¥—é¢å‘å¼€å‘è€…çš„çµæ´»å¯æ‰©å±•çš„ HTML5 æ„å»ºå·¥å…·ï¼Œ å¯ç”¨æ¥åˆ¶ä½œå„ç§ HTML5 åœºæ™¯è¥é”€æ´»åŠ¨é¡µé¢ï¼› å®ƒåŸºäº Webpack è¿›è¡Œè‡ªåŠ¨åŒ–æ„å»ºï¼Œæä¾›åŸºç¡€åŠŸèƒ½ç»„ä»¶å’Œåˆå§‹åŒ–ç¤ºä¾‹æ¨¡æ¿ï¼› åˆ©ç”¨ ELF æä¾›çš„å‘½ä»¤è¡Œå·¥å…· elf-cliï¼Œå¼€å‘è€…å¯è‡ªç”±é€šè¿‡æ¨¡æ¿å’Œç»„ä»¶çš„ç»„åˆæ¥å¿«é€Ÿå®šåˆ¶å¼€å‘ HTML5 åœºæ™¯åº”ç”¨ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttps://elf.aotu.io/ FrozenUI FrozenUI æ˜¯ä¸€å¥—åŸºäºç§»åŠ¨ç«¯çš„ UI åº“ã€‚å®ƒéå¸¸è½»é‡ã€ç²¾ç¾ï¼Œéµä»æ‰‹æœº QQ è®¾è®¡è§„èŒƒï¼Œæä¾›äº†è¡¨å•ã€å¯¹è¯æ¡†ã€åˆ—è¡¨ç­‰å¸¸ç”¨ç»„ä»¶ã€‚æ­¤å¤–ï¼ŒFrozenUI è¿˜æä¾›æ–‡å­—æˆªæ–­ã€1pxè¾¹æ¡†ã€remã€ä¸¤ç«¯ç•™ç™½ç­‰å¸¸ç”¨åœºæ™¯çš„è§£å†³æ–¹æ¡ˆã€‚CSS åšå¾—æ›´æ¨¡å—åŒ–å’Œé¢—ç²’åŒ–ï¼Œä½¿ç”¨ sass ç¼–å†™ CSS ä»£ç ï¼Œä½ å®Œå…¨å¯ä»¥æŒ‰ç…§å®é™…æƒ…å†µæŒ‰éœ€åŠ è½½ã€‚ å®˜ç½‘é“¾æ¥ï¼š http://frozenui.github.io/ GitHubï¼šhttps://github.com/frozenui/frozenui iSparta iSpartaæ˜¯ PNG å‹ç¼©ä¸æ ¼å¼è½¬æ¢å·¥å…·ã€‚æä¾› PNG ç­‰å›¾ç‰‡æ ¼å¼çš„å›¾ç‰‡å‹ç¼©ï¼ŒPNG ç­‰æ ¼å¼å‘ APNG ã€WebP æ ¼å¼çš„è½¬æ¢ï¼ŒAPNG åŠ¨å›¾å‘åŠ¨æ€ WebP æ ¼å¼çš„è½¬æ¢ã€‚ å®˜ç½‘é“¾æ¥ï¼šhttp://isparta.github.io/index.html GitHubï¼šhttps://github.com/iSparta/iSparta ","link":"https://lingtin.github.io/post/EBzxgKBAR/"},{"title":"ä½¿ç”¨vscodeå‘å¸ƒæ’ä»¶","content":"ğŸ˜µ ä½¿ç”¨vscodeå‘å¸ƒæ’ä»¶ ğŸ˜µğŸ˜µ ä½¿ç”¨vscodeå‘å¸ƒæ’ä»¶ å½“ç„¶é»˜è®¤äº†æ˜¯å®‰è£…nodejsè·Ÿvscodeï¼Œè¿™é‡Œæˆ‘ç•¥è¿‡ã€‚ 1/æœ‰ä¸€ä¸ªå¾®è½¯çš„è´¦å· 2/ç™»å½•codeå¸‚åœº,åˆ›é€ ä¸€ä¸ªå›¢é˜Ÿ 3/åˆ›å»ºä¸€ä¸ª Personal Access token 4/å…¨å±€å®‰è£…vsceæ¨¡å— 5/github æ–°å»ºä¸€ä¸ªå¯¹åº”çš„ä»“åº“ 6/åˆ›å»ºé¡¹ç›® package.jsonç‰ˆæœ¬çš„ä¹¦å†™ 7/code snippets å¯¹åº”çš„json æ–‡ä»¶ 8/å¯¹åº”çš„é™æ€æ–‡ä»¶ç­‰(vsix) 9/å‘å¸ƒå‘å¸ƒåŒ…publish ç¬¬ä¸€æ­¥ï¼šåˆ›å»º å¾®è½¯è´¦å· å¾®è½¯codeç™»é™†é“¾æ¥ï¼šhttps://marketplace.visualstudio.com/ æ³¨å†Œå®Œè´¦å·åï¼Œæ‰“å¼€è‡ªå·±çš„ä¸ªäººä¸­å¿ƒ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ªå›¢é˜Ÿ 1ã€é€‰æ‹©å‘å¸ƒåˆ›å»º! ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä¸€ä¸ªPersonal Access tokenä»¤ç‰Œ æ³¨æ„æ³¨æ„: token ä»¤ç‰Œè¦ä¿ç•™, å‘å¸ƒçš„æ—¶å€™éœ€è¦ç”¨åˆ°ã€‚ ç¬¬å››æ­¥ï¼šå…¨å±€å®‰è£… vsce cmdçª—å£ ä½¿ç”¨å‘½ä»¤ npm install -g vsce vsce --help vsce Options: -V, --version output the version number -h, --help output usage information Commands: ls [options] åˆ—å‡ºå®é™…ä¼šå‘å¸ƒçš„æ–‡ä»¶åˆ—è¡¨ package [options] æ‰“åŒ…æˆä¸€ä¸ªæ’ä»¶ publish [options] [&lt;version&gt;] å‘å¸ƒæ’ä»¶ unpublish [options] [&lt;extensionid&gt;] æ’ä»¶ä¸‹æ¶ list &lt;publisher&gt; åˆ—å‡ºæŸä¸ªå‘å¸ƒè€…ä¸‹æ‰€æœ‰å‘å¸ƒçš„,éœ€è¦é…ç½®å¥½token é¢,ä¸ç„¶ä¼šæç¤ºè¾“å…¥ ls-publishers åˆ—å‡ºæ‰€æœ‰å·²çŸ¥çš„å‘å¸ƒè€… create-publisher &lt;publisher&gt; åˆ›å»ºä¸€ä¸ªæ–°çš„å‘å¸ƒè€… delete-publisher &lt;publisher&gt; åˆ é™¤ä¸€ä¸ªå‘å¸ƒè€… login &lt;publisher&gt; ç™»å½•ä¸€ä¸ªå‘å¸ƒè€…åˆ°å‘å¸ƒè€…åˆ—è¡¨ä¸­ logout &lt;publisher&gt; åä¹‹,é€€å‡ºå‘å¸ƒè€… ç¬¬äº”æ­¥ï¼šåœ¨githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ è¿™ä¸ªå°±ä¸å¤šè¯´äº† githubä¼ é€é—¨åœ°å€ https://github.com/ ç¬¬å…­æ­¥ï¼šé¡¹ç›®åˆ›å»º /package.jsonç‰ˆæœ¬çš„ä¹¦å†™ é¡¹ç›®åˆ›å»º vscode å›¢é˜Ÿï¼Œä¸ºæ’ä»¶å¼€å‘æä¾›äº†ä¸€ä¸ªå·¥å…·ã€‚ å…ˆå…¨å±€å®‰è£…è¿™ä¸ªï¼Œç„¶åæ‰§è¡Œ yo code æ¥å¼€å§‹æˆ‘ä»¬çš„å·¥ä½œã€‚ npm install -g yo generator-code åœ¨å®Œæˆä¸Šé¢çš„å®‰è£…åï¼Œå¯ä»¥é€šè¿‡æ‰§è¡Œå‘½ä»¤ yo code yo code é€šè¿‡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤å å¾—åˆ°å¦‚ä¸‹ è¾“å…¥æç¤ºé€‰æ‹© ï¼ˆ1ï¼‰åˆ›å»ºå“ªç§ç±»å‹çš„æ‰©å±•? ï¼ˆ2ï¼‰æ‰©å±•çš„åç§° ï¼ˆ3ï¼‰æ‰©å±•é¡¹ç›®çš„åç§°ï¼ˆé¡¹ç›®åˆ›å»ºçš„æ–‡ä»¶åç§°ç”¨è¿™ä¸ªï¼‰ ï¼ˆ4ï¼‰å¯¹è¿™ä¸ªæ‰©å±•çš„æè¿° ï¼ˆ5ï¼‰æ˜¯å¦å¯ç”¨ç±»å‹æ£€æŸ¥ ï¼ˆ6ï¼‰æ˜¯é—®ä½ è¦ä¸è¦åˆ›å»ºä¸€ä¸ªgitä»“åº“ç”¨äºç‰ˆæœ¬ç®¡ç† ï¼ˆ7ï¼‰ä½¿ç”¨å“ªä¸ªåŒ…ç®¡ç†å™¨ï¼ˆnpm &amp; yarn ï¼‰ ï¼ˆ5ï¼‰ä»¥åè¦å‘å¸ƒç”¨åˆ°çš„ä¸€åç§°ï¼ˆå’Œä»¥åå†å‘å¸ƒæ—¶å€™æœ‰ä¸€ä¸ªåå­—æ˜¯å¯¹åº”ä¸Šçš„ï¼‰ è¿™å‡ ä¸ªæè¿°éƒ½ä¼šåœ¨package.json è¿™ä¸ªæ–‡ä»¶é‡Œé¢æœ‰å¯¹åº”çš„å±æ€§æ¥è¡¨ç¤ºã€‚ { &quot;name&quot;: &quot;aa&quot;, //æ’ä»¶æ‰©å±•åç§°ï¼ˆå¯¹åº”åˆ›å»ºé¡¹ç›®æ—¶å€™çš„è¾“å…¥ï¼‰ &quot;displayName&quot;: &quot;&quot;, &quot;description&quot;: &quot;&quot;, //æ’ä»¶æ‰©å±•çš„æè¿°ï¼ˆå¯¹åº”åˆ›å»ºé¡¹ç›®æ—¶å€™çš„è¾“å…¥ï¼‰ &quot;version&quot;: &quot;0.0.1&quot;, &quot;publisher&quot;: &quot;&quot;, //å‘å¸ƒæ—¶å€™çš„ä¸€ä¸ªåç§°ï¼ˆå¯¹åº”åˆ›å»ºé¡¹ç›®æ—¶å€™çš„è¾“å…¥ï¼‰ &quot;engines&quot;: { &quot;vscode&quot;: &quot;^0.10.10&quot; }, &quot;categories&quot;: [ &quot;Other&quot; ], &quot;activationEvents&quot;: [ //è¿™æ˜¯æˆ‘ä»¬è¦ç†è§£çš„åœ°æ–¹ï¼Œæ˜¯è§¦å‘æ’ä»¶æ‰§è¡Œä¸€äº›ä»£ç çš„é…ç½® &quot;onCommand:extension.sayHello&quot; //è¿™ç§æ˜¯é€šè¿‡è¾“å…¥å‘½ä»¤æ¥è§¦å‘æ‰§è¡Œçš„ ], &quot;main&quot;: &quot;./out/src/extension&quot;, //è¿™ä¸ªæ˜¯é…ç½®TypeScriptç¼–è¯‘æˆjsçš„è¾“å‡ºç›®å½• &quot;contributes&quot;: { &quot;commands&quot;: [{ //title å’Œ commandæ˜¯ä¸€ä¸ªå¯¹åº”å…³ç³»çš„ &quot;command&quot;: &quot;extension.sayHello&quot;, //è¿™ä¸ªæ˜¯å¯¹åº”ä¸Šé¢é‚£ä¸ªå‘½ä»¤è§¦å‘çš„ï¼Œåœ¨ä»£ç é‡Œé¢ä¹Ÿè¦ç”¨åˆ° &quot;title&quot;: &quot;Hello World&quot; //è¿™ä¸ªæ˜¯æˆ‘ä»¬åœ¨vscodeé‡Œé¢è¾“å…¥çš„å‘½ä»¤ }] }, &quot;scripts&quot;: { //æ˜¯åœ¨å‘å¸ƒæ‰“åŒ…ï¼Œæˆ–è€…å…¶ä»–è¿è¡Œæ—¶å€™ï¼Œè¦æ‰§è¡Œçš„ä¸€äº›è„šæœ¬å‘½ä»¤ &quot;vscode:prepublish&quot;: &quot;node ./node_modules/vscode/bin/compile&quot;, &quot;compile&quot;: &quot;node ./node_modules/vscode/bin/compile -watch -p ./&quot;, &quot;postinstall&quot;: &quot;node ./node_modules/vscode/bin/install&quot; }, &quot;devDependencies&quot;: { //è¿™æ˜¯å¼€å‘çš„ä¾èµ–åŒ…ï¼Œå¦‚æœæœ‰å…¶ä»–çš„ä¾èµ–åŒ…ï¼Œå¹¶è¦æ‰“åŒ…çš„è¯ï¼Œéœ€è¦æŠŠdevå»æ‰ &quot;typescript&quot;: &quot;^3.3.1&quot;, &quot;vscode&quot;: &quot;^1.1.28&quot;, &quot;eslint&quot;: &quot;^5.13.0&quot;, &quot;@types/node&quot;: &quot;^10.12.21&quot;, &quot;@types/mocha&quot;: &quot;^2.2.42&quot; } } ä»‹ç»å®Œpackage.jsonåï¼Œæˆ‘å¯ä»¥æ¥çœ‹çœ‹ç›®å½•ã€‚ æˆ‘ä»¬å¯ä»¥æ¥è¿è¡Œä¸€ä¸‹çœ‹çœ‹æ•ˆæœå¦‚æœã€‚æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªvscodeå¹¶æŠŠæˆ‘ä»¬çš„ç›®å½•è‡ªå·±æ‹–æ‹‰åˆ°vscodeçš„ç•Œé¢ä¸Šï¼Œç„¶åé€‰æ‹©è°ƒè¯•çª—å£ï¼Œå¹¶ç‚¹å‡»å¼€å§‹è°ƒè¯• 8ã€å¯¹åº”çš„é™æ€æ–‡ä»¶ç­‰(vsix) æœ¬åœ°æ‰“åŒ…å¯¹åº”çš„vsix ï¼Œä½¿ç”¨ä¹‹å‰å®‰è£…çš„vsceæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š vsce package 9ã€å‘å¸ƒå‘å¸ƒåŒ…publish ä½¿ç”¨vsceä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ–°çš„å‘å¸ƒè€… vsce create-publisher your-publisher-name your-publisher-nameå¿…é¡»æ˜¯å­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼Œè¿™æ˜¯å…¨ç½‘å”¯ä¸€çš„è´¦å·ï¼Œç„¶åä¼šä¾æ¬¡è¦æ±‚è¾“å…¥æ˜µç§°ã€é‚®ç®±ã€ä»¤ç‰Œï¼š åˆ›å»ºæˆåŠŸåä¼šé»˜è®¤ç™»å½•è¿™ä¸ªè´¦å·ï¼Œæ¥ä¸‹æ¥ä½ å¯ä»¥ç›´æ¥å‘å¸ƒäº† å‘å¸ƒvsixï¼Œä½¿ç”¨å‘½ä»¤ vsce publish ","link":"https://lingtin.github.io/post/MkNncIB5J/"},{"title":"Linuxä¸‹ä½¿ç”¨nvmå®‰è£…nodeæ–¹æ³•","content":"ğŸ˜Š node nvmå®‰è£…æ–¹æ³• ğŸ˜ŠğŸ˜Š nvm å®‰è£…æ–¹æ³• ç¬¬ä¸€ç§å®‰è£…æ–¹æ³•ï¼š å®‰è£…nodejs ï¼š sudo apt-get install nodejs è¿è¡Œ nodejs -v ä¼šå¼¹å‡ºå®‰è£…nodeçš„ç‰ˆæœ¬å· è¿™é‡Œä½¿ç”¨çš„æ˜¯ nodejs å¹¶ä¸æ˜¯å¸¸ç”¨çš„node ï¼Œå¯ä»¥é€šè¿‡ sudo ln -s /usr/bin/nodejs /usr/bin/node å‘½ä»¤è®©nodeä¸nodejs å»ºç«‹è½¯è¿æ¥ï¼Œæ¥ç€å°±å¯ä»¥ä½¿ç”¨ nodeå‘½ä»¤ å®‰è£…npm: sudo apt-get install npm æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ: npm -v å¼¹å‡ºå®‰è£…çš„ç‰ˆæœ¬å·ï¼Œå³å¯è¯æ˜å®‰è£…æˆåŠŸ ç¬¬äºŒç§å®‰è£…æ–¹æ³•ï¼š å…ˆå®‰è£…ï¼Œnvmï¼Œå³æ˜¯Node Version Manager(Nodeç‰ˆæœ¬ç®¡ç†å™¨) curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash æˆ–è€…ä½¿ç”¨ wget wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash ä¹‹åéœ€è¦æ¿€æ´»nvm: $ source ~/.nvm/nvm.sh æ¿€æ´»å®Œæˆåï¼Œå®‰è£…node nvm install node å®‰è£…å®Œæˆåï¼Œåˆ‡æ¢åˆ°è¯¥ç‰ˆæœ¬ nvm use node è¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„èŠ‚ç‚¹ï¼š nvm install 6.14.4 ï¼ƒæˆ–10.10.0,8.9.1ç­‰ å®‰è£…çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬æˆä¸ºé»˜è®¤ç‰ˆæœ¬ã€‚æ–°shellå°†ä»¥èŠ‚ç‚¹çš„é»˜è®¤ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œnvm alias defaultï¼‰å¼€å§‹ã€‚ å¯ä»¥ä½¿ç”¨ls-remoteåˆ—å‡ºå¯ç”¨ç‰ˆæœ¬ï¼š nvm ls-remote ç„¶ååœ¨ä»»ä½•æ–°çš„shellä¸­åªä½¿ç”¨å·²å®‰è£…çš„ç‰ˆæœ¬ï¼š nvmä½¿ç”¨èŠ‚ç‚¹ æˆ–è€…ä½ å¯ä»¥è¿è¡Œå®ƒï¼š nvm run node --version æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ‰€éœ€çš„èŠ‚ç‚¹ç‰ˆæœ¬åœ¨å­shellä¸­è¿è¡Œä»»æ„å‘½ä»¤ï¼š nvm exec 4.2 node --version å…·ä½“è¯¦æƒ…è¯·çœ‹githubåœ°å€ https://github.com/nvm-sh/nvm æ€»ç»“ï¼š ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç¬¬äºŒç§æ–¹å¼ï¼Œç¬¬äºŒç§æ–¹å¼ä¼šå®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ï¼Œè€Œä¸”å¯ä»¥å¯ä»¥é€šè¿‡nvmå¯ä»¥ä»»æ„åˆ‡æ¢nodeçš„ç‰ˆæœ¬ ","link":"https://lingtin.github.io/post/zKyKiHlvG/"},{"title":"Contoså®‰è£…yum","content":"ğŸºğŸº (^âˆ’)â˜† Contoså®‰è£…yum ğŸ•ğŸ• (^âˆ’)â˜† Contoså®‰è£…yum 1ã€åˆ é™¤ç°æœ‰Python [root@test ~]# rpm -qa|grep python|xargs rpm -ev --allmatches --nodeps ##å¼ºåˆ¶åˆ é™¤å·²å®‰è£…ç¨‹åºåŠå…¶å…³è” [root@test ~]# whereis python |xargs rm -frv ##åˆ é™¤æ‰€æœ‰æ®‹ä½™æ–‡ä»¶ ##xargsï¼Œå…è®¸ä½ å¯¹è¾“å‡ºæ‰§è¡Œå…¶ä»–æŸäº›å‘½ä»¤ [root@test ~]# whereis python ##éªŒè¯åˆ é™¤ï¼Œè¿”å›æ— ç»“æœ 2ã€åˆ é™¤ç°æœ‰çš„yum [root@test ~]# rpm -qa|grep yum|xargs rpm -ev --allmatches --nodeps [root@test ~]# whereis yum |xargs rm -frv 3ã€ä»http://mirrors.ustc.edu.cn/centos/6.4/os/x86_64/Packages/ä¸‹è½½ç›¸åº”çš„åŒ… python-2.6.6-36.el6.x86_64.rpm python-devel-2.6.6-36.el6.x86_64.rpm python-libs-2.6.6-36.el6.x86_64.rpm python-pycurl-7.19.0-8.el6.x86_64.rpm python-setuptools-0.6.10-3.el6.noarch.rpm python-urlgrabber-3.9.1-8.el6.noarch.rpm python-iniparse-0.3.1-2.1.el6.noarch.rpm rpm-python-4.8.0-32.el6.x86_64.rpm yum-3.2.29-40.el6.centos.noarch.rpm yum-metadata-parser-1.1.2-16.el6.x86_64.rpm yum-utils-1.1.30-14.el6.noarch.rpm yum-plugin-fastestmirror-1.1.30-14.el6.noarch.rpm yum-plugin-protectbase-1.1.30-14.el6.noarch.rpm yum-plugin-aliases-1.1.30-14.el6.noarch.rpm yum-plugin-downloadonly-1.1.30-14.el6.noarch.rpm ç”±äºæºä¸­ç‰ˆæœ¬ä¼šæ›´æ–°ï¼Œå…·ä½“è¯·æŸ¥çœ‹URLä¸­çš„ç‰ˆæœ¬å†ä¸‹è½½ä¸‹æ¥ï¼ [root@test ~]# rpm -Uvh --replacepkgs python*.rpm [root@test ~]# rpm -Uvh --replacepkgs rpm-python*.rpm yum*.rpm å¯èƒ½ä¹‹é—´è¿˜éœ€è¦zlibå’Œzlib-develåŒ…ï¼Œæ ¹æ®æƒ…å†µä¸‹è½½å¹¶å®‰è£…ï¼ å·¥ä½œä¸­ï¼Œæ­å»ºLinuxæµ‹è¯•ç¯å¢ƒå°‘ä¸äº†å®‰è£…ä¸€ç³»åˆ—è½¯ä»¶ï¼›ä¸ºäº†å®ç°ç®€æ˜“å®‰è£…è½¯ä»¶ï¼Œå¿…é¡»å…ˆè£…å¥½yumã€‚ ã€å®‰è£…ç¯å¢ƒã€‘ ç‰©ç†æœºæ“ä½œç³»ç»Ÿï¼šWin7x64 è™šæ‹Ÿæœºï¼šVMware Workstation ç‰ˆæœ¬10.0.3 Linuxé•œåƒï¼šCentOS-7-x86_64-DVD-1611.iso å®‰è£…CentOS-7æ•™ç¨‹ï¼šhttp://www.centoscn.com/image-text/setup/2014/0723/3341.html ã€å®‰è£…æ­¥éª¤ã€‘ï¼ˆä¿®æ”¹ç‰ˆ20170324ï¼‰ 1.æ£€æŸ¥æ˜¯å¦å®‰è£…yumåŒ… æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†yumï¼Œè‹¥æ˜¯å®‰è£…äº†ï¼Œé‚£ä¹ˆåˆæœ‰å“ªäº›yumåŒ…ï¼š [root@localhost~]# rpm -qa |grep yum 2.åˆ é™¤åŸæœ‰çš„yum [root@localhost~]#rpm -aq|grep yum|xargs rpm -e â€“nodeps 3.è¿›å…¥ä¸“é—¨å­˜æ”¾ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ [root@localhost~]# cd /usr/local/src 4.ä¸‹è½½å®‰è£…ä¾èµ–åŒ…python python-iniparse ä¸‹è½½åœ°å€http://mirrors.163.com/centos/7/os/x86_64/Packages/ ï¼ˆè¿›åº¦æ¡æ˜¾ç¤º100%è¡¨ç¤ºå·²ä¸‹è½½å®Œï¼‰ [root@localhost src]# wget http://mirrors.163.com/centos/7/os/x86_64/Packages/python-2.7.5-48.el7.x86_64.rpm [root@localhost src]#wget http://mirrors.163.com/centos/7/os/x86_64/Packages/python-iniparse-0.4-9.el7.noarch.rpm 5.å®‰è£…ä¾èµ–åŒ… #rpm â€“ivh python-2.7.5-48.el7.x86_64.rpm python-iniparse-0.4-9.el7.noarch.rpm 6.ä¸‹è½½yumå®‰è£…æ–‡ä»¶ #wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-3.4.3-150.el7.centos.noarch.rpm #wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm #wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-40.el7.noarch.rpm #wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-updateonboot-1.1.31-40.el7.noarch.rpm #wget http://mirrors.163.com/centos/7/os/x86_64/Packages/yum-utils-1.1.31-40.el7.noarch.rpm 7.å®‰è£…yum ç†è®ºä¸Šè¿è¡Œï¼š rpm -ivh yum-* --nodeps --force ï¼ˆå®é™…ä¸Šï¼Œå› ä¸ºç›®å½•ä¸‹æœ‰å‡ ä¸ªå…¶ä»–ç‰ˆæœ¬çš„yumæ–‡ä»¶ï¼Œæ‰€ä»¥æ˜¯ç›´æ¥ç½—åˆ—å‡ºè¦å®‰è£…çš„é‚£å‡ ä¸ªï¼Œè¿è¡Œå‘½ä»¤ï¼š #rpm -ivh yum-3.4.3-150.el7.centos.noarch.rpm yum-metadata-parser-1.1.4-10.el7.x86_64.rpm yum-plugin-fastestmirror-1.1.31-40.el7.noarch.rpm yum-updateonboot-1.1.31-40.el7.noarch.rpm yum-utils-1.1.31-40.el7.noarch.rpm --nodeps --force --nodepsï¼šä¸éªŒè¯åŒ…ä¾èµ– --forceï¼š--replacepkgs--replacefilesçš„ç¼©å†™ --replacefilesï¼šå¿½ç•¥è½¯ä»¶åŒ…ä¹‹é—´çš„å†²çªçš„æ–‡ä»¶ --replacepkgsï¼šå¦‚æœè½¯ä»¶åŒ…å·²ç»æœ‰äº†ï¼Œé‡æ–°å®‰è£…è½¯ä»¶åŒ… 8.æ›´æ”¹yumæºCentOS-Base.repo å¤‡ä»½åŸæ–‡ä»¶ mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup ä¸‹è½½é…ç½®æ–‡ä»¶ wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo ç¼–è¾‘é…ç½®æ–‡ä»¶ ï¼ˆæ‰€æœ‰$releaseveræ›¿æ¢æˆ7ï¼ˆå› ä¸ºcentosç‰ˆæœ¬ä¸º7ï¼‰ï¼›ï¼‰ [root@localhost ~]# cd /etc/yum.repos.d [root@localhost yum.repos.d]# sed -i 's/$releasever/7/g' CentOS-Base.repo 9.æ˜¾ç¤ºå·²é…ç½®çš„æº [root@localhost ~]# yum repolist æ›´æ–°æœ¬åœ°è½¯ä»¶åº“åˆ—è¡¨ 10.ç”Ÿæˆyumç¼“å­˜ [root@localhost ~]# yum clean all [root@localhost ~]# yum makecache 11.æµ‹è¯• #yum list python æ˜¾ç¤ºå‡ºpythonå®‰è£…åŒ…ä¿¡æ¯ï¼Œåˆ™yumå®‰è£…æˆåŠŸã€‚ Noteï¼šæœ‰æ—¶å€™è¿è¡Œyumå‘½ä»¤ä¼šæŠ¥é”™ï¼Œå¤åˆ¶é»è´´è¿è¡Œå¤šä¸€æ¬¡å³å¯ã€‚ yumå®‰è£…å®‰è£…epelæ‰©å±•æº yumå®‰è£…python-pip å®‰è£…æ—¥å¿— -----ã€2018/3/11ï¼šå®‰è£…æˆåŠŸã€‘----- ä¹‹å‰æ€»ç»“çš„å¤±è´¥åŸå› ä¸å¯¹ï¼Œæ­£ç¡®çš„åŸå› æ˜¯ï¼šâ‘ å®‰è£…åŒ…çš„ç‰ˆæœ¬ä¸‹è½½é”™ï¼›â‘¡å®‰è£…åŒ…æ²¡ä¸‹è½½å¤Ÿï¼›â‘¢viæ–‡ä»¶æ²¡å…¨éƒ¨æ­£ç¡®æ›¿æ¢ã€‚ä¸»è¦åšäº†å¦‚ä¸‹æ›´æ­£ï¼š ï¼ˆ1ï¼‰å¢åŠ ä¸‹è½½å’Œå®‰è£…ä¸¤ä¸ªyumæ–‡ä»¶yum-updateonboot-1.1.31-40.el7.noarch.rpmå’Œyum-utils-1.1.31-40.el7.noarch.rpmï¼› ï¼ˆ2ï¼‰ viæ–‡ä»¶CentOS-Base.repoæ—¶ï¼Œæ‰€æœ‰$releaseveræ›¿æ¢æˆ7ï¼ˆå› ä¸ºcentosç‰ˆæœ¬ä¸º7ï¼‰ï¼› ï¼ˆ3ï¼‰æ‰€æœ‰å¦‚name=CentOS-$releasever - Base - 163.comï¼Œåé¢çš„- 163.comå»æ‰ï¼› ï¼ˆ4ï¼‰æ‰€æœ‰$basearchæ›¿æ¢æˆx86_64ï¼› ï¼ˆ5ï¼‰æ‰€æœ‰gpgcheck=1æ›¿æ¢æˆgpgcheck=0ï¼› ï¼ˆ6ï¼‰æœ«å°¾enabled=0æ›¿æ¢æˆenabled=1 -----ã€2017/3/24ï¼šçœŸæ­£å®‰è£…æˆåŠŸã€‘----- ç”¨yumå®‰è£…è½¯ä»¶çš„æ—¶å€™æŠ¥é”™â€œ Cannot find a valid baseurl for repo: extras/x86_64 &quot; åŸæ¥ä¸Šæ¬¡å®‰è£…yumæˆåŠŸæ˜¯ä¸€ä¸ªå‡è±¡ã€‚æ€»ç»“åŸå› ï¼šâ‘ yumæºçš„urlå¤±æ•ˆï¼›â‘¡yumæºæ²¡åœ¨çº¿æ›´æ–°ã€‚ä¸»è¦åšäº†å¦‚ä¸‹æ›´æ­£ï¼š ï¼ˆ1ï¼‰æŠŠyumæºæ›´æ¢ä¸ºé˜¿é‡Œäº‘æºhttp://mirrors.aliyun.com/repo/ï¼› ï¼ˆ2ï¼‰è¿è¡Œyum repolistè§¦å‘yumåº“åœ¨çº¿æ›´æ–° ã€æ‰©å±•ã€‘åç»­ç”¨yumå‘½ä»¤å®‰è£…è½¯ä»¶å‰ï¼Œå»ºè®®å…ˆæ›´æ–°è½¯ä»¶åº“ sudo yum update ","link":"https://lingtin.github.io/post/UQtqEHM7_/"},{"title":"Mongodbè¿œç¨‹è¿æ¥","content":"ğŸ‘ Mongodbè¿œç¨‹è¿æ¥ ï¼ âœï¸ è¿æ¥åˆ°è‡ªå®šä¹‰çš„ç”¨æˆ·... ... 1.ä¿®æ”¹é…ç½®æ–‡ä»¶mongodb.conf å‘½ä»¤ï¼švim /etc/mongodb.conf æŠŠ bindip=127.0.0.1 è¿™ä¸€è¡Œæ³¨é‡Šæ‰ æˆ–è€…æ˜¯ä¿®æ”¹æˆ bindip=0.0.0.0 2.é‡å¯mongodbæœåŠ¡ å‘½ä»¤ï¼šsystemctl restart mongod.service 2.1é˜²ç«å¢™å¼€æ”¾27017ç«¯å£ å‘½ä»¤ï¼šiptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 27017 -j ACCEPT 3.è¿œç¨‹è¿æ¥ è¦è¿æ¥çš„IPï¼šxxx.xxx.xxx.xx å‘½ä»¤ï¼šmongo xxx.xxx.xxx.xx:27017 è¿™æ ·å°±å¯ä»¥è¿æ¥åˆ°xxx.xxx.xxx.xx(ä½ çš„ip)çš„mongodb/çš„æ•°æ®åº“ è¿æ¥åˆ°è‡ªå®šä¹‰çš„ç”¨æˆ·Ã—Ã— 1.å¢åŠ  use admin switched to db admin db.addUser('username','password') 2.è¿œç¨‹è¿æ¥ å‘½ä»¤ï¼š mongo xxx.xxx.xxx.xx:27017/admin -uusername -p è¾“å…¥passwordå³å¯ ","link":"https://lingtin.github.io/post/DCC1RrEDv/"}]}